!function(t){function e(t){var e=void 0,i=[];return t.split("\n").filter(function(t){return t.match(/\S/)}).forEach(function(t){void 0===e?e=t.split(","):i.push(t.split(",").map(function(t){return Number(t)}))}),{names:e,values:i}}function i(i,r,n,a,s){t.ajax({url:r+i+"_"+n+"/"+a+".csv",dataType:"text",success:function(t){s(e(t))}})}function r(t,e,r,n){i(t,e,"der",r,function(a){i(t,e,"hist_der",r,function(t){n(a,t)})})}function n(t,e,i,r,n){return{horizontalaxis:{year:t},verticalaxis:{temp:[e,i]},style:"band",options:{fillcolor:r,fillopacity:n,linewidth:0}}}function a(t,e,i){return{horizontalaxis:{year:t},verticalaxis:{temp:e},style:"line",options:{linecolor:i,linewidth:2}}}function s(e,i,r){var s=[{variables:i.names.map(function(t){return{id:t}}),values:i.values},{variables:e.names.map(function(t){return{id:t}}),values:e.values}];s[0].variables[0].id="historical_year";var l=[];l.push(n("historical_year","historical_min","historical_max","#cccccc",.7)),o.rcp85&&l.push(n("year","rcp85_min","rcp85_max","#ffcccc",1)),o.rcp60&&l.push(n("year","rcp60_min","rcp60_max","#ffccff",.5)),o.rcp45&&l.push(n("year","rcp45_min","rcp45_max","#ccccff",.5)),o.rcp26&&l.push(n("year","rcp26_min","rcp26_max","#ccffcc",.5)),l.push(a("historical_year","historical_mean","#000000")),o.rcp85&&l.push(a("year","rcp85_mean","#ff0000")),o.rcp60&&l.push(a("year","rcp60_mean","#ff66ff")),o.rcp45&&l.push(a("year","rcp45_mean","#0000ff")),o.rcp26&&l.push(a("year","rcp26_mean","#00ff00"));var u=t.extend({},h,{data:s,plots:l});return u.verticalaxis.min=r.min,u.verticalaxis.max=r.max,u}t.widget("nemac.climateWidget",{options:{variable:"",fips:"",dataDir:"http://climate-widget.nemac.org/data/county-data/10dayrolling/"},_create:function(){var e=this,i=this.options;r(i.variable,i.dataDir,i.fips,function(r,n){var a=s(r,n,l[i.variable]);t(".errorDisplayDetails").remove(),e.element.empty(),e.element.append("<div class='graph' style='width: 100%; height: 100%;'></div>"),e.element.find("div.graph").multigraph({muglString:a})})}});var o={rcp85:!0,rcp60:!1,rcp45:!0,rcp26:!1},l={US_Counties_cooling_degree_day_cmip5:{min:0,max:3800},US_Counties_heating_degree_day_cmip5:{min:0,max:5300},US_Counties_days_prcp_abv_cmip5:{min:0,max:10},US_Counties_days_tmax_abv_cmip5:{min:0,max:200},US_Counties_days_tmin_blw_cmip5:{min:0,max:130},US_Counties_growing_degree_day_cmip5:{min:0,max:4500},US_Counties_growing_season_lngth_cmip5:{min:200,max:370},US_Counties_longest_run_prcp_blw_cmip5:{min:330,max:370},US_Counties_longest_run_tmax_abv_cmip5:{min:0,max:100}},h={legend:!1,horizontalaxis:{id:"year",min:1950,max:2100,title:!1,labels:{label:[{format:"%1d",spacing:[100,50,20,10,5,2,1]}]}},verticalaxis:{id:"temp",min:0,max:2e3,title:!1,labels:{label:[{format:"%1d",spacing:[1e4,5e3,2e3,1e3,500,200,100,50,20,10,5,2,1]}]}}};!function u(t,e,i){function r(a,s){if(!e[a]){if(!t[a]){var o="function"==typeof require&&require;if(!s&&o)return o(a,!0);if(n)return n(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var h=e[a]={exports:{}};t[a][0].call(h.exports,function(e){var i=t[a][1][e];return r(i?i:e)},h,h.exports,u,t,e,i)}return e[a].exports}for(var n="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,i){!function(t){t.ajaxthrottle=function(e){var i,r=t.extend({numRequestsPerTimePeriod:0,timePeriod:0,maxConcurrent:1},e),n=function(){return(new Date).getTime()},a=[],s=[],o=[],l=function(t){if(r.timePeriod>=0){for(;s.length>0&&s[0].time+r.timePeriod-t<=0;)s.shift();if(s.length>0)return s[0].time+r.timePeriod-t}return 0},h=function(e){t.each(a,function(t){return a[t]===e?(a.splice(t,1),!1):!0})},u=function(){var e,c,d=n();if(!(o.length<=0))return e=l(d),r.numRequestsPerTimePeriod>0&&r.timePeriod>0&&e>0&&s.length>=r.numRequestsPerTimePeriod?(void 0!==i&&clearTimeout(i),void(i=setTimeout(function(){i=void 0,u()},e))):void(r.maxConcurrent>0&&a.length>=r.maxConcurrent||(c=o.shift(),c.time=n(),s.push(c),a.push(c),t.ajax.apply(t,c.arguments).done(function(){c.deferred.resolve.apply(c.deferred,arguments)}).fail(function(){c.deferred.reject.apply(c.deferred,arguments)}).always(function(){h(c),u()})))};return{ajax:function(){var e=t.Deferred();return o.push({arguments:arguments,deferred:e}),u(),e.promise()}}}}(jQuery)},{}],2:[function(t,e,i){!function(t){"use strict";var e={on:function(e){return void 0===e?t(this).data("busy_spinner").on:this.each(function(){return e?(t(this).data("busy_spinner").on=!0,t(this).data("busy_spinner").level=1,t(this).show()):(t(this).data("busy_spinner").on=!1,t(this).data("busy_spinner").level=0,t(this).hide()),this})},level:function(e){return void 0===e?t(this).data("busy_spinner").level:this.each(function(){return t(this).data("busy_spinner").level+e>=0&&(t(this).data("busy_spinner").level=t(this).data("busy_spinner").level+e,1===t(this).data("busy_spinner").level?t(this).busy_spinner("on",!0):0===t(this).data("busy_spinner").level&&t(this).busy_spinner("on",!1)),this})},init:function(e){return this.each(function(){var i=t(this),r=i.data("busy_spinner"),n=t.extend({on:!1},e);return r||(i.data("busy_spinner",{on:n.on,level:0}),n.on?t(this).show():t(this).hide(),t(this).css({width:32,height:32}).append(t('<img src="data:image/gif;base64,R0lGODlhIAAgAPMAAP///wAAAMbGxoSEhLa2tpqamjY2NlZWVtjY2OTk5Ly8vB4eHgQEBAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAIAAgAAAE5xDISWlhperN52JLhSSdRgwVo1ICQZRUsiwHpTJT4iowNS8vyW2icCF6k8HMMBkCEDskxTBDAZwuAkkqIfxIQyhBQBFvAQSDITM5VDW6XNE4KagNh6Bgwe60smQUB3d4Rz1ZBApnFASDd0hihh12BkE9kjAJVlycXIg7CQIFA6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YJvpJivxNaGmLHT0VnOgSYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ/V/nmOM82XiHRLYKhKP1oZmADdEAAAh+QQJCgAAACwAAAAAIAAgAAAE6hDISWlZpOrNp1lGNRSdRpDUolIGw5RUYhhHukqFu8DsrEyqnWThGvAmhVlteBvojpTDDBUEIFwMFBRAmBkSgOrBFZogCASwBDEY/CZSg7GSE0gSCjQBMVG023xWBhklAnoEdhQEfyNqMIcKjhRsjEdnezB+A4k8gTwJhFuiW4dokXiloUepBAp5qaKpp6+Ho7aWW54wl7obvEe0kRuoplCGepwSx2jJvqHEmGt6whJpGpfJCHmOoNHKaHx61WiSR92E4lbFoq+B6QDtuetcaBPnW6+O7wDHpIiK9SaVK5GgV543tzjgGcghAgAh+QQJCgAAACwAAAAAIAAgAAAE7hDISSkxpOrN5zFHNWRdhSiVoVLHspRUMoyUakyEe8PTPCATW9A14E0UvuAKMNAZKYUZCiBMuBakSQKG8G2FzUWox2AUtAQFcBKlVQoLgQReZhQlCIJesQXI5B0CBnUMOxMCenoCfTCEWBsJColTMANldx15BGs8B5wlCZ9Po6OJkwmRpnqkqnuSrayqfKmqpLajoiW5HJq7FL1Gr2mMMcKUMIiJgIemy7xZtJsTmsM4xHiKv5KMCXqfyUCJEonXPN2rAOIAmsfB3uPoAK++G+w48edZPK+M6hLJpQg484enXIdQFSS1u6UhksENEQAAIfkECQoAAAAsAAAAACAAIAAABOcQyEmpGKLqzWcZRVUQnZYg1aBSh2GUVEIQ2aQOE+G+cD4ntpWkZQj1JIiZIogDFFyHI0UxQwFugMSOFIPJftfVAEoZLBbcLEFhlQiqGp1Vd140AUklUN3eCA51C1EWMzMCezCBBmkxVIVHBWd3HHl9JQOIJSdSnJ0TDKChCwUJjoWMPaGqDKannasMo6WnM562R5YluZRwur0wpgqZE7NKUm+FNRPIhjBJxKZteWuIBMN4zRMIVIhffcgojwCF117i4nlLnY5ztRLsnOk+aV+oJY7V7m76PdkS4trKcdg0Zc0tTcKkRAAAIfkECQoAAAAsAAAAACAAIAAABO4QyEkpKqjqzScpRaVkXZWQEximw1BSCUEIlDohrft6cpKCk5xid5MNJTaAIkekKGQkWyKHkvhKsR7ARmitkAYDYRIbUQRQjWBwJRzChi9CRlBcY1UN4g0/VNB0AlcvcAYHRyZPdEQFYV8ccwR5HWxEJ02YmRMLnJ1xCYp0Y5idpQuhopmmC2KgojKasUQDk5BNAwwMOh2RtRq5uQuPZKGIJQIGwAwGf6I0JXMpC8C7kXWDBINFMxS4DKMAWVWAGYsAdNqW5uaRxkSKJOZKaU3tPOBZ4DuK2LATgJhkPJMgTwKCdFjyPHEnKxFCDhEAACH5BAkKAAAALAAAAAAgACAAAATzEMhJaVKp6s2nIkolIJ2WkBShpkVRWqqQrhLSEu9MZJKK9y1ZrqYK9WiClmvoUaF8gIQSNeF1Er4MNFn4SRSDARWroAIETg1iVwuHjYB1kYc1mwruwXKC9gmsJXliGxc+XiUCby9ydh1sOSdMkpMTBpaXBzsfhoc5l58Gm5yToAaZhaOUqjkDgCWNHAULCwOLaTmzswadEqggQwgHuQsHIoZCHQMMQgQGubVEcxOPFAcMDAYUA85eWARmfSRQCdcMe0zeP1AAygwLlJtPNAAL19DARdPzBOWSm1brJBi45soRAWQAAkrQIykShQ9wVhHCwCQCACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiRMDjI0Fd30/iI2UA5GSS5UDj2l6NoqgOgN4gksEBgYFf0FDqKgHnyZ9OX8HrgYHdHpcHQULXAS2qKpENRg7eAMLC7kTBaixUYFkKAzWAAnLC7FLVxLWDBLKCwaKTULgEwbLA4hJtOkSBNqITT3xEgfLpBtzE/jiuL04RGEBgwWhShRgQExHBAAh+QQJCgAAACwAAAAAIAAgAAAE7xDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfZiCqGk5dTESJeaOAlClzsJsqwiJwiqnFrb2nS9kmIcgEsjQydLiIlHehhpejaIjzh9eomSjZR+ipslWIRLAgMDOR2DOqKogTB9pCUJBagDBXR6XB0EBkIIsaRsGGMMAxoDBgYHTKJiUYEGDAzHC9EACcUGkIgFzgwZ0QsSBcXHiQvOwgDdEwfFs0sDzt4S6BK4xYjkDOzn0unFeBzOBijIm1Dgmg5YFQwsCMjp1oJ8LyIAACH5BAkKAAAALAAAAAAgACAAAATwEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GGl6NoiPOH16iZKNlH6KmyWFOggHhEEvAwwMA0N9GBsEC6amhnVcEwavDAazGwIDaH1ipaYLBUTCGgQDA8NdHz0FpqgTBwsLqAbWAAnIA4FWKdMLGdYGEgraigbT0OITBcg5QwPT4xLrROZL6AuQAPUS7bxLpoWidY0JtxLHKhwwMJBTHgPKdEQAACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GAULDJCRiXo1CpGXDJOUjY+Yip9DhToJA4RBLwMLCwVDfRgbBAaqqoZ1XBMHswsHtxtFaH1iqaoGNgAIxRpbFAgfPQSqpbgGBqUD1wBXeCYp1AYZ19JJOYgH1KwA4UBvQwXUBxPqVD9L3sbp2BNk2xvvFPJd+MFCN6HAAIKgNggY0KtEBAAh+QQJCgAAACwAAAAAIAAgAAAE6BDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfYIDMaAFdTESJeaEDAIMxYFqrOUaNW4E4ObYcCXaiBVEgULe0NJaxxtYksjh2NLkZISgDgJhHthkpU4mW6blRiYmZOlh4JWkDqILwUGBnE6TYEbCgevr0N1gH4At7gHiRpFaLNrrq8HNgAJA70AWxQIH1+vsYMDAzZQPC9VCNkDWUhGkuE5PxJNwiUK4UfLzOlD4WvzAHaoG9nxPi5d+jYUqfAhhykOFwJWiAAAIfkECQoAAAAsAAAAACAAIAAABPAQyElpUqnqzaciSoVkXVUMFaFSwlpOCcMYlErAavhOMnNLNo8KsZsMZItJEIDIFSkLGQoQTNhIsFehRww2CQLKF0tYGKYSg+ygsZIuNqJksKgbfgIGepNo2cIUB3V1B3IvNiBYNQaDSTtfhhx0CwVPI0UJe0+bm4g5VgcGoqOcnjmjqDSdnhgEoamcsZuXO1aWQy8KAwOAuTYYGwi7w5h+Kr0SJ8MFihpNbx+4Erq7BYBuzsdiH1jCAzoSfl0rVirNbRXlBBlLX+BP0XJLAPGzTkAuAOqb0WT5AH7OcdCm5B8TgRwSRKIHQtaLCwg1RAAAOwAAAAAAAAAAAA==" width="32" height="32" alt="ajax loading">'))),this})}};t.fn.busy_spinner=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?(t.error("Method "+i+" does not exist on jQuery.busy_spinner"),null):e.init.apply(this,arguments)}}(jQuery)},{}],3:[function(t,e,i){!function(t){"use strict";var e='<div class="errorDisplay"><span class="errorDisplayOptions"><button class="errorDisplayDetailsButton">See Details</button><a href="" class="errorDisplayXButton">&#10006;</a></span><span class="errorDisplayShortMessage"></span></div><span class="errorDisplayRetriever"></span>',i='<div class="errorDisplayDetails"><span class="errorDisplayOptions"><a href="" class="errorDisplayXButton">&#10006;</a></span><span class="errorDisplayFullMessageArea"></span></div>',r='<ul class="errorDisplayFullMessageList"></ul>',n={init:function(n){return this.each(function(){var a=t(this),s=a.data("errorDisplay"),o=t.extend({fontColor:"#ff0000",backgroundColor:"#ffffff",displayTime:1e3,indicatorColor:"#ff0000"},n);if(!s){a.append(e),a.find(".errorDisplay").width(a.width()-6);var l=t(i).appendTo(t("body")),h=t(r);t(l).find(".errorDisplayXButton").click(function(e){e.preventDefault(),t(l).find(".errorDisplayOptions").hide(),t(l).hide(),a.find(".errorDisplayRetriever").css("background-color",o.indicatorColor).show()}),a.data("errorDisplay",{detailDisplay:l,detailDisplayList:h,fontColor:o.fontColor,backgroundColor:o.backgroundColor,displayTime:o.displayTime,indicatorColor:o.indicatorColor}),a.find(".errorDisplayXButton").click(function(t){t.preventDefault(),a.find(".errorDisplayOptions").hide(),a.find(".errorDisplay").slideUp(o.displayTime,function(){a.find(".errorDisplayRetriever").show()})}),a.find(".errorDisplayDetailsButton").click(function(e){e.preventDefault(),a.find(".errorDisplay").off(),a.find(".errorDisplay").hide(),a.find(".errorDisplayRetriever").hide(),t(l).find(".errorDisplayFullMessageArea").empty().append(t(h)),t(l).find(".errorDisplayOptions").show(),t(l).show()})}return this})},displayError:function(e,i,r){return this.each(function(){var n=t(this),a=n.data("errorDisplay"),s=t.extend({fontColor:a.fontColor,backgroundColor:a.backgroundColor,displayTime:a.displayTime,indicatorColor:a.indicatorColor},r);n.find(".errorDisplayRetriever").hide(),n.find(".errorDisplayOptions").hide(),n.find(".errorDisplayShortMessage").css("color",s.fontColor),n.find(".errorDisplay").css("background-color",s.backgroundColor),n.find(".errorDisplayOptions").css("background-color",s.backgroundColor),n.find(".errorDisplayShortMessage").text(i),n.find(".errorDisplay").show(),n.find(".errorDisplayRetriever").css("background-color",s.indicatorColor),-1!=s.displayTime?n.find(".errorDisplay").slideUp(s.displayTime,function(){n.find(".errorDisplayRetriever").show()}):(n.find(".errorDisplayOptions").show(),n.find(".errorDisplay").show()),t(a.detailDisplayList).append(t("<li>"+e+"</li>").css("color",s.fontColor)),n.find(".errorDisplayRetriever").hover(function(t){t.preventDefault(),n.find(".errorDisplayOptions").hide(),n.find(".errorDisplayShortMessage").text(i).css("color",s.fontColor),n.find(".errorDisplay").slideDown(function(){n.find(".errorDisplayOptions").show(),n.find(".errorDisplay").mouseleave(function(t){t.preventDefault(),n.find(".errorDisplayOptions").hide(),n.find(".errorDisplay").slideUp(s.displayTime,function(){n.find(".errorDisplayRetriever").show()})})}),n.find(".errorDisplayRetriever").hide()})})}};t.fn.errorDisplay=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.errorDisplay"),null):n.init.apply(this,arguments)}}(jQuery),jQuery("head").append(jQuery("<style type=\"text/css\">.errorDisplay { font-family: Helvetica, sans-serif; color: #32446B; background-color: white; text-align: left; font-size: 12px; line-height: 12px; height: 45px; position: absolute; bottom: 0px; left: 0px; width: inherit; width: expression(this.parentNode.currentStyle['width']); border: solid; border-color: #A9BADE; border-style: ridge; display: none; } .errorDisplayRetriever{ height: 8px; background-color: #ff0000; border-top-right-radius: 10px; width: 8px; position: absolute; bottom: 0px; left: 0px; display: none; } .errorDisplayShortMessage{ overflow-x: hidden; overflow-y: hidden; white-space: nowrap; position: absolute; bottom: 0px; left: 0px; width: 95%; margin-top: 20px; margin-left: 10px; margin-bottom: 5px; } .errorDisplayXButton { text-decoration: none; font-size: 15px; margin-top: 2px; position: absolute; right: 3px; top: 0px; color: #4D68A3; } .errorDisplayDetailsButton { margin-left: 10px; margin-right: 10px; position: relative; } .errorDisplayDetails{ position: fixed; top: 25%; height: 100px; width: 75%; text-align: left; border: solid; border-color: #A9BADE; border-style: ridge; background-color: white; display: none; } .errorDisplayFullMessageArea { font-family: Helvetica, sans-serif; font-size: .833em; color: #32446B; height: 80px; width: inherit; width: expression(this.parentNode.currentStyle['width']); position: fixed; margin-top: 15px; } .errorDisplayFullMessageList { overflow: auto; white-space: nowrap; height: 80px; margin-top: 5px; } .errorDisplayOptions{ background-color: #FFFFFF; display: inline; } </style>"))},{}],4:[function(t,e,i){"use strict";var r=function(e){var i,n,a,s,o=t("./attr_list.js"),l=t("./validator.js"),h=[],u=this,c="invalid setter call for "+e,d=!1,p={};if(void 0===e||"string"!=typeof e)throw new Error("Attr: constructor requires a name parameter which must be a string");for(s=function(t){for(n=0;n<h.length;++n)h[n](t);return!0},this.validatesWith=function(t){if("function"==typeof t)return h.push(new l(t)),this;throw new Error("Attr: validator must be a function")},this.defaultsTo=function(t){return i=t,this},this.isReadOnly=function(){return d=!0,this},this.isWritable=function(){return d=!1,this},this.on=function(t,e){if("set"!==t&&"get"!==t)throw new Error("Attr: first argument to the 'on' method should be 'set' or 'get'");if("function"!=typeof e)throw new Error("Attr: second argument to the 'on' method should be a function");p[t]=e},this.name=function(){return e},this.validator=function(){return s},this.and=this,this.which=this,this.isImmutable=this.isReadOnly,this.isMutable=this.isWritable,this.clone=function(){var t,n;for(t=this instanceof o?new o(e):new r(e),n=0;n<h.length;++n)t.validatesWith(h[n]);return t.defaultsTo(i),d&&t.isImmutable(),t},this.addTo=function(t){var r,n;if(!t||"object"!=typeof t)throw new Error("Attr: addAttr method requires an object parameter");if(t[e]=function(i){var n;if(void 0!==i){if(d&&void 0!==r)throw new Error("cannot set the immutable property "+e+" after it has been set");if(!s(i))throw new Error(c);return n=r,r=i,void 0!==p.set&&p.set.call(t,i,n),t}return void 0!==p.get&&p.get.call(t,r),r},n="function"==typeof i?i():i,void 0!==n&&s(n))t[e](n);else if(void 0!==n&&!s(n))throw new Error("Attr: Default value of "+n+" does not pass validation for "+e)},a=function(t){u[t]=function(e){return h.push(l.getValidator(t)(e)),u}},n=0;n<l.validators().length;++n)a(l.validators()[n])};e.exports=r},{"./attr_list.js":5,"./validator.js":8}],5:[function(t,e,i){"use strict";var r=t("./attr.js"),n=function(t){var e=this,i={};r.call(this,t);var n=function(t,e){return function(){return t[e].apply(t,arguments)}};this.validateWith=this.validatesWith,this.defaultsTo=function(){},this.isImmutable=function(){},this.isMutable=function(){},this.eachOfWhich=this,this.on=function(t,e){if("add"!==t)throw new Error("AttrList: 'on' only responds to 'add' event");if("function"!=typeof e)throw new Error("AttrList: 'on' requires a listener function as the second parameter");i[t]=e},this.addTo=function(r){var a=[],s={};if(!r||"object"!=typeof r)throw new Error("AttrList: addTo method requires an object parameter");s.pop=n(a,"pop"),s.add=function(t){if(e.validator()(t))return a.push(t),void 0!==i.add&&i.add.call(r,t,s.size()),this;throw new Error(e.errorMessage())},s.replace=function(t,i){if("number"!=typeof t||parseInt(t,10)!==t)throw new Error("AttrList: replace method requires index parameter to be an integer");if(0>t||t>=this.size())throw new Error("AttrList: replace method index parameter out of bounds");if(!e.validator()(i))throw new Error(e.errorMessage());return a[t]=i,this},s.at=function(t){if(0>t||t>=this.size())throw new Error("AttrList: Index out of bounds");return a[t]},s.get=s.at,s.size=function(){return a.length},s.toJSON=function(t){var e,i=[];if(void 0!==t)for(e=0;e<t.length;++e)t[e].object===this&&(i=t[e].JSONrep);for(e=0;e<a.length;++e)a[e].toJSON?i.push(a[e].toJSON(t)):i.push(a[e]);return i},r[t]=function(){return s}}};n.prototype=new r("???"),e.exports=n},{"./attr.js":4}],6:[function(t,e,i){"use strict";var r=function(t,e){if(!t||"string"!=typeof t)throw new Error("Method: constructor requires a name parameter which must be a string");if(!e||"function"!=typeof e)throw new Error("Method: second parameter must be a function");this.addTo=function(i){if(!i||"object"!=typeof i)throw new Error("Method: addTo method requires an object parameter");i[t]=e}};e.exports=r},{}],7:[function(t,e,i){"use strict";t("../util/index_of.js");var r={},n=function(t){if("string"!=typeof t)throw new Error("Jermaine: argument to getModel must be a string");if(void 0===r[t])throw new Error("No model by the name of "+t+" found");return r[t]},a=function(t){var e,i=[];for(e in r)i.push(e);return i},s=function(e){var i,n,a,o,l,h,u={},c={},d=!0,p=[],f=[],g=[],m=t("./method.js"),v=t("./attr.js"),j=t("./attr_list.js"),b=t("../util/event_emitter.js"),w=function(){},y=function(){},x=function(){return d&&(x.validate(),l()),y.apply(this,arguments)};if(1===arguments.length&&"string"==typeof e&&(n=e,e=void 0),arguments.length>1&&(n=e,e=arguments[arguments.length-1]),e&&"function"==typeof e)return x=new s(n),e.call(x),x;if(e)throw new Error("Model: specification parameter must be a function");if(void 0!==n&&"string"==typeof n)r[n]=x;else if(void 0!==n)throw new Error("Model: model name must be a string");var A=function(t,e){var i,r,n;if(i="Attr"===t?v:j,r="Attr"===t?"hasA":"hasMany",d=!0,"string"==typeof e)return n=new i(e),c[e]=n,n;throw new Error("Model: "+r+" parameter must be a string")};return a=function(t,e){var i;if("string"!=typeof e)throw new Error("Model: expected string argument to "+t+" method, but recieved "+e);if(i="attribute"===t?c[e]:u[e],void 0===i)throw new Error("Model: "+t+" "+e+" does not exist!");return i},o=function(t){var e,i=[],r="attributes"===t?c:u;for(e in r)r.hasOwnProperty(e)&&i.push(e);return i},l=function(){y=function(){var t,e,r,n,a,s,o=x.attributes(),l=x.methods(),u=new b,d={},g=this;if(!(this instanceof x))return arguments.length>0?new x(arguments):new x;for(this.emitter=function(){return u},this.emitter().removeJermaineChangeListener=function(t,e){if("string"!=typeof t)throw new Error("attrName must be a string");if("object"!=typeof e||void 0===e.toJSON||void 0===e.emitter)throw new Error("obj must be a jermaine object");e.emitter().removeListener("change",d[t])},this.emitter().addJermaineChangeListener=function(e,i){if("string"!=typeof e)throw new Error("attrName must be a string");if("object"!=typeof i||void 0===i.toJSON||void 0===i.emitter)throw new Error("obj must be a jermaine object");void 0===d[e]&&(d[e]=function(i){var r=[],n=!0;for(t=0;t<i.length&&n===!0;++t)r.push(i[t]),i[t].origin===g&&(n=!1);n&&(r.push({key:e,origin:g}),g.emit("change",r))}),i.emitter().on("change",d[e])},this.on=this.emitter().on,this.emit=this.emitter().emit,this.toJSON=function(t){var e,i,r,n,a={};if(void 0===t)t=[],t.push({object:this,JSONrep:a});else{if("object"!=typeof t)throw new Error("Instance: toJSON should not take a parameter (unless called recursively)");for(i=0;i<t.length;++i)t[i].object===this&&(a=t[i].JSONrep)}for(i=0;i<o.length;++i){for(n=null,e=this[o[i]](),r=0;r<t.length;++r)t[r].object===e&&(n=t[r].JSONrep);void 0!==e&&null!==e&&void 0!==e.toJSON&&null===n&&(n=c[o[i]]instanceof j?[]:{},t.push({object:e,JSONrep:n}),t[t.length-1].JSONrep=e.toJSON(t)),null===n?a[o[i]]=e:a[o[i]]=n}return a},this.toString=void 0!==i?i:function(){return"Jermaine Model Instance"},s=function(t){t instanceof j?t.on("add",function(e,i){this.emit("change",[{action:"add",key:t.name(),value:e,origin:this}])}):t.on("set",function(e,i){if(void 0!==i&&null!==i&&void 0!==i.on&&void 0!==i.toJSON&&void 0!==i.emitter){if(i.emitter().listeners("change").length<1)throw new Error("preValue should always have a listener defined if it is a model");this.emitter().removeJermaineChangeListener(t.name(),i)}void 0!==e&&null!==e&&void 0!==e.on&&void 0!==e.toJSON&&void 0!==e.emitter&&this.emitter().addJermaineChangeListener(t.name(),e),this.emit("change",[{key:t.name(),value:e,origin:this}])})},t=0;t<o.length;++t)a=x.attribute(o[t]),s.call(this,a);for(t=0;t<o.length+l.length;++t)t<o.length?(h&&x.attribute(o[t]).isImmutable(),x.attribute(o[t]).addTo(this)):x.method(l[t-o.length]).addTo(this);if(arguments.length>0){if(arguments.length<p.length){for(r="Constructor requires ",t=0;t<p.length;++t)r+=p[t],r+=t===p.length-1?"":", ";throw r+=" to be specified",new Error(r)}if(arguments.length>p.length+f.length)throw new Error("Too many arguments to constructor. Expected "+p.length+" required arguments and "+f.length+" optional arguments");for(t=0;t<arguments.length;++t)if(n=t<p.length?p[t]:f[t-p.length],x.attribute(n)instanceof j){if("[object Array]"!==Object.prototype.toString.call(arguments[t]))throw new Error("Model: Constructor requires 'names' attribute to be set with an Array");for(e=0;e<arguments[t].length;++e)this[n]().add(arguments[t][e])}else this[n](arguments[t])}w.call(this)}},x.hasA=function(t){return A("Attr",t)},x.hasAn=x.hasA,x.hasSome=x.hasA,x.hasMany=function(t){return A("AttrList",t)},x.isA=function(t){var e,i,r,n;if(d=!0,n=function(t){var e,i=new s;for(e in i)if(i.hasOwnProperty(e)&&typeof t[e]!=typeof i[e])return!1;return!0},"function"!=typeof t||!n(t))throw new Error("Model: parameter sent to isA function must be a Model");if(0!==g.length)throw new Error("Model: Model only supports single inheritance at this time");for(g.push(t),i=g[0].attributes(),e=0;e<i.length;++e)void 0===c[i[e]]&&(c[i[e]]=g[0].attribute(i[e]).clone(),c[i[e]].isMutable());for(r=g[0].methods(),e=0;e<r.length;++e)void 0===u[r[e]]&&(u[r[e]]=g[0].method(r[e]));for(e=0;e<g.length;e++)x.prototype=new g[e]},x.isAn=x.isA,x.parent=function(){return g[0].apply(this,arguments)},x.attribute=function(t){return a("attribute",t)},x.attributes=function(){return o("attributes")},x.method=function(t){return a("method",t)},x.methods=function(){return o("methods")},x.isBuiltWith=function(){var t,e=!1;for(d=!0,p=[],f=[],t=0;t<arguments.length;++t)if("string"==typeof arguments[t]&&"%"!==arguments[t].charAt(0)){if(e)throw new Error("Model: isBuiltWith requires parameters preceded with a % to be the final parameters before the optional function");p.push(arguments[t])}else if("string"==typeof arguments[t]&&"%"===arguments[t].charAt(0))e=!0,f.push(arguments[t].slice(1));else{if("function"!=typeof arguments[t]||t!==arguments.length-1)throw new Error("Model: isBuiltWith parameters must be strings except for a function as the optional final parameter");w=arguments[t]}},x.isImmutable=function(){h=!0},x.looksLike=function(t){d=!0,i=t},x.respondsTo=function(t,e){var i=new m(t,e);d=!0,u[t]=i},x.validate=function(){var t,e=this.attributes(),i=this.methods();for(t=0;t<p.length;++t)try{this.attribute(p[t])}catch(r){throw new Error(p[t]+", specified in the isBuiltWith method, is not an attribute")}for(t=0;t<f.length;++t)try{this.attribute(f[t])}catch(r){throw new Error(f[t]+", specified in the isBuiltWith method, is not an attribute")}for(t=0;t<e.length;t++)if(i.indexOf(e[t])>-1)throw new Error("Model: invalid model specification to "+e[t]+" being both an attribute and method");if(h)for(t=0;t<e.length;t++)if(p.indexOf(e[t])<0)throw new Error("immutable objects must have all attributes required in a call to isBuiltWith");d=!1},x};s.getModel=n,s.getModels=a,e.exports=s},{"../util/event_emitter.js":10,"../util/index_of.js":11,"./attr.js":4,"./attr_list.js":5,"./method.js":6}],8:[function(t,e,i){"use strict";t("../util/index_of.js");var r=t("./model.js"),n={},a=function(t){var e=function(e){var i,r,n={};if(i=t.call(n,e),!i)throw r=n.message||"validator failed with parameter "+e,new Error(r);return i};return e};a.addValidator=function(t,e,i){if(void 0===t||"string"!=typeof t)throw new Error("addValidator requires a name to be specified as the first parameter");if(void 0===e||"function"!=typeof e)throw new Error("addValidator requires a function as the second parameter");if(void 0!==i&&"function"!=typeof i)throw new Error("addValidator third optional argument must be a function");if(void 0!==n[t])throw new Error("Validator '"+t+"' already defined");n[t]=function(r){if(void 0!==i&&!i(r))throw new Error("Validator: Invalid argument for "+t+" validator");return new a(function(t){var i={actual:t,param:t},n=e.call(i,r);return this.message=i.message,n})}},a.getValidator=function(t){var e;if(void 0===t)throw new Error("Validator: getValidator method requires a string parameter");if("string"!=typeof t)throw new Error("Validator: parameter to getValidator method must be a string");if(e=n[t],void 0===e)throw new Error("Validator: '"+t+"' does not exist");return e},a.validators=function(){var t,e=[];for(t in n)n.hasOwnProperty(t)&&e.push(t);return e},a.addValidator("isGreaterThan",function(t){return this.message=this.param+" should be greater than "+t,this.param>t}),a.addValidator("isLessThan",function(t){return this.message=this.param+" should be less than "+t,this.param<t}),a.addValidator("isOneOf",function(t){return this.message=this.param+" should be one of the set: "+t,t.indexOf(this.param)>-1}),a.addValidator("isA",function(t){var e=["string","number","boolean","function","object"],i=r.getModels();return"string"==typeof t&&e.indexOf(t)>-1?(this.message=this.param+" should be a "+t,typeof this.param===t):"string"==typeof t&&i.indexOf(t)>-1?(this.message="parameter should be an instance of "+t,this.param instanceof r.getModel(t)):"integer"===t?(void 0!==this.param.toString?this.message=this.param.toString()+" should be an integer":this.message="parameter should be an integer","number"==typeof this.param&&parseInt(this.param,10)===this.param):void 0},function(t){var e=["string","number","boolean","function","object","integer"].concat(r.getModels());return e.indexOf(t)>=0}),n.isAn=n.isA,e.exports=a},{"../util/index_of.js":11,"./model.js":7}],9:[function(t,e,i){t("./util/index_of.js");var r=t("./core/model.js");e.exports={Attr:t("./core/attr.js"),AttrList:t("./core/attr_list.js"),Model:r,getModel:r.getModel,getModels:r.getModels,Validator:t("./core/validator.js"),Method:t("./core/method.js"),util:{EventEmitter:t("./util/event_emitter.js"),namespace:t("./util/namespace.js")}}},{"./core/attr.js":4,"./core/attr_list.js":5,"./core/method.js":6,"./core/model.js":7,"./core/validator.js":8,"./util/event_emitter.js":10,"./util/index_of.js":11,"./util/namespace.js":12}],10:[function(t,e,i){"use strict";t("./index_of.js");var r=function(){var t=this,e={};return this.on=function(i,r){if("string"!=typeof i)throw new Error("EventEmitter: first argument to 'on' should be a string");if("function"!=typeof r)throw new Error("EventEmitter: second argument to 'on' should be a function");return e[i]||(e[i]=[]),e[i].push(r),t},this.addListener=this.on,this.once=function(e,i){var r=function(){i(arguments),t.removeListener(e,r)};return t.on(e,r),t},this.removeListener=function(i,r){var n;if("string"!=typeof i)throw new Error("EventEmitter: first parameter to removeListener method must be a string representing an event");if("function"!=typeof r)throw new Error("EventEmitter: second parameter must be a function to remove as an event listener");if(void 0===e[i]||0===e[i].length)throw new Error("EventEmitter: there are no listeners registered for the '"+i+"' event");return n=e[i].indexOf(r),-1!==n&&e[i].splice(n,1),t},this.removeAllListeners=function(i){if("string"!=typeof i)throw new Error("EventEmitter: parameter to removeAllListeners should be a string representing an event");return void 0!==e[i]&&(e[i]=[]),t},this.setMaxListeners=function(e){return t},this.listeners=function(t){if("string"!=typeof t)throw new Error("EventEmitter: listeners method must be called with the name of an event");return void 0===e[t]?[]:e[t]},this.emit=function(t,i){var r,n;for(arguments.length>1&&(n=[]),r=1;r<arguments.length;++r)n.push(arguments[r]);if(void 0!==e[t])for(r=0;r<e[t].length;r+=1)e[t][r].apply(this,n)},t};e.exports=r},{"./index_of.js":11}],11:[function(t,e,i){Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var r=0;if(arguments.length>0&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==1/0&&r!==-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=i)return-1;for(var n=r>=0?r:Math.max(i-Math.abs(r),0);i>n;n++)if(n in e&&e[n]===t)return n;return-1}),e.exports=void 0},{}],12:[function(t,e,i){e.exports=function r(t,e,i){var n,a,s,o=/^([a-zA-Z]+)(\.[a-zA-Z]*)*$/;if(null===t.match(o)||"window"===t)throw new Error("namespace: "+t+" is a malformed namespace string");if(void 0!==e&&void 0===i)if("function"==typeof e)i=e,e=void 0;else{if("object"==typeof e)throw new Error("namespace: if second argument exists, final function argument must exist");if("object"!=typeof e)throw new Error("namespace: second argument must be an object of aliased local namespaces")}else if("object"!=typeof e&&"function"==typeof i)throw new Error("namespace: second argument must be an object of aliased local namespaces");if(n=t.split("."),a="window"===n[0]?window:void 0===window[n[0]]?window[n[0]]={}:window[n[0]],void 0!==i&&"function"!=typeof i)throw new Error("namespace: last parameter must be a function that accepts a namespace parameter");for(s=1;s<n.length;s+=1)void 0===a[n[s]]&&(a[n[s]]={}),a=a[n[s]];if(void 0===e&&i)i(a);else if(i){for(s in e)e.hasOwnProperty(s)&&(e[s]=r(e[s]));i.call(e,a)}return a}},{}],13:[function(t,e,i){!function(t){function e(e){var i=e||window.event,r=[].slice.call(arguments,1),n=0,a=0,s=0;return e=t.event.fix(i),e.type="mousewheel",i.wheelDelta&&(n=i.wheelDelta/120),i.detail&&(n=-i.detail/3),s=n,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(s=0,a=-1*n),
void 0!==i.wheelDeltaY&&(s=i.wheelDeltaY/120),void 0!==i.wheelDeltaX&&(a=-1*i.wheelDeltaX/120),r.unshift(e,n,a,s),(t.event.dispatch||t.event.handle).apply(this,r)}var i=["DOMMouseScroll","mousewheel"];if(t.event.fixHooks)for(var r=i.length;r;)t.event.fixHooks[i[--r]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery)},{}],14:[function(t,e,i){!function(t){var e={fullscreen:!1,scale:!1,defaultEventHandling:!0,preopen:function(){},postopen:function(){},preclose:function(){},postclose:function(){},preresize:function(){},postresize:function(){}},i={open:function(){var e,i,s=this.clone(!0),o=this.data("lightbox");o.contents=s,o.preopen.call(this),s=o.contents;var l=s.data("lightbox");if(o.overlay=t("<div/>").css({position:"fixed",left:"0px",top:"0px",height:"100%","min-height":"100%",width:"100%","z-index":"9999","background-color":"black",opacity:"0.5"}).appendTo("body"),o.box=t("<div/>").css({position:"fixed","z-index":"9999"}).appendTo("body"),o.box.append(s),o.fullscreen===!0)e=window.innerWidth,i=window.innerHeight;else if(e=s.width(),i=s.height(),o.scale===!0){var h=r(e,i);e=parseInt(e*h,10),i=parseInt(i*h,10)}return n(o.box,e,i),a(o.box,e,i),n(s,e,i),a(s,e,i),s.css("position","fixed").css("z-index",9999),o.box.append(t('<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NkY4OUE4QUE2MDEyMTFFMkFBMEM4Q0Y2RTlFNkI4QzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NkY4OUE4QUI2MDEyMTFFMkFBMEM4Q0Y2RTlFNkI4QzEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2Rjg5QThBODYwMTIxMUUyQUEwQzhDRjZFOUU2QjhDMSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2Rjg5QThBOTYwMTIxMUUyQUEwQzhDRjZFOUU2QjhDMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvXC/ukAAAcjSURBVHjaxFlpTFVXEJ7HDrIIUkCRzYitQJQK/kBTxAop2EQhaqkEqjZqK9FGa+2Cf2pabdIlEbE0FEkTArFaF6CAKCCStG5BokXAglpUIkKqgn0KyNb5jve+PB9vfyyTfIF7373nzJkzZ76ZuYqRkRGyUKwYoYwQxqsMD4aj9FsPo4Nxg1HP6LR0Mhsz37NlxDNSGLHt7e2e9+/fpwcPHtDTp0/p+fPn4iFHR0eaOnUqTZ8+nQICAsjV1bWJb5cwChiN5kysMNHCsNwHjE+uXr3qe+nSJWpsbCSlUmnUyzNmzKDw8HCKiooiX1/fGr61l1E9XgonMjLPnDnjX1NTI6xpiURGRtLSpUspJCSklC8/YvwzVgo7M7Lr6+vTzp49S9evX6exlISEBEpOTsYWfcgotFRhX0ZFeXl52JEjR2i8JDg4mJYtWwZXyeTLjxnD5ig8m1F17NixgJKSEhpvsbGxoZSUFIqNjf2VL1MZQ6Yo7M34o7CwcPapU6doImXdunUUFxf3E/+bbqzCCFm1x48fjzpx4gRNhmzYsAGWxkHM0hb0NeWrioqKKFaYsJjJwOnTp6HH94zXDSkczth59OjRSVMWYCKi3NxcO9blZ4a1PqbL5AdtwFa6ZM6cOWRvb09WVlakUChU95uamlQMpynu7u4gCvEOIEtnZyd1dHRofaeqqopmzZoVydHjfb7M1aZwDLNWdGVlpV7/6u3tpSVLlgjKtbW1Vd338vKSt/IlsbOzE8w2c+ZMcnNzU73z5MkTOnToEOkLq0xSCHdf8L+/MAY1Fd6JCYeHh/Uq3NbWRq2trbR8+XJhOdlisCDyiWvXrr30/Pz588VvgYGB5OnpSdbWL3Y4MzOT9O0k5NatW3ThwoUgXnASX/6m7sNeSGYuXrxolI9hu27fvi1cYsqUKeTs7CyUx+n28PBQPRcUFERz584VOYSPjw+SH/FsbW0tMXMaNde5c+eg33uahy6JrWszMDAgLGwM8vPz6d69e9Tf3y8GgOW8vb1py5Yt4ncoFhERIRQFkLlhgTdv3hSuYOw8V65cwfBvMVzUFY5paGgwehDg0aNHxCwo/g4ODr4I4OyfsOiKFSsE/Pz8hHVhWbgO/H///v0mzQMjstJw/DfUFV7U3Nxscvipq6sjJEQ4QLLvI4KsWrVKWBd+CxcB7UI4AtHdu3dNnufGDeT/FCUfOieGX1dXF5lTfRQXFwtLQkH4s+zXcuiTla2urhan3hzBIllekxUO5BsKQ9FBlzx79owKCgrI399fuAQUhT/L0QACIsjLyyNzyzEp9w6SXcIVk5riV5qAQkg/u7u7aWhoaFTcRgh7/Pix2eNL4c9VtrCdHB0sEQz68OFDcnFxIScnJ9V9BwcHsQhLxpcikb1s4X5spSUWBiEsXLhQe8LNPr1t2zaxCHPHl9ixV1a4B4fE3EQFPsv5K02bNk0A16PKFmY65LnmzoFdYvlPdok2PuVwPGtzti0mJkZECeQKYDv1w6ZKsNlCWBQSJLCkqYJYztIqW7gPSoOlTF15aGioinrhFnJic/LkSVH+I3vDc3ALMN369euRgZk8DwzC8rc6cZznctskv0J2tnjx4lHU29LSIths3759In729fW9yAE4JuOd9PR0k304LCwMQ/yprnD1ggULTBoEPQX4JqyLyCBT765du8TvUDY7O1tQN6KQXGjCMBs3bjR6HrgYk1K/psLFCQkJ/RjQmC2CssjEoCz8VmazrKwsEdrk5y5fviyYsKenRxWfcSgTExPF7hgzF56T2lu96gp3Q2kcDEMrRsWBrg2UxRbLUYHrQCoqKhr1PFgQOTLISfZnhLitW7eK7M7QfPHxaOFRvraa7rukpCSD4YWrWeGzaPBhYiiANHPPnj0630M6CRfRTEW3b9+udz704djCaBqWayuR6vjElyUnJ799+PBhreEFHUhUG6BgHC45hCEh1xcSkezn5OTQvHnzVIuEIIpgx6RsbJTAgKji1TtBmn2JYMZfK1eudNBVHE6UrF27lnbs2IFy403GiK4yH8H5y7S0tEkt87ETrKxSau2OGGpof7t69eoYpVIZj1M/0YLqBAWA1M1sMabzgxW9y6zUsGnTpgm1LCIOiIVD7F5drVd93UsfRiUn3mEHDx4cd8siTIK616xZ8wM6/Ob2h90ZRRw1oqG0oT6CuRIdHU0HDhyAIp/DJS3twMPPv2Z8mpGRoSgrKxszRUHnaAts3ry5C01L9Xg7Ft84FjF+ZEYLRzkk9QvMbl7jYO3evRvxNY+Rwfh3PL4i4ZC+w/iMc9vw0tJStJJEc8SQ4ECBuZA/p6amDkitp28YJn00UVjwYTFCau3HcYEZCqXv3LkjEh18BkNuDFYDBaM/wSyK5OU843cGqLRrIr7T6ZJXpK+hwdKXUDcwLwPBv11KvpulYsEiGSuFJ0z+F2AAyCap34M2ukUAAAAASUVORK5CYII=" alt="close"/>').css({position:"absolute",right:"-9px",top:"-8px",width:"44px",height:"44px","z-index":"10000"}).click(function(){s.lightbox("close")})),l.contentWidth=e,l.contentHeight=i,l.opened=!0,l.resizeHandler=function(){s.lightbox("resize")},t(window).on("resize",l.resizeHandler),t(window).on("orientationchange",l.resizeHandler),o.postopen.call(this),this},close:function(){var e=this.data("lightbox");return e.preclose.call(this),t(window).off("resize",e.resizeHandler),t(window).off("orientationchange",e.resizeHandler),e.opened=!1,e.overlay.remove(),e.overlay=void 0,e.postclose.call(this),e.box.remove(),this},resize:function(){var t,e,i=this.data("lightbox");if(i.preresize.call(this),i.fullscreen===!0)t=window.innerWidth,e=window.innerHeight;else if(t=i.contentWidth,e=i.contentHeight,i.scale===!0){var s=r(t,e);t=parseInt(t*s,10),e=parseInt(e*s,10)}return n(i.box,t,e),a(i.box,t,e),n(i.contents,t,e),a(i.contents,t,e),i.contentWidth=t,i.contentHeight=e,i.postresize.call(this),this},toggle:function(){return this.data("lightbox").opened===!0?this.lightbox("close"):this.lightbox("open"),this},init:function(i){return this.each(function(){var r=t(this),n=r.data("lightbox");if(!n){var a=t.extend(e,i,{opened:!1});r.data("lightbox",a)}return r.data("lightbox").defaultEventHandling===!0&&r.on("touchstart",function(t){var e=t.timeStamp,i=r.data("lightbox").lastTouch||e,n=e-i,a=t.originalEvent.touches.length;r.data("lightbox").lastTouch=e,!n||n>500||a>1||(t.preventDefault(),r.lightbox("toggle"))}),this})}};t.fn.lightbox=function(e){return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.lightbox"),null):i.init.apply(this,arguments)};var r=function(t,e){var i=t>0?window.innerWidth/t:1,r=e>0?window.innerHeight/e:1,n=Math.min(i,r);return n},n=function(t,e,i){t.css("width",e+"px").css("height",i+"px")},a=function(t,e,i){var r=(window.innerWidth-e)/2,n=(window.innerHeight-i)/2;0>r&&(r=0),0>n&&(n=0),t.css("left",r+"px").css("top",n+"px")}}(jQuery)},{}],15:[function(t,e,i){!function(){"use strict";for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var r=(new Date).getTime(),n=Math.max(0,16-(r-t)),a=window.setTimeout(function(){e(r+n)},n);return t=r+n,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},{}],16:[function(t,e,i){var r=function(){function t(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function e(t,e){for(var i=[];e>0;i[--e]=t);return i.join("")}var i=function(){return i.cache.hasOwnProperty(arguments[0])||(i.cache[arguments[0]]=i.parse(arguments[0])),i.format.call(null,i.cache[arguments[0]],arguments)};return i.object_stringify=function(t,e,r,n){var a="";if(null!=t)switch(typeof t){case"function":return"[Function"+(t.name?": "+t.name:"")+"]";case"object":if(t instanceof Error)return"["+t.toString()+"]";if(e>=r)return"[Object]";if(n&&(n=n.slice(0),n.push(t)),null!=t.length){a+="[";var s=[];for(var o in t)n&&n.indexOf(t[o])>=0?s.push("[Circular]"):s.push(i.object_stringify(t[o],e+1,r,n));a+=s.join(", ")+"]"}else{if("getMonth"in t)return"Date("+t+")";a+="{";var s=[];for(var l in t)t.hasOwnProperty(l)&&(n&&n.indexOf(t[l])>=0?s.push(l+": [Circular]"):s.push(l+": "+i.object_stringify(t[l],e+1,r,n)));a+=s.join(", ")+"}"}return a;case"string":return'"'+t+'"'}return""+t},i.format=function(n,a){var s,o,l,h,u,c,d,p=1,f=n.length,g="",m=[];for(o=0;f>o;o++)if(g=t(n[o]),"string"===g)m.push(n[o]);else if("array"===g){if(h=n[o],h[2])for(s=a[p],l=0;l<h[2].length;l++){if(!s.hasOwnProperty(h[2][l]))throw new Error(r('[sprintf] property "%s" does not exist',h[2][l]));s=s[h[2][l]]}else s=h[1]?a[h[1]]:a[p++];if(/[^sO]/.test(h[8])&&"number"!=t(s))throw new Error(r('[sprintf] expecting number but found %s "'+s+'"',t(s)));switch(h[8]){case"b":s=s.toString(2);break;case"c":s=String.fromCharCode(s);break;case"d":s=parseInt(s,10);break;case"e":s=h[7]?s.toExponential(h[7]):s.toExponential();break;case"f":s=h[7]?parseFloat(s).toFixed(h[7]):parseFloat(s);break;case"O":s=i.object_stringify(s,0,parseInt(h[7])||5);break;case"o":s=s.toString(8);break;case"s":s=(s=String(s))&&h[7]?s.substring(0,h[7]):s;break;case"u":s=Math.abs(s);break;case"x":s=s.toString(16);break;case"X":s=s.toString(16).toUpperCase()}s=/[def]/.test(h[8])&&h[3]&&s>=0?"+"+s:s,c=h[4]?"0"==h[4]?"0":h[4].charAt(1):" ",d=h[6]-String(s).length,u=h[6]?e(c,d):"",m.push(h[5]?s+u:u+s)}return m.join("")},i.cache={},i.parse=function(t){for(var e=t,i=[],r=[],n=0;e;){if(null!==(i=/^[^\x25]+/.exec(e)))r.push(i[0]);else if(null!==(i=/^\x25{2}/.exec(e)))r.push("%");else{if(null===(i=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosOuxX])/.exec(e)))throw new Error("[sprintf] "+e);if(i[2]){n|=1;var a=[],s=i[2],o=[];if(null===(o=/^([a-z_][a-z_\d]*)/i.exec(s)))throw new Error("[sprintf] "+s);for(a.push(o[1]);""!==(s=s.substring(o[0].length));)if(null!==(o=/^\.([a-z_][a-z_\d]*)/i.exec(s)))a.push(o[1]);else{if(null===(o=/^\[(\d+)\]/.exec(s)))throw new Error("[sprintf] "+s);a.push(o[1])}i[2]=a}else n|=2;if(3===n)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push(i)}e=e.substring(i[0].length)}return r},i}(),n=function(t,e){var i=e.slice();return i.unshift(t),r.apply(null,i)};e.exports=r,r.sprintf=r,r.vsprintf=n},{}],17:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("./data.js"),a=t("./data_value.js"),s=new r.Model(function(){var t=this;this.isA(n),this.hasAn("array"),this.hasA("stringArray"),this.isBuiltWith("columns","stringArray",function(){this.init(),this.addListener("listenerAdded",function(t){if("dataReady"===t.targetType){var e=this.array();t.listener(e[0][0],e[e.length-1][0])}})}),this.respondsTo("getIterator",function(e,i,r,n){return t.getArrayDataIterator(this,e,i,r,n)}),this.respondsTo("getBounds",function(t){var e,i=this.array(),r=i[0][t],n=r;for(e=1;e<i.length;e++)i[e][t]<r&&(r=i[e][t]),i[e][t]>n&&(n=i[e][t]);return[r,n]}),t.getArrayDataIterator=function(t,e,i,r,n){var s,o,l,h,u,c,d=t.array();if(n=n||0,"[object Array]"!==Object.prototype.toString.apply(e))throw new Error("ArrayData: getIterator method requires that the first parameter be an array of strings");for(s=0;s<e.length;++s)if("string"!=typeof e[s])throw new Error("ArrayData: getIterator method requires that the first parameter be an array of strings");if(!a.isInstance(i)||!a.isInstance(r))throw new Error("ArrayData: getIterator method requires the second and third argument to be number values");if("number"!=typeof n)throw new Error("ArrayData: getIterator method requires last argument to be an integer");if(0===d.length)return{next:function(){},hasNext:function(){return!1}};for(l=0;l<d.length&&!d[l][0].ge(i);++l);if(l-=n,0>l&&(l=0),l===d.length-1)h=l;else for(h=l;h<d.length-1&&!d[h+1][0].gt(r);++h);for(h+=n,h>d.length-1&&(h=d.length-1),c=[],o=0;o<e.length;++o){var p=t.columnIdToColumnNumber(e[o]);c.push(p)}return u=l,{next:function(){var t,e=[];if(u>h)return null;for(t=0;t<c.length;++t)e.push(d[u][c[t]]);return++u,e},hasNext:function(){return h>=u}}},t.textToDataValuesArray=function(t,e){var i,r=[],n=e.split("\n");for(i=0;i<n.length;++i)if(/\d/.test(n[i])){var s,o=n[i].split(/\s*,\s*/),l=[];if(o.length===t.length){for(s=0;s<o.length;++s)l.push(a.parse(t[s].type(),o[s]));r.push(l)}}return r},t.textToStringArray=function(t,e){var i,r,n,a=[],s=e.split("\n");for(n=0;n<s.length;++n)s[n]=s[n].replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s*,\s*/g,",").replace(/\s+/g,",");for(n=0;n<s.length;++n)if(/\d/.test(s[n])){r=s[n].split(/,/).length;break}for(n=0;n<s.length;++n)if(/\d/.test(s[n])){if(i=s[n].split(/,/),i.length!==r)throw new Error("Data Parsing Error: The line '"+s[n]+"' has "+i.length+" data columns when it requires "+r+" columns");a.push(i)}return a},t.stringArrayToDataValuesArray=function(t,e){var i,r,n,s=[];for(r=0;r<e.length;++r){for(i=[],n=0;n<e[r].length;++n)i.push(a.parse(t[n].type(),e[r][n]));s.push(i)}return s}});e.exports=s},{"../../lib/jermaine/src/jermaine.js":9,"./data.js":25,"./data_value.js":29}],18:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("../util/utilityFunctions.js"),a=n.getDefaultValuesFromXSD(),s=n.getKeys(a.horizontalaxis),o=t("../math/displacement.js"),l=t("../math/point.js"),h=t("../core/data_measure.js"),u=t("../math/rgb_color.js"),c=t("../math/enum.js"),d=t("./event_emitter.js"),p=t("../core/text.js"),f=t("./axis_binding.js"),g=t("./axis_title.js"),m=t("./data_value.js"),v=t("./grid.js"),j=t("./labeler.js"),b=t("./pan.js"),w=t("./zoom.js"),y=t("../math/util.js"),x=new c("AxisOrientation"),A=new r.Model("Axis",function(){this.isA(d),this.hasA("title").which.validatesWith(function(t){return t instanceof g}),this.hasMany("labelers").eachOfWhich.validateWith(function(t){return t instanceof j}),this.hasA("grid").which.validatesWith(function(t){return t instanceof v}),this.hasA("pan").which.validatesWith(function(t){return t instanceof b}),this.hasA("zoom").which.validatesWith(function(t){return t instanceof w}),this.hasA("binding").which.validatesWith(function(t){return null===t||t instanceof f}),this.hasAn("id").which.isA("string"),this.hasA("type").which.isOneOf(m.types()),this.hasA("length").which.validatesWith(function(t){return t instanceof o}),this.hasA("position").which.validatesWith(function(t){return t instanceof l}),this.hasA("pregap").which.isA("number"),this.hasA("postgap").which.isA("number"),this.hasAn("anchor").which.isA("number"),this.hasA("base").which.validatesWith(function(t){return t instanceof l}),this.hasA("min").which.isA("string"),this.hasA("dataMin").which.validatesWith(m.isInstance),this.respondsTo("hasDataMin",function(){return void 0!==this.dataMin()}),this.hasA("minoffset").which.isA("number"),this.hasA("minposition").which.validatesWith(function(t){return t instanceof o}),this.hasA("max").which.isA("string"),this.hasA("dataMax").which.validatesWith(m.isInstance),this.respondsTo("hasDataMax",function(){return void 0!==this.dataMax()}),this.hasA("maxoffset").which.isA("number"),this.hasA("maxposition").which.validatesWith(function(t){return t instanceof o}),this.hasA("positionbase").which.isA("string"),this.hasA("color").which.validatesWith(function(t){return t instanceof u}),this.hasA("tickcolor").which.validatesWith(function(t){return null===t||t instanceof u}),this.hasA("tickwidth").which.isA("integer"),this.hasA("tickmin").which.isA("integer"),this.hasA("tickmax").which.isA("integer"),this.hasA("highlightstyle").which.validatesWith(function(t){return"string"==typeof t}),this.hasA("linewidth").which.isA("integer"),this.hasA("orientation").which.validatesWith(x.isInstance),this.isBuiltWith("orientation",function(){this.grid(new v),this.zoom(new w),this.pan(new b)}),this.hasA("pixelLength").which.isA("number"),this.hasA("parallelOffset").which.isA("number"),this.hasA("perpOffset").which.isA("number"),this.hasA("axisToDataRatio").which.isA("number"),this.respondsTo("initializeGeometry",function(t,e){var i,r,n=t.plotBox(),a=this.position(),s=this.base();for(this.orientation()===A.HORIZONTAL?(i=this.length().calculateLength(n.width()),this.pixelLength(i),this.parallelOffset(a.x()+(s.x()+1)*n.width()/2-(this.anchor()+1)*i/2),this.perpOffset(a.y()+(s.y()+1)*n.height()/2)):(i=this.length().calculateLength(n.height()),this.pixelLength(i),this.parallelOffset(a.y()+(s.y()+1)*n.height()/2-(this.anchor()+1)*i/2),this.perpOffset(a.x()+(s.x()+1)*n.width()/2)),this.minoffset(this.minposition().calculateCoordinate(i)),this.maxoffset(i-this.maxposition().calculateCoordinate(i)),this.hasDataMin()&&this.hasDataMax()&&this.computeAxisToDataRatio(),r=0;r<this.labelers().size();++r)this.labelers().at(r).initializeGeometry(t);this.title()&&this.title().initializeGeometry(t,e)}),this.respondsTo("computeAxisToDataRatio",function(){this.hasDataMin()&&this.hasDataMax()&&this.axisToDataRatio((this.pixelLength()-this.maxoffset()-this.minoffset())/(this.dataMax().getRealValue()-this.dataMin().getRealValue()))}),this.respondsTo("dataValueToAxisValue",function(t){return this.axisToDataRatio()*(t.getRealValue()-this.dataMin().getRealValue())+this.minoffset()+this.parallelOffset()}),this.respondsTo("axisValueToDataValue",function(t){return m.create(this.type(),this.dataMin().getRealValue()+(t-this.minoffset()-this.parallelOffset())/this.axisToDataRatio())}),this.hasA("currentLabeler").which.validatesWith(function(t){return null===t||t instanceof j}),this.hasA("currentLabelDensity").which.isA("number"),this.hasA("currentLabelerIndex").which.isA("number"),this.respondsTo("prepareRender",function(t){if(this.hasDataMin()&&this.hasDataMax()){var e,i,r=0,n=0,a=.8,s=this.labelers(),o=s.size(),l=this.currentLabelerIndex();if(0>=o)e=null;else{var h=!0,u=s.size()-1;for(void 0===l&&(l=0),i=l,r=s.at(l).getLabelDensity(t),r>a?0===l?h=!1:(n=r,l--):a>r?(n=r,l===u?h=!1:l++):r===a&&(h=!1);h;)if(r=s.at(l).getLabelDensity(t),r>a){if(0===l)break;if(!(i>l)){l=i,r=n;break}i=l,n=r,l--}else if(a>r){if(i>l)break;if(l===u)break;i=l,n=r,l++}else if(r===a)break}e=s.at(l),this.currentLabeler(e),this.currentLabelerIndex(l),this.currentLabelDensity(r)}}),this.respondsTo("toRealValue",function(t){if("number"==typeof t)return t;if(m.isInstance(t))return t.getRealValue();throw new Error("unknown value type for axis value "+t)}),this.respondsTo("toDataValue",function(t){if("number"==typeof t)return m.create(this.type(),t);if(m.isInstance(t))return t;throw new Error("unknown value type for axis value "+t)}),this.respondsTo("setDataRangeNoBind",function(t,e,i){var r=this.toDataValue(t),n=this.toDataValue(e);this.dataMin(r),this.dataMax(n),void 0===i&&(i=!0),this.emit({type:"dataRangeSet",min:r,max:n})}),this.respondsTo("setDataRange",function(t,e,i){this.binding()?this.binding().setDataRange(this,t,e,i):this.setDataRangeNoBind(t,e,i)}),this.respondsTo("doPan",function(t,e){var i,r,n,a=this.pan(),s=a.min(),o=a.max();a.allowed()&&(i=e/this.axisToDataRatio(),r=this.dataMin().getRealValue()-i,n=this.dataMax().getRealValue()-i,s&&r<s.getRealValue()&&(n+=s.getRealValue()-r,r=s.getRealValue()),o&&n>o.getRealValue()&&(r-=n-o.getRealValue(),n=o.getRealValue()),this.setDataRange(m.create(this.type(),r),m.create(this.type(),n)))}),this.respondsTo("doZoom",function(t,e){var i,r,n,a,s,o=this.zoom(),l=this.pan(),h=this.type(),u=this.dataMin(),c=this.dataMax(),d=l.min(),p=l.max(),f=o.min(),g=o.max();o.allowed()&&(i=this.axisValueToDataValue(t).getRealValue(),m.isInstance(o.anchor())&&(i=o.anchor().getRealValue()),r=10*Math.abs(e/(this.pixelLength()-this.maxoffset()-this.minoffset())),0>=e?(n=m.create(h,(u.getRealValue()-i)*(1+r)+i),a=m.create(h,(c.getRealValue()-i)*(1+r)+i)):(n=m.create(h,(u.getRealValue()-i)*(1-r)+i),a=m.create(h,(c.getRealValue()-i)*(1-r)+i)),d&&n.lt(d)&&(n=d),p&&a.gt(p)&&(a=p),(u.le(c)&&n.lt(a)||u.ge(c)&&n.gt(a))&&(g&&a.gt(n.add(g))?(s=(a.getRealValue()-n.getRealValue()-g.getRealValue())/2,a=a.addRealValue(-s),n=n.addRealValue(s)):f&&a.lt(n.add(f))&&(s=(f.getRealValue()-(a.getRealValue()-n.getRealValue()))/2,a=a.addRealValue(s),n=n.addRealValue(-s)),this.setDataRange(n,a)))}),this.respondsTo("distanceToPoint",function(t,e){var i=this.orientation()===A.HORIZONTAL?e:t,r=this.orientation()===A.HORIZONTAL?t:e,n=this.parallelOffset(),a=this.perpOffset(),s=this.pixelLength(),o=y.l2dist;return n>r?o(r,i,n,a):r>n+s?o(r,i,n+s,a):Math.abs(i-a)}),this.respondsTo("normalize",function(t){var e,i;if(this.title()&&void 0===this.title().content()&&this.title().content(new p(this.id())),0===this.labelers().size()){var r=n.getDefaultValuesFromXSD().horizontalaxis.labels,a=this.type()===m.NUMBER?r.defaultNumberSpacing:r.defaultDatetimeSpacing;for(e=0;e<a.length;e++)i=new j(this),i.spacing(h.parse(this.type(),a[e])),this.labelers().add(i)}for(e=0;e<this.labelers().size();e++)this.labelers().at(e).normalize()}),n.insertDefaults(this,a.horizontalaxis,s)});A.HORIZONTAL=new x("horizontal"),A.VERTICAL=new x("vertical"),A.Orientation=x,e.exports=A},{"../../lib/jermaine/src/jermaine.js":9,"../core/data_measure.js":27,"../core/text.js":63,"../math/displacement.js":99,"../math/enum.js":100,"../math/point.js":102,"../math/rgb_color.js":103,"../math/util.js":104,"../util/utilityFunctions.js":155,"./axis_binding.js":19,"./axis_title.js":20,"./data_value.js":29,"./event_emitter.js":37,"./grid.js":41,"./labeler.js":44,"./pan.js":51,"./zoom.js":70}],19:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=new r.Model("AxisBinding",function(){var t=this;t.instances={},this.hasA("id").which.isA("string"),this.hasA("axes"),this.isBuiltWith("id",function(){t.instances[this.id()]=this,this.axes([])}),this.respondsTo("addAxis",function(t,e,i,r){t.binding()&&t.binding().removeAxis(t),t.binding(this),e=t.toRealValue(e),i=t.toRealValue(i),this.axes().push({axis:t,multigraph:r,factor:1/(i-e),offset:-e/(i-e),min:e,max:i})}),this.respondsTo("removeAxis",function(t){var e,i=this.axes();for(e=0;e<i.length();++e)if(i[e].axis===t){i.splice(e,1);break}}),this.respondsTo("sync",function(){var t,e,i=this.axes();for(t=0;t<i.length;++t)if(e=i[t].axis,e.hasDataMin()&&e.hasDataMax())return e.setDataRange(e.dataMin(),e.dataMax()),!0;return!1}),this.respondsTo("setDataRange",function(t,e,i,r){var n,a,s,o,l,h=this.axes(),u=t.toRealValue(e),c=t.toRealValue(i),d=[];for(void 0===r&&(r=!0),a=0;a<h.length;++a)if(h[a].axis===t){n=a,d=[h[a].multigraph];break}for(a=0;a<h.length;++a)if(o=h[a],a===n)o.axis.setDataRangeNoBind(u,c,r);else if(o.axis.setDataRangeNoBind((u*h[n].factor+h[n].offset-o.offset)/o.factor,(c*h[n].factor+h[n].offset-o.offset)/o.factor,r),void 0!==o.multigraph){for(l=!1,s=0;s<d.length;++s)if(o.multigraph===d[s]){l=!0;break}l||(o.multigraph.redraw(),d.push(o.multigraph))}}),t.getInstanceById=function(e){return t.instances[e]},t.findByIdOrCreateNew=function(e){var i=t.getInstanceById(e);return i||(i=new t(e)),i},t.syncAllBindings=function(){var e;for(e in t.instances)t.instances[e].sync()},t.forgetAllBindings=function(){var e,i,r;for(e in t.instances)for(r=t.instances[e],i=0;i<r.axes().length;++i)r.axes()[i].axis.binding(null);t.instances={}}});e.exports=n},{"../../lib/jermaine/src/jermaine.js":9}],20:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("../util/utilityFunctions.js"),a=n.getDefaultValuesFromXSD(),s=n.getKeys(a.horizontalaxis.title),o=t("../math/point.js"),l=new r.Model("AxisTitle",function(){this.hasA("axis").which.validatesWith(function(e){var i=t("./axis.js");return e instanceof i}),this.hasA("content").which.validatesWith(function(e){var i=t("./text.js");return e instanceof i}),this.hasA("anchor").which.validatesWith(function(t){return t instanceof o}),this.hasA("base").which.isA("number"),this.hasA("position").which.validatesWith(function(t){return t instanceof o}),this.hasA("angle").which.isA("number"),this.isBuiltWith("axis"),this.respondsTo("initializeGeometry",function(e,i){var r=t("./axis.js"),n=a.horizontalaxis.title,s=this.axis(),o=this.position,l=this.anchor,h=e.plotBox(),u=s.perpOffset(),c=s.orientation()===r.HORIZONTAL,d=function(t){return"function"==typeof t?t():t};return void 0===o()&&o(c?u>h.height()/2?d(n["position-horizontal-top"]):d(n["position-horizontal-bottom"]):u>h.width()/2?d(n["position-vertical-right"]):d(n["position-vertical-left"])),void 0===l()&&l(c?u>h.height()/2?d(n["anchor-horizontal-top"]):d(n["anchor-horizontal-bottom"]):u>h.width()/2?d(n["anchor-vertical-right"]):d(n["anchor-vertical-left"])),i.angle=this.angle(),this.content().initializeGeometry(i),this}),this.respondsTo("render",function(){}),n.insertDefaults(this,a.horizontalaxis.title,s)});e.exports=l},{"../../lib/jermaine/src/jermaine.js":9,"../math/point.js":102,"../util/utilityFunctions.js":155,"./axis.js":18,"./text.js":63}],21:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("../util/utilityFunctions.js"),a=n.getDefaultValuesFromXSD(),s=(n.getKeys(a.background),t("../math/rgb_color.js")),o=t("./img.js"),l=new r.Model("Background",function(){this.hasA("color").which.validatesWith(function(t){return t instanceof s}).defaultsTo(s.parse(a.background.color)),this.hasA("img").which.validatesWith(function(t){return t instanceof o})});e.exports=l},{"../../lib/jermaine/src/jermaine.js":9,"../math/rgb_color.js":103,"../util/utilityFunctions.js":155,"./img.js":43}],22:[function(t,e,i){var r=function(t){this.options=t,this.prevPx=void 0,this.prevPy=void 0,this.havePrev=!1,this.distance="distance"in t?t.distance:5};r.prototype.reset=function(){this.havePrev=!1},r.prototype.filter=function(t,e){var i=!1;if(this.havePrev){var r=Math.abs(e[0]-this.prevPx),n=Math.abs(e[1]-this.prevPy);i=r+n<this.distance,i||(this.prevPx=e[0],this.prevPy=e[1])}else this.prevPx=e[0],this.prevPy=e[1];return this.havePrev=!0,i},e.exports=r},{}],23:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=new r.Model("ConstantPlot",function(){var e=t("../util/utilityFunctions.js"),i=e.getDefaultValuesFromXSD(),r=e.getKeys(i.plot),n=t("./plot.js"),a=t("./data_value.js");this.isA(n),this.hasA("constantValue").which.validatesWith(a.isInstance),this.isBuiltWith("constantValue"),e.insertDefaults(this,i.plot,r),this.respondsTo("render",function(t,e){var i=this.horizontalaxis(),r=this.renderer(),n=this.constantValue();i.hasDataMin()&&i.hasDataMax()&&(r.setUpMissing(),r.begin(e),r.dataPoint([i.dataMin(),n]),r.dataPoint([i.dataMax(),n]),r.end())})});e.exports=n},{"../../lib/jermaine/src/jermaine.js":9,"../util/utilityFunctions.js":155,"./data_value.js":29,"./plot.js":53}],24:[function(t,e,i){var r;e.exports=function(e){if("undefined"!=typeof r)return r;var i=t("../../lib/jermaine/src/jermaine.js"),n=t("./array_data.js");return r=new i.Model(function(){this.isA(n),this.hasA("filename").which.isA("string"),this.hasA("messageHandler"),this.hasA("ajaxthrottle"),this.hasA("dataIsReady").which.isA("boolean").and.defaultsTo(!1),this.respondsTo("getIterator",function(t,e,i,r){return this.dataIsReady()?n.getArrayDataIterator(this,t,e,i,r):{next:function(){},hasNext:function(){return!1}}}),this.respondsTo("_displayError",function(t){if(!this.messageHandler())throw t;this.messageHandler().error(t)}),this.isBuiltWith("columns","filename","%messageHandler","%ajaxthrottle",function(){var t=this,i=this.ajaxthrottle();void 0===i&&(i=e),this.adapter(n),this.init(),void 0!==t.filename()&&(t.emit({type:"ajaxEvent",action:"start"}),i.ajax({url:t.filename(),success:function(e){var i=t.adapter().textToStringArray(t.getColumns(),e);t.stringArray(i),t.ajaxNormalize(),t.dataIsReady(!0),t.emit({type:"dataReady"})},error:function(e,i,r){var n=r;404===e.statusCode().status?n="File not found: '"+t.filename()+'"':i&&(n=i+": "+n),t._displayError(new Error(n))},complete:function(e,i){t.emit({type:"ajaxEvent",action:"complete"})}}))})})}},{"../../lib/jermaine/src/jermaine.js":9,"./array_data.js":17}],25:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("./event_emitter.js"),a=t("../core/data_value.js"),s=t("./data_variable.js"),o=new r.Model(function(){this.isA(n);var e=function(t,e,i){var r,n=-1;for(r=0;r<i.size();++r)if(i.at(r)[t]()===e){n=r;break}return n};this.respondsTo("initializeColumns",function(){var t;for(t=0;t<this.columns().size();++t)this.columns().at(t).data(this)}),this.hasMany("columns").eachOfWhich.validateWith(function(t){return this.message="Data: constructor parameter should be an array of DataVariable objects",t instanceof s}),this.hasA("defaultMissingvalue").which.isA("string"),this.hasA("defaultMissingop").which.isA("string").and.defaultsTo("eq"),this.hasA("adapter"),this.respondsTo("init",function(){this.initializeColumns()}),this.isBuiltWith("columns",function(){this.init()}),this.respondsTo("columnIdToColumnNumber",function(t){if("string"!=typeof t)throw new Error("Data: columnIdToColumnNumber expects parameter to be a string");var i=e("id",t,this.columns()),r=void 0;if(i>=0&&(r=this.columns().at(i)),void 0===r)throw new Error("Data: no column with the label "+t);return r.column()}),this.respondsTo("columnIdToDataVariable",function(t){if("string"!=typeof t)throw new Error("Data: columnIdToDataVariable requires a string parameter");var i=this.columns(),r=-1!==e("id",t,i)?i.at(e("id",t,i)):void 0;if(void 0===r)throw new Error("Data: no column with the label "+t);return r}),this.respondsTo("getColumnId",function(t){if("number"!=typeof t)throw new Error("Data: getColumnId method expects an integer");var i=e("column",t,this.columns());if(-1===i)throw new Error("Data: column "+t+" does not exist");return this.columns().at(i).id()}),this.respondsTo("getColumns",function(){var t,e=[],i=this.columns();for(t=0;t<i.size();++t)e.push(i.at(t));return e}),this.respondsTo("getBounds",function(t){}),this.respondsTo("getIterator",function(){}),this.respondsTo("pause",function(){}),this.respondsTo("resume",function(){}),this.respondsTo("isMissing",function(t,e){var i;if(0>e||e>=this.columns().size())throw new Error("metadata.isMissing(): index out of range");return i=this.columns().at(e),i.missingvalue()&&i.missingop()?t[i.missingop()](i.missingvalue()):!1});var i=function(t,e,i){var r,n,a=t.columns();for(n=0;n<a.size();n++)r=a.at(n),void 0!==r.column()?e[r.column()]=r:i.push(r)},r=function(t,e){var i,r=t.stringArray()[0].length-t.columns().size();if(r>0)for(i=0;r>i;i++)e.push(null)},o=function(t,e){var i,r;for(r=0,i=0;r<e.length;r++){for(;;){if(void 0===t[i])break;i++}t[i]=e[r]}},l=function(t,e){var i,r=t.stringArray()[0].length;if(e.length>r)for(i=0;i<e.length;i++)if(e[i]instanceof s&&e[i].column()>r)throw new Error("Data Variable Error: Attempting to specify column '"+e[i].column()+"' for a variable, while there are only "+r+" data columns available")},h=function(t,e,i){var r,n;for(e=a.parseComparator(e),n=0;n<t.length;n++)t[n]?(void 0===t[n].column()&&t[n].column(n),void 0===t[n].type()&&t[n].type(a.NUMBER)):(r=0===n?"x":1===n?"y":"y"+(n-1),t[n]=new s(r,n,a.NUMBER)),void 0!==i&&void 0===t[n].missingvalue()&&t[n].missingvalue(a.parse(t[n].type(),i)),void 0===t[n].missingop()&&t[n].missingop(e)},u=function(t,e){for(var i,r=t.columns();r.size()>0;)r.pop();for(i=0;i<e.length;i++)r.add(e[i]);t.initializeColumns()},c=function(e,i){var r=t("./array_data.js"),n=e.stringArray();if(n.length>0&&n[0].length<i.length)throw new Error("data contains only "+n[0].length+" column(s), but should contain "+i.length);var a=r.stringArrayToDataValuesArray(i,n);e.array(a),e.stringArray([]);
};this.prototype.normalize=function(){var e=t("./array_data.js"),n=[],a=[],s="function"==typeof this.serviceaddress,d="function"==typeof this.filename,p=s||d;if(p&&0===this.columns().size())throw new Error("Data Normalization: Data gotten from csv and web service sources require variables to be specified in the mugl.");i(this,n,a),this instanceof e!=!0||p||r(this,a),o(n,a),this instanceof e!=!0||p||l(this,n),h(n,this.defaultMissingop(),this.defaultMissingvalue()),u(this,n),this instanceof e!=!0||p||c(this,n)},this.prototype.ajaxNormalize=function(){var t=[],e=[];i(this,t,e),r(this,e),o(t,e),l(this,t),h(t,this.defaultMissingop(),this.defaultMissingvalue()),u(this,t),c(this,t)}});e.exports=o},{"../../lib/jermaine/src/jermaine.js":9,"../core/data_value.js":29,"./array_data.js":17,"./data_variable.js":30,"./event_emitter.js":37}],26:[function(t,e,i){var r=(t("../../lib/jermaine/src/jermaine.js"),t("./data_value.js")),n=t("./number_formatter.js"),a=t("./datetime_formatter.js"),s={};s.isInstance=function(t){return t&&"function"==typeof t.format&&"function"==typeof t.getMaxLength},s.create=function(t,e){if(t===r.NUMBER)return new n(e);if(t===r.DATETIME)return new a(e);throw new Error("attempt to create an unknown DataFormatter type")},e.exports=s},{"../../lib/jermaine/src/jermaine.js":9,"./data_value.js":29,"./datetime_formatter.js":33,"./number_formatter.js":48}],27:[function(t,e,i){var r=(t("../../lib/jermaine/src/jermaine.js"),t("./data_value.js")),n=t("./number_measure.js"),a=t("./datetime_measure.js"),s={};s.isInstance=function(t){return t&&"function"==typeof t.getRealValue&&!t.compareTo},s.parse=function(t,e){if(t===r.NUMBER)return n.parse(e);if(t===r.DATETIME)return a.parse(e);throw new Error("attempt to parse an unknown DataMeasure type")},e.exports=s},{"../../lib/jermaine/src/jermaine.js":9,"./data_value.js":29,"./datetime_measure.js":34,"./number_measure.js":49}],28:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("./plot.js"),a=t("./data_variable.js"),s=t("./filter.js"),o=t("./datatips.js"),l=t("./data.js"),h=t("../util/utilityFunctions.js"),u=h.getDefaultValuesFromXSD(),c=h.getKeys(u.plot),d=function(t,e,i){return[t[0]+e.x0(),i-(t[1]+e.y0())]},p=new r.Model("DataPlot",function(){this.isA(n),this.hasMany("variable").eachOfWhich.validateWith(function(t){return t instanceof a||null===t}),this.hasA("filter").which.validatesWith(function(t){return t instanceof s}),this.hasA("datatips").which.validatesWith(function(t){return t instanceof o}),this.hasA("data").which.validatesWith(function(t){return t instanceof l}),h.insertDefaults(this,u.plot,c),this.respondsTo("render",function(t,e){var i=this.data();if(i){var r=this.horizontalaxis();this.verticalaxis();if(r.hasDataMin()&&r.hasDataMax()){var n,a=this.variable(),s=[];for(n=0;n<a.size();++n)s.push(a.at(n).id());var o=i.getIterator(s,r.dataMin(),r.dataMax(),1),l=this.renderer();for(l.setUpMissing(),l.begin(e);o.hasNext();){var h=o.next();l.dataPoint(h)}l.end()}}}),this.respondsTo("getDatatipsData",function(t,e,i,r,n){var a=this.datatips();if(a){var s=this.data();if(s){var o=this.horizontalaxis(),l=this.verticalaxis();if(o.hasDataMin()&&o.hasDataMax()){var h,u=this.variable(),c=[];for(h=0;h<u.size();h++)c.push(u.at(h).id());for(var p,f,g=s.getIterator(c,o.dataMin(),o.dataMax(),1),m=this.renderer(),v=[],j=t.x(),b=t.y(),w=20;g.hasNext();)f=m.transformPoint(g.next()),p=window.multigraph.math.util.l2dist(j,b,f[0],f[1]),w>p&&v.push({datap:f,dist:p});if(0!==v.length){var y=0,x=v[0].dist;for(h=1;h<v.length;h++)v[h].dist<x&&(y=h,x=v[h].dist);var A=v[y],T=[];for(f=A.datap,A.pixelp=d(f,r,i),T[0]=o.axisValueToDataValue(f[0]),h=1;h<f.length;h++)T[h]=l.axisValueToDataValue(f[h]);var M=a.format(T),D=a.computeDimensions(M,n);return A.content=M,A.dimensions=D,A.type=a.computeOrientation(A,e,i)[0],A}}}}}),this.respondsTo("createDatatip",function(e){var i=window.multigraph.jQuery,r=e.content,n=e.type,a=e.dimensions,s=e.pixelp,l=a.width,h=a.height,u=s[0],c=s[1],d=e.arrow,p=t(n,u,c,l,h,d),f=this.datatips(),g=f.bordercolor().getHexString("#"),m=i("<div>"+r+"</div>"),v=i("<div>&nbsp</div>"),j=i("<div></div>");switch(n){case o.DOWN:v.css({left:l/2-5+"px","border-bottom":d+"px solid "+g,"border-left":"5px solid transparent","border-right":"5px solid transparent","border-top":"0px"}),j.append(v),j.append(m);break;case o.RIGHT:v.css({top:h/2-5+"px","border-bottom":"5px solid transparent","border-top":"5px solid transparent","border-right":d+"px solid "+g,"border-left":"0px","float":"left"}),m.css("float","left"),j.append(v),j.append(m);break;case o.UP:v.css({left:l/2-5+"px","border-top":d+"px solid "+g,"border-left":"5px solid transparent","border-right":"5px solid transparent","border-bottom":"0px"}),j.append(m),j.append(v);break;case o.LEFT:v.css({top:h/2-5+"px","border-bottom":"5px solid transparent","border-top":"5px solid transparent","border-left":d+"px solid "+g,"border-right":"0px","float":"left"}),m.css("float","left"),j.append(m),j.append(v)}return j.css({"text-align":"left",position:"absolute",clear:"both",left:p[0]+"px",top:p[1]+"px",margin:"0px",padding:"0px"}),m.css({display:"inline-block",position:"relative","background-color":f.bgcolor().toRGBA(f.bgalpha()),"text-align":"left",margin:"0px","padding-left":"5px","padding-right":"5px","padding-top":"1px","padding-bottom":"1px",border:f.border()+"px solid "+g,"border-radius":"5px"}),v.css({height:"0px",width:"0px",position:"relative","text-align":"left",margin:"0px",padding:"0px"}),j});var t=function(t,e,i,r,n,a){switch(t){case o.DOWN:return[e-r/2,i];case o.RIGHT:return[e,i-n/2];case o.UP:return[e-r/2,i-n-a];case o.LEFT:return[e-r-a,i-n/2]}}});e.exports=p},{"../../lib/jermaine/src/jermaine.js":9,"../util/utilityFunctions.js":155,"./data.js":25,"./data_variable.js":30,"./datatips.js":31,"./filter.js":38,"./plot.js":53}],29:[function(t,e,i){var r=(t("../../lib/jermaine/src/jermaine.js"),{});r.NUMBER="number",r.DATETIME="datetime",r.UNKNOWN="unknown",r.types=function(){return[r.NUMBER,r.DATETIME,r.UNKNOWN]},r.parseType=function(t){if(t.toLowerCase()===r.NUMBER)return r.NUMBER;if(t.toLowerCase()===r.DATETIME)return r.DATETIME;throw new Error("unknown DataValue type: "+t)},r.serializeType=function(t){return t},r.isInstance=function(t){return t&&"function"==typeof t.getRealValue&&"function"==typeof t.compareTo},r.isInstanceOrNull=function(t){return null===t||r.isInstance(t)},r.create=function(e,i){var n=t("./number_value.js"),a=t("./datetime_value.js");if(e===r.NUMBER)return new n(i);if(e===r.DATETIME)return new a(i);throw new Error("attempt to parse an unknown DataValue type")},r.parse=function(e,i){var n=t("./number_value.js"),a=t("./datetime_value.js");if(e===r.NUMBER)return n.parse(i);if(e===r.DATETIME)return a.parse(i);throw new Error("attempt to parse an unknown DataValue type")},r.LT="lt",r.LE="le",r.EQ="eq",r.GE="ge",r.GT="gt",r.NE="ne";var n={};n[r.LT]=function(t){return this.compareTo(t)<0},n[r.LE]=function(t){return this.compareTo(t)<=0},n[r.EQ]=function(t){return 0===this.compareTo(t)},n[r.GE]=function(t){return this.compareTo(t)>=0},n[r.GT]=function(t){return this.compareTo(t)>0},n[r.NE]=function(t){return 0!==this.compareTo(t)},r.mixinComparators=function(t){t[r.LT]=n[r.LT],t[r.LE]=n[r.LE],t[r.EQ]=n[r.EQ],t[r.GE]=n[r.GE],t[r.GT]=n[r.GT],t[r.NE]=n[r.NE]},r.comparators=function(){return[r.LT,r.LE,r.EQ,r.GE,r.GT,r.NE]},r.parseComparator=function(t){if("string"==typeof t)switch(t.toLowerCase()){case"lt":return r.LT;case"le":return r.LE;case"eq":return r.EQ;case"ge":return r.GE;case"gt":return r.GT;case"ne":return r.NE}throw new Error(t+" should be one of 'lt', 'le', 'eq', 'ge', 'gt', 'ne'.")},e.exports=r},{"../../lib/jermaine/src/jermaine.js":9,"./datetime_value.js":36,"./number_value.js":50}],30:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("./data_value.js"),a=t("../util/utilityFunctions.js"),s=a.getDefaultValuesFromXSD(),o=a.getKeys(s.data.variables.variable),l=new r.Model("DataVariable",function(){this.hasA("id").which.isA("string"),this.hasA("column").which.isA("integer"),this.hasA("type").which.isOneOf(n.types()).and.defaultsTo(n.NUMBER),this.hasA("data").which.validatesWith(function(e){var i=t("./data.js");return e instanceof i}),this.hasA("missingvalue").which.validatesWith(n.isInstance),this.hasA("missingop").which.isOneOf(n.comparators()),this.isBuiltWith("id","%column","%type"),a.insertDefaults(this,s.data.variables.variable,o)});e.exports=l},{"../../lib/jermaine/src/jermaine.js":9,"../util/utilityFunctions.js":155,"./data.js":25,"./data_value.js":29}],31:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("./datatips_variable.js"),a=t("../util/utilityFunctions.js"),s=t("./data_value.js"),o=t("./data_formatter.js"),l=t("../math/rgb_color.js"),h=a.getDefaultValuesFromXSD(),u=a.getKeys(h.plot.datatips),c=new r.Model("Datatips",function(){this.hasMany("variables").eachOfWhich.validateWith(function(t){return t instanceof n}),this.hasA("formatString").which.isA("string"),this.hasA("bgcolor").which.validatesWith(function(t){return t instanceof l}),this.hasA("bgalpha").which.isA("number"),this.hasA("border").which.isA("integer"),this.hasA("bordercolor").which.validatesWith(function(t){return t instanceof l}),this.hasA("pad").which.isA("integer"),this.respondsTo("format",function(t){var e,i=[],r=[],n=this.formatString(),a=t.length;for(e=0;a>e;e++)i.push(this.variables().at(e).formatter().format(t[e])),r.push(new RegExp("\\{"+e+"\\}","g"));for(e=0;a>e;e++)n=n.replace(r[e],i[e]);return n=n.replace(/[\n|\r]/g,"<br/>")}),this.respondsTo("computeDimensions",function(t,e){var i=parseInt(e.css("padding-left"),10)+parseInt(e.css("padding-right"),10),r=parseInt(e.css("padding-top"),10)+parseInt(e.css("padding-bottom"),10),n=2*this.border();return e.html(t),{width:e.width()+n+i,height:e.height()+n+r}}),this.respondsTo("computeOrientation",function(t,e,i){var r=t.dimensions,n=t.pixelp,a=r.width,s=r.height,o=n[0],l=n[1],h=20,u=a+h,d=s+h;if(l=i-l,o-u>=0&&e-o>=u&&l-d>=0&&i-l>=d)return[c.UP,c.DOWN,c.RIGHT,c.LEFT];if(o-u>=0&&e-o>=u&&l>=i-d&&i>=l)return[c.DOWN,c.RIGHT,c.LEFT,c.UP];if(o-u>=0&&e-o>=u&&d>=l&&l>=0)return[c.UP,c.RIGHT,c.LEFT,c.DOWN];if(o>=0&&u>=o&&l-d>=0&&i-l>=d)return[c.RIGHT,c.UP,c.DOWN,c.LEFT];if(e>=o&&u>=e-o&&l-d>=0&&i-l>=d)return[c.LEFT,c.UP,c.DOWN,c.RIGHT];var p=[];return e/2>o?l>i/2?(i-l-s/2>o-a/2?(p.push(c.RIGHT),p.push(c.DOWN)):(p.push(c.DOWN),p.push(c.RIGHT)),i-l-d>o-u?(p.push(c.UP),p.push(c.LEFT)):(p.push(c.LEFT),p.push(c.UP))):(l-s/2>o-a/2?(p.push(c.RIGHT),p.push(c.UP)):(p.push(c.UP),p.push(c.RIGHT)),l-d>o-u?(p.push(c.DOWN),p.push(c.LEFT)):(p.push(c.LEFT),p.push(c.DOWN))):l>i/2?(i-l-s/2>e-o-a/2?(p.push(c.LEFT),p.push(c.DOWN)):(p.push(c.DOWN),p.push(c.LEFT)),i-l-d>e-o-u?(p.push(c.UP),p.push(c.RIGHT)):(p.push(c.RIGHT),p.push(c.UP))):(l-s/2>e-o-a/2?(p.push(c.LEFT),p.push(c.UP)):(p.push(c.UP),p.push(c.LEFT)),l-u>e-o-u?(p.push(c.DOWN),p.push(c.RIGHT)):(p.push(c.RIGHT),p.push(c.DOWN))),p}),this.respondsTo("normalize",function(t){var e,i,r,a=this.variables(),l=t.variable();if(a.size()<l.size())for(r=a.size();r<l.size();r++)a.add(new n);for(r=0;r<a.size();r++)e=a.at(r),i=l.at(r).type(),void 0===e.formatString()&&(i===s.NUMBER?e.formatString(h["formatString-number"]):e.formatString(h["formatString-datetime"])),e.formatter(o.create(i,e.formatString()))}),a.insertDefaults(this,h.plot.datatips,u)});c.UP="u",c.DOWN="d",c.LEFT="l",c.RIGHT="r",e.exports=c},{"../../lib/jermaine/src/jermaine.js":9,"../math/rgb_color.js":103,"../util/utilityFunctions.js":155,"./data_formatter.js":26,"./data_value.js":29,"./datatips_variable.js":32}],32:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("../util/utilityFunctions.js"),a=n.getDefaultValuesFromXSD(),s=n.getKeys(a.plot.datatips.variable),o=t("./data_formatter.js"),l=new r.Model("DatatipsVariable",function(){this.hasA("formatString").which.isA("string"),this.hasA("formatter").which.validatesWith(o.isInstance),n.insertDefaults(this,a.plot.datatips.variable,s)});e.exports=l},{"../../lib/jermaine/src/jermaine.js":9,"../util/utilityFunctions.js":155,"./data_formatter.js":26}],33:[function(t,e,i){var r=(t("../../lib/jermaine/src/jermaine.js"),t("sprintf")),n=function(t){var e;if("string"!=typeof t)throw new Error("format must be a string");this.formatString=t,e=n.formatInternally(t,new Date(0)),this.length=e.length};n.prototype.format=function(t){return n.formatInternally(this.formatString,t.value)},n.prototype.getMaxLength=function(){return this.length},n.prototype.getFormatString=function(){return this.formatString},n.formatInternally=function(t,e){var i,n,a,s={shortNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},o={shortNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longNames:["January","February","March","April","May","June","July","August","September","October","November","December"]},l=0,h="";for(n=0;n<t.length;n++)switch(i=t.charAt(n),l){case 0:"%"===i?l=1:h+=i;break;case 1:switch(i){case"Y":h+=e.getUTCFullYear().toString();break;case"y":h+=e.getUTCFullYear().toString().substr(2,2);break;case"M":h+=r("%02s",(e.getUTCMonth()+1).toString());break;case"m":h+=(e.getUTCMonth()+1).toString();break;case"N":h+=o.longNames[e.getUTCMonth()];break;case"n":h+=o.shortNames[e.getUTCMonth()];break;case"D":h+=r("%02s",e.getUTCDate().toString());break;case"d":h+=e.getUTCDate().toString();break;case"W":h+=s.longNames[e.getUTCDay()];break;case"w":h+=s.shortNames[e.getUTCDay()];break;case"H":h+=r("%02s",e.getUTCHours().toString());break;case"h":a=e.getUTCHours()%12,h+=0===a?"12":a.toString();break;case"i":h+=r("%02s",e.getUTCMinutes().toString());break;case"s":h+=r("%02s",e.getUTCSeconds().toString());break;case"v":h+=r("%03s",e.getUTCMilliseconds().toString()).substr(0,1);break;case"V":h+=r("%03s",e.getUTCMilliseconds().toString()).substr(0,2);break;case"q":h+=r("%03s",e.getUTCMilliseconds().toString());break;case"P":a=e.getUTCHours(),h+=12>a?"AM":"PM";break;case"p":a=e.getUTCHours(),h+=12>a?"am":"pm";break;case"L":h+="\n";break;case"%":h+="%";break;default:throw new Error("Invalid character code for datetime formatting string")}l=0}return h},e.exports=n},{"../../lib/jermaine/src/jermaine.js":9,sprintf:16}],34:[function(t,e,i){var r=(t("../../lib/jermaine/src/jermaine.js"),t("./datetime_value.js")),n=(t("../math/enum.js"),t("./datetime_unit.js")),a=function(t,e){if("number"!=typeof t||a.isUnit(e)!==!0)throw new Error("Improper input for Datetime Measure's constructor");if(2!==arguments.length)throw new Error("Datetime Measure's contructor requires exactly two arguments");this.measure=t,this.unit=e};a.isUnit=function(t){return n.isInstance(t)},a.prototype.negative=function(){return new a(-this.measure,this.unit)},a.prototype.getRealValue=function(){var t;switch(this.unit){case n.MILLISECOND:t=1;break;case n.SECOND:t=1e3;break;case n.MINUTE:t=6e4;break;case n.HOUR:t=36e5;break;case n.DAY:t=864e5;break;case n.WEEK:t=6048e5;break;case n.MONTH:t=2592e6;break;case n.YEAR:t=31536e6}return this.measure*t},a.parse=function(t){var e,i,r;if("string"!=typeof t||null===t.match(/\s*-?(([0-9]+\.?[0-9]*)|([0-9]*\.?[0-9]+))\s*(ms|s|m|H|D|W|M|Y){1}\s*$/))throw new Error("Improper input for Datetime Measure's parse method");return e=/ms|s|m|H|D|W|M|Y/,i=parseFloat(t.replace(e,"")),r=t.match(e),r=n.parse(r[0]),new a(i,r)},a.findTickmarkWithMillisecondSpacing=function(t,e,i){var n=t-e,a=Math.floor(n/i);return n%i!==0&&++a,new r(e+a*i)},a.findTickmarkWithMonthSpacing=function(t,e,i){var r=t.value,n=e.value,s=12*(r.getUTCFullYear()-n.getUTCFullYear())+(r.getUTCMonth()-n.getUTCMonth()),o=Math.floor(s/i);return s%i!==0?++o:r.getUTCDate()>n.getUTCDate()?++o:r.getUTCDate()===n.getUTCDate()&&r.getUTCHours()>n.getUTCHours()?++o:r.getUTCDate()===n.getUTCDate()&&r.getUTCHours()===n.getUTCHours()&&r.getUTCMinutes()>n.getUTCMinutes()?++o:r.getUTCDate()===n.getUTCDate()&&r.getUTCHours()===n.getUTCHours()&&r.getUTCMinutes()===n.getUTCMinutes()&&r.getUTCSeconds()>n.getUTCSeconds()?++o:r.getUTCDate()===n.getUTCDate()&&r.getUTCHours()===n.getUTCHours()&&r.getUTCMinutes()===n.getUTCMinutes()&&r.getUTCSeconds()===n.getUTCSeconds()&&r.getUTCMilliseconds()>n.getUTCMilliseconds()&&++o,e.add(a.parse(o*i+"M"))},a.prototype.firstSpacingLocationAtOrAfter=function(t,e){switch(this.unit){case n.MONTH:return a.findTickmarkWithMonthSpacing(t,e,this.measure);case n.YEAR:return a.findTickmarkWithMonthSpacing(t,e,12*this.measure);default:return a.findTickmarkWithMillisecondSpacing(t.getRealValue(),e.getRealValue(),this.getRealValue())}},a.prototype.lastSpacingLocationAtOrBefore=function(t,e){var i=this.firstSpacingLocationAtOrAfter(t,e);if(i.eq(t))return i;var r=i.add(this.negative());return r},a.prototype.toString=function(){return this.measure.toString()+this.unit.toString()},e.exports=a},{"../../lib/jermaine/src/jermaine.js":9,"../math/enum.js":100,"./datetime_unit.js":35,"./datetime_value.js":36}],35:[function(t,e,i){var r=t("../math/enum.js"),n=new r("DatetimeUnit");n.MILLISECOND=new n("ms"),n.SECOND=new n("s"),n.MINUTE=new n("m"),n.HOUR=new n("H"),n.DAY=new n("D"),n.WEEK=new n("W"),n.MONTH=new n("M"),n.YEAR=new n("Y"),e.exports=n},{"../math/enum.js":100}],36:[function(t,e,i){var r=(t("../../lib/jermaine/src/jermaine.js"),t("./data_value.js")),n=t("./datetime_unit.js"),a=t("sprintf"),s=function(t){if("number"!=typeof t)throw new Error("DatetimeValue requires its parameter to be a number");this.value=new Date(t)};s.prototype.getRealValue=function(){return this.value.getTime()},s.prototype.type=r.DATETIME,s.prototype.clone=function(){return new s(this.getRealValue())},s.parse=function(t){var e=0,i=0,r=1,n=0,a=0,o=0,l=0;if("string"!=typeof t)throw new Error("Datetime Value's parse method requires its parameter to be a string");if(t=t.replace(/[\.\-\:\s]/g,""),4===t.length)e=parseInt(t,10);else if(6===t.length)e=parseInt(t.substring(0,4),10),i=parseInt(t.substring(4,6),10)-1;else if(8===t.length)e=parseInt(t.substring(0,4),10),i=parseInt(t.substring(4,6),10)-1,r=parseInt(t.substring(6,8),10);else if(10===t.length)e=parseInt(t.substring(0,4),10),i=parseInt(t.substring(4,6),10)-1,r=parseInt(t.substring(6,8),10),n=parseInt(t.substring(8,10),10);else if(12===t.length)e=parseInt(t.substring(0,4),10),i=parseInt(t.substring(4,6),10)-1,r=parseInt(t.substring(6,8),10),n=parseInt(t.substring(8,10),10),a=parseInt(t.substring(10,12),10);else if(14===t.length)e=parseInt(t.substring(0,4),10),i=parseInt(t.substring(4,6),10)-1,r=parseInt(t.substring(6,8),10),n=parseInt(t.substring(8,10),10),a=parseInt(t.substring(10,12),10),o=parseInt(t.substring(12,14),10);else if(15===t.length||16===t.length||17===t.length)e=parseInt(t.substring(0,4),10),i=parseInt(t.substring(4,6),10)-1,r=parseInt(t.substring(6,8),10),n=parseInt(t.substring(8,10),10),a=parseInt(t.substring(10,12),10),o=parseInt(t.substring(12,14),10),l=parseInt(t.substring(14,17),10);else{if("0"!==t)throw new Error("Incorrect input format for Datetime Value's parse method:"+t);e=1970}return new s(Date.UTC(e,i,r,n,a,o,l))},s.prototype.toString=function(){var t,e,i,r,n,s,o;return t=a("%04s",this.value.getUTCFullYear().toString()),e=a("%02s",(this.value.getUTCMonth()+1).toString()),i=a("%02s",this.value.getUTCDate().toString()),r=a("%02s",this.value.getUTCHours().toString()),n=a("%02s",this.value.getUTCMinutes().toString()),s=a("%02s",this.value.getUTCSeconds().toString()),o="."+a("%03s",this.value.getUTCMilliseconds().toString()),".000"===o&&(o=""),t+e+i+r+n+s+o},s.prototype.compareTo=function(t){return this.getRealValue()<t.getRealValue()?-1:this.getRealValue()>t.getRealValue()?1:0},s.prototype.addRealValue=function(t){return new s(this.value.getTime()+t)},s.prototype.add=function(t){var e=new s(this.getRealValue());switch(t.unit){case n.MILLISECOND:e.value.setUTCMilliseconds(e.value.getUTCMilliseconds()+t.measure);break;case n.SECOND:e.value.setUTCSeconds(e.value.getUTCSeconds()+t.measure);break;case n.MINUTE:e.value.setUTCMinutes(e.value.getUTCMinutes()+t.measure);break;case n.HOUR:e.value.setUTCHours(e.value.getUTCHours()+t.measure);break;case n.DAY:e.value.setUTCDate(e.value.getUTCDate()+t.measure);break;case n.WEEK:e.value.setUTCDate(e.value.getUTCDate()+7*t.measure);break;case n.MONTH:e.value.setUTCMonth(e.value.getUTCMonth()+t.measure);break;case n.YEAR:e.value.setUTCFullYear(e.value.getUTCFullYear()+t.measure)}return e},r.mixinComparators(s.prototype),e.exports=s},{"../../lib/jermaine/src/jermaine.js":9,"./data_value.js":29,"./datetime_unit.js":35,sprintf:16}],37:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=new r.Model(function(){this.hasA("listeners").which.defaultsTo(function(){return{}}),this.respondsTo("addListener",function(t,e){var i,r=this.listeners();for(void 0===r[t]&&(r[t]=[]),i=0;i<r[t].length;++i)if(r[t][i]===e)return!1;return r[t].push(e),this.emit({type:"listenerAdded",targetType:t,listener:e}),!0}),this.respondsTo("removeListener",function(t,e){var i,r=this.listeners();if(void 0!==r[t])for(i=0;i<r[t].length;++i)if(r[t][i]===e)return r[t][i]=null,this.emit({type:"listenerRemoved",targetType:t,listener:e}),!0;return!1}),this.respondsTo("emit",function(t){var e,i,r=[];if("string"==typeof t&&(t={type:t}),t.target||(t.target=this),!t.type)throw new Error("Event object missing 'type' property");if(e=this.listeners()[t.type]){for(i=0;i<e.length;i++)null!==e[i]?e[i].call(this,t):r.push(i);if(r.length>0)for(i=r.length-1;i>=0;--i)e.splice(r[i],1)}})});e.exports=n},{"../../lib/jermaine/src/jermaine.js":9}],38:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("./filter_option.js"),a=t("../util/utilityFunctions.js"),s=a.getDefaultValuesFromXSD(),o=a.getKeys(s.plot.filter),l=new r.Model("Filter",function(){this.hasMany("options").eachOfWhich.validatesWith(function(t){return t instanceof n}),this.hasA("type").which.validatesWith(function(t){return"string"==typeof t}),a.insertDefaults(this,s.plot.filter,o)});e.exports=l},{"../../lib/jermaine/src/jermaine.js":9,"../util/utilityFunctions.js":155,"./filter_option.js":39}],39:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("../util/utilityFunctions.js"),a=n.getDefaultValuesFromXSD(),s=n.getKeys(a.plot.filter.option),o=new r.Model("FilterOption",function(){this.hasA("name").which.validatesWith(function(t){return"string"==typeof t}),this.hasA("value").which.validatesWith(function(t){return"string"==typeof t}),n.insertDefaults(this,a.plot.filter.option,s)});e.exports=o},{"../../lib/jermaine/src/jermaine.js":9,"../util/utilityFunctions.js":155}],40:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("./axis.js"),a=t("./background.js"),s=t("./data.js"),o=t("./legend.js"),l=t("./plot.js"),h=t("./plotarea.js"),u=t("./title.js"),c=t("./window.js"),d=t("../math/box.js"),p=t("../core/data_plot.js"),f=t("../core/axis_binding.js"),g=t("../util/utilityFunctions.js"),m=g.getDefaultValuesFromXSD(),v=g.getKeys(m),j=new r.Model("Graph",function(){this.hasA("window").which.validatesWith(function(t){return t instanceof c}),this.hasA("plotarea").which.validatesWith(function(t){return t instanceof h}),this.hasA("legend").which.validatesWith(function(t){return t instanceof o}),this.hasA("background").which.validatesWith(function(t){return t instanceof a}),this.hasA("title").which.validatesWith(function(t){return t instanceof u}),this.hasMany("axes").eachOfWhich.validateWith(function(t){return t instanceof n}),this.hasMany("plots").eachOfWhich.validateWith(function(t){return t instanceof l}),this.hasMany("data").eachOfWhich.validateWith(function(t){return t instanceof s}),this.hasA("windowBox").which.validatesWith(function(t){return t instanceof d}),this.hasA("paddingBox").which.validatesWith(function(t){return t instanceof d}),this.hasA("plotBox").which.validatesWith(function(t){return t instanceof d}),this.hasA("multigraph").which.validatesWith(function(t){return"function"==typeof t.busySpinnerLevel}),this.hasA("x0").which.isA("number"),this.hasA("y0").which.isA("number"),this.hasA("filter").which.validatesWith(function(t){return"undefined"==typeof t||"function"==typeof t.reset&&"function"==typeof t.filter}),this.isBuiltWith(function(){this.window(new c),this.plotarea(new h),this.background(new a)}),this.respondsTo("postParse",function(){var t,e=this,i=function(t){"start"===t.action?e.multigraph()&&e.multigraph().busySpinnerLevel(1):"complete"===t.action&&e.multigraph()&&e.multigraph().busySpinnerLevel(-1)};for(t=0;t<this.data().size();++t)this.data().at(t).addListener("ajaxEvent",i)}),this.respondsTo("initializeGeometry",function(t,e,i){var r,n=this.window(),a=n.border(),s=n.margin(),o=n.padding(),l=this.plotarea(),h=l.border(),u=l.margin();for(this.windowBox(new d(t,e)),this.paddingBox(new d(t-(s.left()+a+o.left())-(s.right()+a+o.right()),e-(s.top()+a+o.top())-(s.bottom()+a+o.bottom()))),this.plotBox(new d(this.paddingBox().width()-(u.left()+u.right()+2*h),this.paddingBox().height()-(u.top()+u.bottom()+2*h))),r=0;r<this.axes().size();++r)this.axes().at(r).initializeGeometry(this,i);this.legend()&&this.legend().initializeGeometry(this,i),this.title()&&this.title().initializeGeometry(i),this.x0(s.left()+a+o.left()+u.left()+h),this.y0(s.bottom()+a+o.bottom()+u.bottom()+h)}),this.respondsTo("registerCommonDataCallback",function(t){var e;for(e=0;e<this.data().size();++e)this.data().at(e).addListener("dataReady",t)}),this.respondsTo("pauseAllData",function(){var t;for(t=0;t<this.data().size();++t)this.data().at(t).pause()}),this.respondsTo("resumeAllData",function(){var t;for(t=0;t<this.data().size();++t)this.data().at(t).resume()}),this.respondsTo("findNearestAxis",function(t,e,i){var r,n,a,s=null,o=9999,l=this.axes(),h=this.axes().size();for(n=0;h>n;++n)r=l.at(n),(void 0===i||null===i||r.orientation()===i)&&(a=r.distanceToPoint(t,e),(null===s||o>a)&&(s=r,o=a));return s}),this.respondsTo("axisById",function(t){var e,i=this.axes();for(e=0;e<i.size();++e)if(i.at(e).id()===t)return i.at(e);return void 0}),this.respondsTo("variableById",function(t){var e,i,r,n=this.data();for(i=0;i<n.size();++i)for(e=n.at(i).columns(),r=0;r<e.size();++r)if(e.at(r).id()===t)return e.at(r);return void 0}),this.respondsTo("normalize",function(){var t,e,i,r,a,s=n.HORIZONTAL,o=n.VERTICAL,l=this.axes(),h=this.plots(),u=0,c=0;for(t=0;t<this.data().size();t++)this.data().at(t).normalize();for(t=0;t<l.size();t++)l.at(t).orientation()===s?u++:l.at(t).orientation()===o&&c++;for(0===u&&l.add(new n(s)),0===c&&l.add(new n(o)),u=0,c=0,t=0;t<l.size();t++)i=l.at(t),i.orientation()===s?(r="x",u>0&&(r+=u),u++):i.orientation()===o&&(r="y",c>0&&(r+=c),c++),void 0===i.id()&&i.id(r);for(t=0;t<l.size();t++)l.at(t).normalize(this);for(0===h.size()&&h.add(new p),t=0;t<h.size();t++)h.at(t).normalize(this);for(this.legend()&&this.legend().normalize(this),f.syncAllBindings(),t=0;t<l.size();t++)if(i=l.at(t),!i.hasDataMin()||!i.hasDataMax())for(e=0;e<h.size();++e)if(a=h.at(e),a instanceof p&&(a.horizontalaxis()===i||a.verticalaxis()===i)){!function(t,e,i){var r=function(n){var a=i?0:1,s=e.getBounds(a),o=t.dataMin(),l=t.dataMax();t.hasDataMin()||(o=s[0]),t.hasDataMax()||(l=s[1]),t.hasDataMin()&&t.hasDataMax()||t.setDataRange(o,l),e.removeListener("dataReady",r)};e.addListener("dataReady",r)}(i,a.data(),a.horizontalaxis()===i);break}}),g.insertDefaults(this,m,v)});e.exports=j},{"../../lib/jermaine/src/jermaine.js":9,"../core/axis_binding.js":19,"../core/data_plot.js":28,"../math/box.js":98,"../util/utilityFunctions.js":155,"./axis.js":18,"./background.js":21,"./data.js":25,"./legend.js":45,"./plot.js":53,"./plotarea.js":55,"./title.js":64,"./window.js":69}],41:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("../math/rgb_color.js"),a=t("../util/utilityFunctions.js"),s=a.getDefaultValuesFromXSD(),o=a.getKeys(s.horizontalaxis.grid),l=new r.Model("Grid",function(){this.hasA("color").which.validatesWith(function(t){return t instanceof n}),this.hasA("visible").which.isA("boolean"),a.insertDefaults(this,s.horizontalaxis.grid,o)});e.exports=l},{"../../lib/jermaine/src/jermaine.js":9,"../math/rgb_color.js":103,"../util/utilityFunctions.js":155}],42:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("../util/utilityFunctions.js"),a=n.getDefaultValuesFromXSD(),s=n.getKeys(a.legend.icon),o=new r.Model("Icon",function(){this.hasA("height").which.isA("integer"),this.hasA("width").which.isA("integer"),this.hasA("border").which.isA("integer"),n.insertDefaults(this,a.legend.icon,s)});e.exports=o},{"../../lib/jermaine/src/jermaine.js":9,"../util/utilityFunctions.js":155}],43:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("../math/point.js"),a=t("../util/utilityFunctions.js"),s=a.getDefaultValuesFromXSD(),o=a.getKeys(s.background.img),l=new r.Model("Img",function(){this.hasA("src").which.isA("string"),this.hasA("anchor").which.validatesWith(function(t){return t instanceof n}),this.hasA("base").which.validatesWith(function(t){return t instanceof n}),this.hasA("position").which.validatesWith(function(t){return t instanceof n}),this.hasA("frame").which.validatesWith(function(t){return t===l.PADDING||t===l.PLOT}),this.isBuiltWith("src"),a.insertDefaults(this,s.background.img,o)});l.PADDING="padding",l.PLOT="plot",e.exports=l},{"../../lib/jermaine/src/jermaine.js":9,"../math/point.js":102,"../util/utilityFunctions.js":155}],44:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("./data_value.js"),a=t("./data_formatter.js"),s=t("./data_measure.js"),o=t("../math/point.js"),l=t("../math/rgb_color.js"),h=t("../util/utilityFunctions.js"),u=h.getDefaultValuesFromXSD(),c=h.getKeys(u.horizontalaxis.labels.label),d=new r.Model("Labeler",function(){var e=function(t){return"function"==typeof t?t():t};this.hasA("axis").which.validatesWith(function(e){var i=t("./axis.js");return e instanceof i}),this.hasA("formatter").which.validatesWith(a.isInstance),this.hasA("start").which.validatesWith(n.isInstance),this.hasA("angle").which.isA("number"),this.hasA("position").which.validatesWith(function(t){return t instanceof o}),this.hasA("anchor").which.validatesWith(function(t){return t instanceof o}),this.hasA("spacing").which.validatesWith(s.isInstance),this.hasA("densityfactor").which.isA("number").and.which.defaultsTo(1),this.hasA("color").which.validatesWith(function(t){return t instanceof l}),this.hasA("visible").which.isA("boolean").and.which.defaultsTo(!0),this.isBuiltWith("axis",function(){var t=u.horizontalaxis.labels;this.axis().type()===n.DATETIME?this.start(e(t["start-datetime"])):this.start(e(t["start-number"]))}),this.respondsTo("initializeGeometry",function(i){var r=this.axis(),n=i.plotBox(),a=u.horizontalaxis.labels.label,s=t("./axis.js");void 0===this.position()&&(r.orientation()===s.HORIZONTAL?r.perpOffset()>n.height()/2?this.position(e(a["position-horizontal-top"])):this.position(e(a["position-horizontal-bottom"])):r.perpOffset()>n.width()/2?this.position(e(a["position-vertical-right"])):this.position(e(a["position-vertical-left"]))),void 0===this.anchor()&&(r.orientation()===s.HORIZONTAL?r.perpOffset()>n.height()/2?this.anchor(e(a["anchor-horizontal-top"])):this.anchor(e(a["anchor-horizontal-bottom"])):r.perpOffset()>n.width()/2?this.anchor(e(a["anchor-vertical-right"])):this.anchor(e(a["anchor-vertical-left"])))}),this.respondsTo("isEqualExceptForSpacing",function(t){return this.axis()===t.axis()&&this.formatter().getFormatString()===t.formatter().getFormatString()&&this.start().eq(t.start())&&this.angle()===t.angle()&&this.position().eq(t.position())&&this.anchor().eq(t.anchor())&&this.densityfactor()===t.densityfactor()}),this.hasA("iteratorNextValue").which.validatesWith(n.isInstanceOrNull).and.which.defaultsTo(null),this.hasA("iteratorMinValue").which.validatesWith(n.isInstance),this.hasA("iteratorMaxValue").which.validatesWith(n.isInstance),this.respondsTo("prepare",function(t,e){this.iteratorMinValue(t),this.iteratorMaxValue(e),this.iteratorNextValue(this.spacing().firstSpacingLocationAtOrAfter(t,this.start()));
}),this.respondsTo("hasNext",function(){var t=this.iteratorNextValue();return null===t||void 0===t?!1:t.le(this.iteratorMaxValue())}),this.respondsTo("peekNext",function(){var t=this.iteratorNextValue(),e=this.iteratorMaxValue();return null===t||void 0===t?void 0:void 0!==e&&t.gt(e)?void 0:t}),this.respondsTo("next",function(){var t=this.iteratorNextValue(),e=this.iteratorMaxValue();return null===t||void 0===t?void 0:void 0!==e&&t.gt(e)?void 0:(this.iteratorNextValue(t.add(this.spacing())),t)}),this.respondsTo("getLabelDensity",function(e){var i=this.axis(),r=this.spacing().getRealValue()*i.axisToDataRatio(),a=i.dataMin().getRealValue(),s=i.dataMax().getRealValue(),o=a+.51234567*(s-a),l=n.create(i.type(),o),h=this.formatter().format(l),u=t("./axis.js"),c=i.orientation()===u.HORIZONTAL?this.measureStringWidth(e,h):this.measureStringHeight(e,h);return c/(r*this.densityfactor())}),this.respondsTo("measureStringWidth",function(t,e){return 30*e.length}),this.respondsTo("measureStringHeight",function(t,e){return 30*e.length}),this.respondsTo("renderLabel",function(t,e){}),this.respondsTo("normalize",function(){var t,e="%.1f",i="%Y-%M-%D %H:%i",r=this.axis().type();t=r===n.DATETIME?i:e,void 0===this.formatter()&&this.formatter(a.create(r,t))}),h.insertDefaults(this,u.horizontalaxis.labels.label,c)});e.exports=d},{"../../lib/jermaine/src/jermaine.js":9,"../math/point.js":102,"../math/rgb_color.js":103,"../util/utilityFunctions.js":155,"./axis.js":18,"./data_formatter.js":26,"./data_measure.js":27,"./data_value.js":29}],45:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("../math/point.js"),a=t("../math/rgb_color.js"),s=t("./icon.js"),o=t("./plot.js"),l=t("../util/utilityFunctions.js"),h=t("../util/validationFunctions.js"),u=l.getDefaultValuesFromXSD(),c=l.getKeys(u.legend),d=new r.Model("Legend",function(){this.hasA("visible").which.validatesWith(function(t){return"boolean"==typeof t||null===t}),this.hasA("base").which.validatesWith(function(t){return t instanceof n}),this.hasAn("anchor").which.validatesWith(function(t){return t instanceof n}),this.hasA("position").which.validatesWith(function(t){return t instanceof n}),this.hasA("frame").which.validatesWith(function(t){return"plot"===t||"padding"===t}),this.hasA("color").which.validatesWith(function(t){return t instanceof a}),this.hasA("bordercolor").which.validatesWith(function(t){return t instanceof a}),this.hasA("opacity").which.validatesWith(function(t){return h.validateNumberRange(t,0,1)}),this.hasA("border").which.isA("integer"),this.hasA("rows").which.isA("integer").and.isGreaterThan(0),this.hasA("columns").which.isA("integer").and.isGreaterThan(0),this.hasA("cornerradius").which.isA("integer"),this.hasA("padding").which.isA("integer"),this.hasAn("icon").which.validatesWith(function(t){return t instanceof s}),this.isBuiltWith(function(){this.icon(new s)}),this.hasMany("plots").eachOfWhich.validateWith(function(t){return t instanceof o}),this.hasA("iconOffset").which.isAn("integer").and.defaultsTo(5),this.hasA("labelOffset").which.isAn("integer").and.defaultsTo(5),this.hasA("labelEnding").which.isAn("integer").defaultsTo(15),this.hasA("width").which.isA("number"),this.hasA("height").which.isA("number"),this.hasA("x").which.isA("number"),this.hasA("y").which.isA("number"),this.hasA("blockWidth").which.isA("number"),this.hasA("blockHeight").which.isA("number"),this.hasA("maxLabelWidth").which.isA("number"),this.hasA("maxLabelHeight").which.isA("number"),this.respondsTo("determineVisibility",function(){switch(this.visible()){case!0:return!0;case!1:return!1;case null:return this.plots().size()>1?!0:!1}}),this.respondsTo("initializeGeometry",function(t,e){var i,r,n=this.anchor(),a=this.base(),s=this.position(),o=this.iconOffset(),l=[],h=[];if(this.determineVisibility()===!1)return this;for(r=0;r<this.plots().size();r++)i=this.plots().at(r).legend().label(),void 0!==i&&(i.initializeGeometry(e),l.push(i.origWidth()),h.push(i.origHeight()));return l.sort(function(t,e){return e-t}),h.sort(function(t,e){return e-t}),this.maxLabelWidth(l[0]),this.maxLabelHeight(Math.max(h[0],this.icon().height())),this.blockWidth(o+this.icon().width()+this.labelOffset()+this.maxLabelWidth()+this.labelEnding()),this.blockHeight(o+this.maxLabelHeight()),this.width(2*this.border()+this.columns()*this.blockWidth()),this.height(2*this.border()+this.rows()*this.blockHeight()+o),"padding"===this.frame()?(this.x((a.x()+1)*t.paddingBox().width()/2-(n.x()+1)*this.width()/2+s.x()),this.y((a.y()+1)*t.paddingBox().height()/2-(n.y()+1)*this.height()/2+s.y())):(this.x((a.x()+1)*t.plotBox().width()/2-(n.x()+1)*this.width()/2+s.x()),this.y((a.y()+1)*t.plotBox().height()/2-(n.y()+1)*this.height()/2+s.y())),this}),this.respondsTo("render",function(t){var e,i,r,n,a,s,o,l,h=this.plots(),u=this.icon(),c=0;if(this.determineVisibility()===!1)return this;for(this.begin(t),this.renderLegend(t),o=0;o<this.rows()&&!(c>=h.size());o++)for(i=this.border()+(this.rows()-o-1)*this.blockHeight(),n=i+this.iconOffset(),s=n,l=0;l<this.columns()&&!(c>=h.size());l++)e=this.border()+l*this.blockWidth(),r=e+this.iconOffset(),a=r+u.width()+this.labelOffset(),h.at(c).renderer().renderLegendIcon(t,r,n,u,this.opacity()),u.border()>0&&u.renderBorder(t,r,n,this.opacity()),this.renderLabel(h.at(c).legend().label(),t,a,s),c++;return this.end(t),this}),this.respondsTo("normalize",function(t){var e,i,r,n=this.plots(),a=t.plots(),s=this.columns,o=this.rows;for(e=0;e<a.size();e++)if(a.at(e).legend()&&a.at(e).legend().visible()===!0){for(r=!1,i=0;i<n.size();i++)if(a.at(e)===n.at(i)){r=!0;break}r!==!0&&n.add(a.at(e))}return 0===n.size()&&(void 0===s()&&s(1),void 0===o()&&o(1)),void 0===o()&&void 0===s()&&s(1),void 0===s()?s(parseInt(n.size()/o()+(n.size()%o()>0?1:0),10)):void 0===o()&&o(parseInt(n.size()/s()+(n.size()%s()>0?1:0),10)),this}),l.insertDefaults(this,u.legend,c)});e.exports=d},{"../../lib/jermaine/src/jermaine.js":9,"../math/point.js":102,"../math/rgb_color.js":103,"../util/utilityFunctions.js":155,"../util/validationFunctions.js":156,"./icon.js":42,"./plot.js":53}],46:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=new r.Model("Mixin",function(){this.hasMany("mixinfuncs"),this.hasA("applied").which.isA("boolean").defaultsTo(!1),this.respondsTo("add",function(t){this.mixinfuncs().add(t)}),this.respondsTo("apply",function(){if(!this.applied()){var t;for(t=0;t<this.mixinfuncs().size();++t)this.mixinfuncs().at(t).apply(this,arguments)}this.applied(!0)}),this.respondsTo("reapply",function(){this.applied(!1),this.apply.apply(this,arguments)})});e.exports=n},{"../../lib/jermaine/src/jermaine.js":9}],47:[function(t,e,i){var r;e.exports=function(e){if("undefined"!=typeof r)return r;var i=t("../../lib/jermaine/src/jermaine.js");return r=new i.Model("Multigraph",function(){this.hasMany("graphs").eachOfWhich.validateWith(function(e){var i=t("./graph.js");return e instanceof i}),this.hasA("div"),this.hasA("mugl"),this.hasA("ajaxthrottles"),this.isBuiltWith(function(){this.ajaxthrottles([])}),this.respondsTo("addAjaxThrottle",function(t,i,r,n){this.ajaxthrottles().push({regex:t?new RegExp(t):void 0,ajaxthrottle:e.ajaxthrottle({numRequestsPerTimePeriod:parseInt(i,10),timePeriod:parseInt(r,10),maxConcurrent:parseInt(n,10)})})}),this.respondsTo("getAjaxThrottle",function(t){var i=void 0;return e.each(this.ajaxthrottles(),function(){return!this.regex||this.regex.test(t)?(i=this.ajaxthrottle,!1):!0}),i}),this.respondsTo("rebaseUrl",function(t){var e=this.mugl();return e?/^\//.test(t)?t:/:\/\//.test(t)?t:(/^\//.test(e)||/:\/\//.test(e)||/^\.\//.test(e)||(e="./"+e),e=e.replace(/\?.*$/,""),e=e.replace(/\/[^\/]*$/,"/"),e+t):t}),this.hasA("busySpinner"),this.respondsTo("busySpinnerLevel",function(t){this.busySpinner()&&e(this.busySpinner()).busy_spinner("level",t)}),this.respondsTo("initializeGeometry",function(t,e,i){var r;for(r=0;r<this.graphs().size();++r)this.graphs().at(r).initializeGeometry(t,e,i)}),this.respondsTo("registerCommonDataCallback",function(t){var e;for(e=0;e<this.graphs().size();++e)this.graphs().at(e).registerCommonDataCallback(t)}),this.respondsTo("normalize",function(){var t;for(t=0;t<this.graphs().size();++t)this.graphs().at(t).normalize()})}),r.browserHasCanvasSupport=function(){return!!window.HTMLCanvasElement&&!!window.CanvasRenderingContext2D&&function(t){return!(!t.getContext||!t.getContext("2d"))}(document.createElement("canvas"))},r.browserHasSVGSupport=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},r.createGraph=function(t){var i,n,a=t.div;return t.driver="canvas","string"==typeof a&&(a=e("#"+a)[0]),void 0!==t.width&&t.width>0&&e(a).width(t.width),void 0!==t.height&&t.height>0&&e(a).height(t.height),i={},"function"==typeof t.error&&(i.error=t.error),"function"==typeof t.warning&&(i.warning=t.warning),i.error&&i.warning||(n=r.createDefaultMessageHandlers(a),i.error||(i.error=n.error),i.warning||(i.warning=n.warning)),t.messageHandler=i,void 0!==t.muglString?"canvas"===t.driver?r.createCanvasGraphFromString(t):"raphael"===t.driver?r.createRaphaelGraphFromString(t):void t.messageHanlder.error(new Error("invalid graphic driver '"+t.driver+"' specified to Multigraph.createGraph")):"canvas"===t.driver?r.createCanvasGraph(t):"raphael"===t.driver?r.createRaphaelGraph(t):void t.messageHanlder.error(new Error("invalid graphic driver '"+t.driver+"' specified to Multigraph.createGraph"))},r.create=r.createGraph,r.createDefaultMessageHandlers=function(t){return e(t).css("position","relative"),e(t).errorDisplay({}),{error:function(i){var r=i.stack&&"string"==typeof i.stack?i.stack.replace(/\n/g,"</li><li>"):i.message;e(t).errorDisplay("displayError",r,i.message,{fontColor:"#000000",backgroundColor:"#ff0000",indicatorColor:"#ff0000"})},warning:function(i){var r="Warning: "+("string"==typeof i?i:i.message),n="string"!=typeof i&&i.stack&&"string"==typeof i.stack?i.stack.replace(/\n/g,"</li><li>"):r;e(t).errorDisplay("displayError",n,r,{fontColor:"#000000",backgroundColor:"#e06a1b",indicatorColor:"#e06a1b"})}}},r._dataAdapters={},r.installDataAdapter=function(t,e){r._dataAdapters[t]=e},r.getDataAdapter=function(t){return r._dataAdapters[t]},r.sprintf=t("sprintf"),r}},{"../../lib/jermaine/src/jermaine.js":9,"./graph.js":40,sprintf:16}],48:[function(t,e,i){var r=(t("../../lib/jermaine/src/jermaine.js"),t("sprintf")),n=function(t){var e;if("string"!=typeof t)throw new Error("format must be a string");this.formatString=t,e=r(t,0),this.length=e.length};n.prototype.format=function(t){return r(this.formatString,t.getRealValue())},n.prototype.getMaxLength=function(){return this.length},n.prototype.getFormatString=function(){return this.formatString},e.exports=n},{"../../lib/jermaine/src/jermaine.js":9,sprintf:16}],49:[function(t,e,i){t("../../lib/jermaine/src/jermaine.js");NumberValue=t("./number_value.js");var r=1e-12,n=function(t){this.measure=t};n.prototype.getRealValue=function(){return this.measure},n.prototype.toString=function(){return this.measure.toString()},n.prototype.firstSpacingLocationAtOrAfter=function(t,e){var i,n,a,s=e.value,o=t.value,l=Math.abs(this.measure);return i=(o-s)/l,n=Math.floor(i),a=n+1,r>i-n||r>a-i?new NumberValue(o):new NumberValue(s+l*a)},n.parse=function(t){return new n(parseFloat(t))},e.exports=n},{"../../lib/jermaine/src/jermaine.js":9,"./number_value.js":50}],50:[function(t,e,i){t("../../lib/jermaine/src/jermaine.js");DataValue=t("./data_value.js");var r=function(t){this.value=t};r.prototype.getRealValue=function(){return this.value},r.prototype.toString=function(){return this.value.toString()},r.prototype.compareTo=function(t){return this.value<t.value?-1:this.value>t.value?1:0},r.prototype.addRealValue=function(t){return new r(this.value+t)},r.prototype.add=function(t){return new r(this.value+t.measure)},r.prototype.type=DataValue.NUMBER,r.prototype.clone=function(){return new r(this.value)},r.parse=function(t){return new r(parseFloat(t))},DataValue.mixinComparators(r.prototype),e.exports=r},{"../../lib/jermaine/src/jermaine.js":9,"./data_value.js":29}],51:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js");DataValue=t("./data_value.js");var n=t("../util/utilityFunctions.js"),a=n.getDefaultValuesFromXSD(),s=n.getKeys(a.horizontalaxis.pan),o=new r.Model("Pan",function(){this.hasA("allowed").which.isA("boolean"),this.hasA("min").which.validatesWith(DataValue.isInstanceOrNull),this.hasA("max").which.validatesWith(DataValue.isInstanceOrNull),n.insertDefaults(this,a.horizontalaxis.pan,s)});e.exports=o},{"../../lib/jermaine/src/jermaine.js":9,"../util/utilityFunctions.js":155,"./data_value.js":29}],52:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("./array_data.js"),a=t("./data_measure.js"),s=t("./data_value.js"),o=new r.Model(function(){var t=this,e={next:function(){},hasNext:function(){return!1}};this.isA(n),this.hasA("period").which.validatesWith(a.isInstance),this.isBuiltWith("columns","stringArray","period",function(){this.init(),this.addListener("listenerAdded",function(t){var e=this.array();"dataReady"===t.targetType&&t.listener(e[0][0],e[e.length-1][0])})}),this.respondsTo("getIterator",function(e,i,r,n){return t.getArrayDataIterator(this,e,i,r,n)}),t.getArrayDataIterator=function(t,i,r,n,a){var o,l,h,u,c=t.array();if(a=a||0,"[object Array]"!==Object.prototype.toString.apply(i))throw new Error("ArrayData: getIterator method requires that the first parameter be an array of strings");for(o=0;o<i.length;++o)if("string"!=typeof i[o])throw new Error("ArrayData: getIterator method requires that the first parameter be an array of strings");if(!s.isInstance(r)||!s.isInstance(n))throw new Error("ArrayData: getIterator method requires the second and third argument to be number values");if("number"!=typeof a)throw new Error("ArrayData: getIterator method requires last argument to be an integer");if(0===c.length)return e;var d=c[0][0],p=t.period().lastSpacingLocationAtOrBefore(r,d),f=p.getRealValue()-d.getRealValue(),g=s.create(r.type,r.getRealValue()-f);for(h=0;h<c.length&&!c[h][0].ge(g);++h);if(h===c.length)return e;var m=s.create(c[h][0].type,c[h][0].getRealValue()+f);for(u=[],l=0;l<i.length;++l){var v=t.columnIdToColumnNumber(i[l]);u.push(v)}return{next:function(){var e,i=[];if(0>h)return null;for(e=0;e<u.length;++e)0===u[e]?i.push(m):i.push(c[h][u[e]]);return++h,h>=c.length&&(h=0,p=p.add(t.period()),f=p.getRealValue()-d.getRealValue()),m=s.create(c[h][0].type,c[h][0].getRealValue()+f),m.gt(n)&&(h=-1),i},hasNext:function(){return h>=0}}}});e.exports=o},{"../../lib/jermaine/src/jermaine.js":9,"./array_data.js":17,"./data_measure.js":27,"./data_value.js":29}],53:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("./plot_legend.js"),a=t("./axis.js"),s=t("./renderer.js"),o=new r.Model("Plot",function(){this.hasA("legend").which.validatesWith(function(t){return t instanceof n}),this.hasA("horizontalaxis").which.validatesWith(function(t){return t instanceof a}),this.hasA("verticalaxis").which.validatesWith(function(t){return t instanceof a}),this.hasA("renderer").which.validatesWith(function(t){return t instanceof s}),this.respondsTo("normalize",function(e){var i,r,n,o,l=e.axes(),h=t("../core/data_plot.js");if(n=function(t,e,i){for(var r,n,a,s=!1,o=i;;){if(o===i&&s===!0)throw new Error("Plot Normalizer: There does not exist an unused variable");for(o===e.columns().size()&&(o=0,s=!0),r=!1,a=e.columns().at(o),n=0;n<t.variable().size();n++)if(t.variable().at(n)===a){r=!0;break}if(r===!1)return a;o++}},void 0===this.horizontalaxis())for(o=0;o<l.size();o++)if(l.at(o).orientation()===a.HORIZONTAL){this.horizontalaxis(l.at(o));break}if(void 0===this.verticalaxis())for(o=0;o<l.size();o++)if(l.at(o).orientation()===a.VERTICAL){this.verticalaxis(l.at(o));break}if(void 0===this.renderer()&&(t("./renderers/all_renderers.js"),i=s.Type.parse("line"),this.renderer(s.create(i)),this.renderer().plot(this)),r=this.renderer().numberOfVariables(),this instanceof h){var u=this.data,c=this.variable();for(void 0===u()&&u(e.data().at(0)),0===c.size()&&c.add(n(this,u(),0)),null===c.at(0)&&c.replace(0,n(this,u(),0));c.size()<r;)c.add(n(this,u(),1));this.datatips()&&this.datatips().normalize(this)}})});e.exports=o},{"../../lib/jermaine/src/jermaine.js":9,"../core/data_plot.js":28,"./axis.js":18,"./plot_legend.js":54,"./renderer.js":56,"./renderers/all_renderers.js":57}],54:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("./text.js"),a=t("../util/utilityFunctions.js"),s=a.getDefaultValuesFromXSD(),o=a.getKeys(s.plot.legend),l=new r.Model("PlotLegend",function(){this.hasA("visible").which.isA("boolean"),this.hasA("label").which.validatesWith(function(t){return t instanceof n}),a.insertDefaults(this,s.plot.legend,o)});e.exports=l},{"../../lib/jermaine/src/jermaine.js":9,"../util/utilityFunctions.js":155,"./text.js":63}],55:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("../math/rgb_color.js"),a=t("../math/insets.js"),s=t("../util/utilityFunctions.js"),o=s.getDefaultValuesFromXSD(),l=s.getKeys(o.plotarea),h=new r.Model("Plotarea",function(){this.hasA("margin").which.validatesWith(function(t){return t instanceof a}),this.hasA("border").which.isA("integer"),this.hasA("color").which.validatesWith(function(t){return null===t||t instanceof n}),this.hasA("bordercolor").which.validatesWith(function(t){return t instanceof n}),s.insertDefaults(this,o.plotarea,l)});e.exports=h},{"../../lib/jermaine/src/jermaine.js":9,"../math/insets.js":101,"../math/rgb_color.js":103,"../util/utilityFunctions.js":155}],56:[function(t,e,i){var r,n=t("../../lib/jermaine/src/jermaine.js"),a=t("./warning.js"),s=t("../math/enum.js"),o=t("../util/utilityFunctions.js"),l=o.getDefaultValuesFromXSD(),h=o.getKeys(l.plot.renderer),u=new s("RendererType"),c=t("../math/rgb_color.js"),d=new n.Model("Renderer",function(){this.hasA("type").which.validatesWith(u.isInstance),this.hasA("plot").which.validatesWith(function(e){var i=t("./plot.js");return e instanceof i}),this.hasA("numberOfVariables").which.isA("number"),this.hasA("filter").which.validatesWith(function(t){return"undefined"==typeof t||"function"==typeof t.reset&&"function"==typeof t.filter}),this.respondsTo("setUpMissing",function(){var e,i=this.plot();if(!i)return void console.log("Warning: renderer.setUpMissing() called for renderer that has no plot ref");var r=t("./constant_plot.js");return i instanceof r?void(this.isMissing=function(t){return!1}):i.data()?(e=i.data(),void(this.isMissing=function(t){var i;for(i=1;i<t.length;++i)if(e.isMissing(t[i],i))return!0;return!1})):void console.log("Warning: renderer.setUpMissing() called for renderer whose plot has no data ref")}),this.isBuiltWith("type"),o.insertDefaults(this,l.plot.renderer,h),this.respondsTo("transformPoint",function(t){var e,i=[],r=this.plot().horizontalaxis(),n=this.plot().verticalaxis();for(i[0]=r.dataValueToAxisValue(t[0]),e=1;e<t.length;++e)i[e]=n.dataValueToAxisValue(t[e]);return i});var e=function(t,e){return t===e||void 0===t&&void 0===e};this.respondsTo("setOption",function(t,i,r,n){var a,s,o;if(!this.optionsMetadata[t])throw new Error("attempt to set unknown renderer option '"+t+"'");for(s=this.options()[t](),o=0;o<s.size();++o)if(e(s.at(o).min(),r)&&e(s.at(o).max(),n))return void s.at(o).value(i);a=new this.optionsMetadata[t].type,a.value(i),a.min(r),a.max(n),s.add(a)}),this.respondsTo("setOptionFromString",function(e,i,r,n){var s=this.plot(),o=this.type(),l=t("./data_value.js"),h=void 0;"dotsize"===e?(e="pointsize",h=new a('deprecated "dotsize" option used for "'+o+'" renderer; use "pointsize" instead')):"dotcolor"===e&&(e="pointcolor",h=new a('deprecated "dotcolor" option used for "'+o+'" renderer; use "pointcolor" instead'));var u;if(!this.optionsMetadata[e])throw new a('"'+o+'" renderer has no option named "'+e+'"');if(u=new this.optionsMetadata[e].type,u.parseValue(i,this),s&&s.verticalaxis()&&(void 0!==r&&u.min(l.parse(s.verticalaxis().type(),r)),void 0!==n&&u.max(l.parse(s.verticalaxis().type(),n))),this.setOption(e,u.value(),u.min(),u.max()),h)throw h}),this.respondsTo("getOptionValue",function(t,e){var i,r,n;if(r=this.options(),"function"!=typeof r[t])throw new Error('unknown option "'+t+'"');if(n=r[t](),!n)throw new Error('unknown option "'+t+'"');for(i=n.size()-1;i>=0;--i){var a=n.at(i);if((void 0===a.min()||void 0===e||a.min().le(e))&&(void 0===a.max()||void 0===e||a.max().gt(e)))return a.value()}}),this.respondsTo("begin",function(){}),this.respondsTo("dataPoint",function(t){}),this.respondsTo("end",function(){})});r=[],d.addType=function(t){r.push(t)},d.create=function(t){var e,i;for(e=0;e<r.length;++e)if(r[e].type===t)return i=new r[e].model,i.type(t),i;throw new Error("Renderer.create: '"+t+"' is not a known renderer type")},d.declareOptions=function(t,e,i){var r,a,s,o=function(t,e){a.hasMany(t).eachOfWhich.validateWith(function(t){return t instanceof e})};for(a=new n.Model(e,function(){}),s={},r=0;r<i.length;++r)o(i[r].name,i[r].type),s[i[r].name]={type:i[r].type,"default":i[r]["default"]};t.hasA("options").isImmutable().defaultsTo(function(){return new a}),t.prototype.optionsMetadata=s,t.isBuiltWith(function(){var t,e,i=this.optionsMetadata;for(t in i)i.hasOwnProperty(t)&&(e=new i[t].type(i[t]["default"]),this.options()[t]().add(e))})},d.Option=new n.Model("Renderer.Option",function(){var e=t("./data_value.js");this.hasA("min").which.validatesWith(e.isInstance),this.hasA("max").which.validatesWith(e.isInstance)}),d.RGBColorOption=new n.Model("Renderer.RGBColorOption",function(){this.isA(d.Option),this.hasA("value").which.validatesWith(function(t){return t instanceof c||null===t}),this.isBuiltWith("value"),this.respondsTo("serializeValue",function(){return this.value().getHexString()}),this.respondsTo("parseValue",function(t){this.value(c.parse(t))}),this.respondsTo("valueEq",function(t){return this.value().eq(t)})}),d.NumberOption=new n.Model("Renderer.NumberOption",function(){this.isA(d.Option),this.hasA("value").which.isA("number"),this.isBuiltWith("value"),this.respondsTo("serializeValue",function(){return this.value().toString()}),this.respondsTo("parseValue",function(t){this.value(parseFloat(t))}),this.respondsTo("valueEq",function(t){return this.value()===t})}),d.DataValueOption=new n.Model("Renderer.DataValueOption",function(){this.isA(d.Option),this.hasA("value").which.validatesWith(function(e){var i=t("./data_value.js");return i.isInstance(e)||null===e}),this.isBuiltWith("value"),this.respondsTo("serializeValue",function(){return this.value()}),this.respondsTo("valueEq",function(t){return this.value().eq(t)})}),d.VerticalDataValueOption=new n.Model("Renderer.DataValueOption",function(){this.isA(d.DataValueOption),this.isBuiltWith("value"),this.respondsTo("parseValue",function(e,i){var r=t("./data_value.js");this.value(r.parse(i.plot().verticalaxis().type(),e))})}),d.HorizontalDataValueOption=new n.Model("Renderer.DataValueOption",function(){this.isA(d.DataValueOption),this.isBuiltWith("value"),this.respondsTo("parseValue",function(e,i){var r=t("./data_value.js");this.value(r.parse(i.plot().horizontalaxis().type(),e))})}),d.DataMeasureOption=new n.Model("Renderer.DataMeasureOption",function(){this.isA(d.Option),this.hasA("value").which.validatesWith(function(e){var i=t("./data_measure.js");return i.isInstance(e)||null===e}),this.isBuiltWith("value"),this.respondsTo("serializeValue",function(){return this.value()}),this.respondsTo("valueEq",function(t){return this.value().eq(t)})}),d.VerticalDataMeasureOption=new n.Model("Renderer.DataMeasureOption",function(){this.isA(d.DataMeasureOption),this.respondsTo("parseValue",function(e,i){var r=t("./data_measure.js");this.value(r.parse(i.plot().verticalaxis().type(),e))})}),d.HorizontalDataMeasureOption=new n.Model("Renderer.DataMeasureOption",function(){this.isA(d.DataMeasureOption),this.isBuiltWith("value"),this.respondsTo("parseValue",function(e,i){var r=t("./data_measure.js");this.value(r.parse(i.plot().horizontalaxis().type(),e))})}),d.Type=u,e.exports=d},{"../../lib/jermaine/src/jermaine.js":9,"../math/enum.js":100,"../math/rgb_color.js":103,"../util/utilityFunctions.js":155,"./constant_plot.js":23,"./data_measure.js":27,"./data_value.js":29,"./plot.js":53,"./warning.js":65}],57:[function(t,e,i){t("./band_renderer.js"),t("./bar_renderer.js"),t("./fill_renderer.js"),t("./pointline_renderer.js"),t("./rangebar_renderer.js")},{"./band_renderer.js":58,"./bar_renderer.js":59,"./fill_renderer.js":60,"./pointline_renderer.js":61,"./rangebar_renderer.js":62}],58:[function(t,e,i){var r=t("../../../lib/jermaine/src/jermaine.js"),n=t("../renderer.js"),a=t("../../math/rgb_color.js"),s=new r.Model("BandRenderer",function(){this.isA(n),this.hasA("numberOfVariables").which.defaultsTo(3)});s.GRAY=parseInt("80",16)/255,n.declareOptions(s,"BandRendererOptions",[{name:"linecolor",type:n.RGBColorOption,"default":new a(0,0,0)},{name:"linewidth",type:n.NumberOption,"default":1},{name:"line1color",type:n.RGBColorOption,"default":null},{name:"line1width",type:n.NumberOption,"default":-1},{name:"line2color",type:n.RGBColorOption,"default":null},{name:"line2width",type:n.NumberOption,"default":-1},{name:"fillcolor",type:n.RGBColorOption,"default":new a(s.GRAY,s.GRAY,s.GRAY)},{name:"fillopacity",type:n.NumberOption,"default":1}]),n.BAND=new n.Type("band"),n.addType({type:n.Type.parse("band"),model:s}),e.exports=s},{"../../../lib/jermaine/src/jermaine.js":9,"../../math/rgb_color.js":103,"../renderer.js":56}],59:[function(t,e,i){var r=t("../../../lib/jermaine/src/jermaine.js"),n=t("../renderer.js"),a=t("../../math/rgb_color.js"),s=t("../data_measure.js"),o=t("../../util/utilityFunctions.js"),l=o.getDefaultValuesFromXSD(),h=(o.getKeys(l.plot.renderer),new r.Model("BarRenderer",function(){this.isA(n),this.hasA("numberOfVariables").which.defaultsTo(2)}));n.declareOptions(h,"BarRendererOptions",[{name:"barwidth",type:n.HorizontalDataMeasureOption,"default":new s.parse("number",0)},{name:"baroffset",type:n.NumberOption,"default":0},{name:"barbase",type:n.VerticalDataValueOption,"default":null},{name:"fillcolor",type:n.RGBColorOption,"default":new a(0,0,0)},{name:"fillopacity",type:n.NumberOption,"default":1},{name:"linecolor",type:n.RGBColorOption,"default":new a(0,0,0)},{name:"hidelines",type:n.NumberOption,"default":2}]),n.BAR=new n.Type("bar"),n.addType({type:n.Type.parse("bar"),model:h}),e.exports=h},{"../../../lib/jermaine/src/jermaine.js":9,"../../math/rgb_color.js":103,"../../util/utilityFunctions.js":155,"../data_measure.js":27,"../renderer.js":56}],60:[function(t,e,i){var r=t("../../../lib/jermaine/src/jermaine.js"),n=t("../renderer.js"),a=t("../../math/rgb_color.js"),s=t("../../util/utilityFunctions.js"),o=s.getDefaultValuesFromXSD(),o=(s.getKeys(o.plot.renderer),s.getDefaultValuesFromXSD()),l=(s.getKeys(o.plot.renderer),new r.Model("FillRenderer",function(){this.isA(n),this.hasA("numberOfVariables").which.defaultsTo(2)}));l.GRAY=parseInt("80",16)/255,n.declareOptions(l,"FillRendererOptions",[{name:"linecolor",type:n.RGBColorOption,"default":new a(0,0,0)},{name:"linewidth",type:n.NumberOption,"default":1},{name:"fillcolor",type:n.RGBColorOption,"default":new a(l.GRAY,l.GRAY,l.GRAY)},{name:"downfillcolor",type:n.RGBColorOption,"default":null},{name:"fillopacity",type:n.NumberOption,"default":1},{name:"fillbase",type:n.VerticalDataValueOption,"default":null}]),n.FILL=new n.Type("fill"),n.addType({type:n.Type.parse("fill"),model:l}),e.exports=l},{"../../../lib/jermaine/src/jermaine.js":9,"../../math/rgb_color.js":103,"../../util/utilityFunctions.js":155,"../renderer.js":56}],61:[function(t,e,i){var r=t("../../../lib/jermaine/src/jermaine.js"),n=t("../renderer.js"),a=t("../../math/rgb_color.js"),s=t("../../util/utilityFunctions.js"),o=s.getDefaultValuesFromXSD(),l=(s.getKeys(o.plot.renderer),new r.Model("PointlineRenderer",function(){this.isA(n),this.hasA("numberOfVariables").which.defaultsTo(2)}));l.CIRCLE="circle",l.SQUARE="square",l.TRIANGLE="triangle",l.DIAMOND="diamond",l.STAR="star",l.PLUS="plus",l.X="x",l.shapes=[l.CIRCLE,l.SQUARE,l.TRIANGLE,l.DIAMOND,l.STAR,l.PLUS,l.X],l.isShape=function(t){var e;for(e=0;e<l.shapes.length;++e)if(l.shapes[e]===t)return!0;return!1},l.parseShape=function(t){if(t.toLowerCase()===l.CIRCLE)return l.CIRCLE;if(t.toLowerCase()===l.SQUARE)return l.SQUARE;if(t.toLowerCase()===l.TRIANGLE)return l.TRIANGLE;if(t.toLowerCase()===l.DIAMOND)return l.DIAMOND;if(t.toLowerCase()===l.STAR)return l.STAR;if(t.toLowerCase()===l.PLUS)return l.PLUS;if(t.toLowerCase()===l.X)return l.X;throw new Error("unknown point shape: "+t)},l.serializeShape=function(t){return t},l.ShapeOption=new r.Model("PointlineRenderer.ShapeOption",function(){this.isA(n.Option),this.hasA("value").which.validatesWith(l.isShape),this.isBuiltWith("value"),this.respondsTo("serializeValue",function(){return l.serializeShape(this.value())}),this.respondsTo("parseValue",function(t){this.value(l.parseShape(t))}),this.respondsTo("valueEq",function(t){return this.value()===t})}),n.declareOptions(l,"PointlineRendererOptions",[{name:"linecolor",type:n.RGBColorOption,"default":new a(0,0,0)},{name:"linewidth",type:n.NumberOption,"default":1},{name:"pointshape",type:l.ShapeOption,"default":l.CIRCLE},{name:"pointsize",type:n.NumberOption,"default":0},{name:"pointcolor",type:n.RGBColorOption,"default":new a(0,0,0)},{name:"pointopacity",type:n.NumberOption,"default":1},{name:"pointoutlinewidth",type:n.NumberOption,"default":0},{name:"pointoutlinecolor",type:n.RGBColorOption,"default":new a(0,0,0)}]),n.POINTLINE=new n.Type("pointline"),n.POINT=new n.Type("point"),n.LINE=new n.Type("line"),n.addType({type:n.Type.parse("pointline"),model:l}),n.addType({type:n.Type.parse("line"),model:l}),n.addType({type:n.Type.parse("point"),model:l}),e.exports=l},{"../../../lib/jermaine/src/jermaine.js":9,"../../math/rgb_color.js":103,"../../util/utilityFunctions.js":155,"../renderer.js":56}],62:[function(t,e,i){var r=t("../../../lib/jermaine/src/jermaine.js"),n=t("../renderer.js"),a=t("../../math/rgb_color.js"),s=t("../data_measure.js"),o=t("../../util/utilityFunctions.js"),l=o.getDefaultValuesFromXSD(),h=(o.getKeys(l.plot.renderer),new r.Model("RangeBarRenderer",function(){this.isA(n),this.hasA("numberOfVariables").which.defaultsTo(3)}));n.declareOptions(h,"RangeBarRendererOptions",[{name:"barwidth",type:n.HorizontalDataMeasureOption,"default":new s.parse("number",0)},{name:"baroffset",type:n.NumberOption,"default":0},{name:"fillcolor",type:n.RGBColorOption,"default":a.parse("0x808080")},{name:"fillopacity",type:n.NumberOption,"default":1},{name:"linecolor",type:n.RGBColorOption,"default":new a(0,0,0)},{name:"linewidth",type:n.NumberOption,"default":1},{name:"hidelines",type:n.NumberOption,"default":2}]),n.RANGEBAR=new n.Type("rangebar"),n.addType({type:n.Type.parse("rangebar"),model:h}),e.exports=h},{"../../../lib/jermaine/src/jermaine.js":9,"../../math/rgb_color.js":103,"../../util/utilityFunctions.js":155,"../data_measure.js":27,"../renderer.js":56}],63:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=new r.Model("Text",function(){this.isBuiltWith("string"),this.hasA("string").which.isA("string"),this.hasA("origWidth").which.isA("number"),this.hasA("origHeight").which.isA("number"),this.hasA("rotatedWidth").which.isA("number"),this.hasA("rotatedHeight").which.isA("number"),this.respondsTo("initializeGeometry",function(t){var e,i,r,n;if(e=this.measureStringWidth(t),i=this.measureStringHeight(t),r=e,n=i,t&&void 0!==t.angle){var a=t.angle/180*Math.PI;r=Math.abs(Math.cos(a))*e+Math.abs(Math.sin(a))*i,n=Math.abs(Math.sin(a))*e+Math.abs(Math.cos(a))*i}return this.origWidth(e),this.origHeight(i),this.rotatedWidth(r),this.rotatedHeight(n),this}),this.respondsTo("measureStringWidth",function(t){var e,i,r,n=1;if(void 0===this.string())throw new Error("measureStringWidth requires the string attr to be set.");for(e=this.string().split(/\n/),r=0;r<e.length;r++)i=e[r].length,i>n&&(n=i);return 15*n}),this.respondsTo("measureStringHeight",function(t){
if(void 0===this.string())throw new Error("measureStringHeight requires the string attr to be set.");var e=this.string().match(/\n/g);return 12*(null!==e?e.length+1:1)})});e.exports=n},{"../../lib/jermaine/src/jermaine.js":9}],64:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("./text.js"),a=t("../math/rgb_color.js"),s=t("../math/point.js"),o=t("../util/utilityFunctions.js"),l=o.getDefaultValuesFromXSD(),h=o.getKeys(l.title),u=new r.Model("GraphTitle",function(){this.hasA("graph").which.validatesWith(function(e){var i=t("./graph.js");return e instanceof i}),this.hasA("text").which.validatesWith(function(t){return t instanceof n}),this.hasA("frame").which.isA("string"),this.hasA("border").which.isAn("integer"),this.hasA("color").which.validatesWith(function(t){return t instanceof a}),this.hasA("bordercolor").which.validatesWith(function(t){return t instanceof a}),this.hasA("opacity").which.isA("number"),this.hasA("padding").which.isAn("integer"),this.hasA("cornerradius").which.isAn("integer"),this.hasA("anchor").which.validatesWith(function(t){return t instanceof s}),this.hasA("base").which.validatesWith(function(t){return t instanceof s}),this.hasA("position").which.validatesWith(function(t){return t instanceof s}),this.hasA("fontSize").which.isA("string").and.defaultsTo("18px"),this.respondsTo("initializeGeometry",function(t){return t.fontSize=this.fontSize(),this.text().initializeGeometry(t),this}),this.respondsTo("render",function(){}),this.isBuiltWith("text","graph"),o.insertDefaults(this,l.title,h)});e.exports=u},{"../../lib/jermaine/src/jermaine.js":9,"../math/point.js":102,"../math/rgb_color.js":103,"../util/utilityFunctions.js":155,"./graph.js":40,"./text.js":63}],65:[function(t,e,i){var r=(t("../../lib/jermaine/src/jermaine.js"),function(t){this.message=t});r.prototype=new Error,e.exports=r},{"../../lib/jermaine/src/jermaine.js":9}],66:[function(t,e,i){var r;e.exports=function(e){if("undefined"!=typeof r)return r;var i=t("../../lib/jermaine/src/jermaine.js"),n=t("./data.js"),a=t("./data_value.js"),s=t("./data_formatter.js"),o=t("./array_data.js"),l=t("./web_service_data_cache_node.js"),h=t("./web_service_data_iterator.js");return r=new i.Model(function(){this.isA(n),this.hasA("serviceaddress").which.isA("string"),this.hasA("serviceaddresspattern").which.isA("string"),this.hasA("format").which.isA("string"),this.hasA("formatter").which.validatesWith(s.isInstance),this.hasA("messageHandler"),this.hasA("ajaxthrottle"),this.isBuiltWith("columns","serviceaddress","%messageHandler","%ajaxthrottle",function(){if(this.init(),this.columns().size()>0){var t=this.columns().at(0).type();void 0===this.format()&&this.format(t===a.NUMBER?"%f":"%Y%M%D%H%i%s"),this.formatter(s.create(t,this.format()))}void 0===this.ajaxthrottle()&&this.ajaxthrottle(e)}),this.respondsTo("_displayError",function(t){if(!this.messageHandler())throw t;this.messageHandler().error(t)}),this.respondsTo("getBounds",function(t){return[0,10]}),this.hasA("arraydata").which.defaultsTo(null).and.validatesWith(function(t){return t instanceof o||null===t}),this.hasA("cacheHead").which.defaultsTo(null).and.validatesWith(function(t){return null===t||t instanceof l}),this.hasA("cacheTail").which.defaultsTo(null).and.validatesWith(function(t){return null===t||t instanceof l}),this.respondsTo("dataHead",function(){var t=this.cacheHead();return null===t?null:t.hasData()?t:t.dataNext()}),this.respondsTo("dataTail",function(){var t=this.cacheTail();return null===t?null:t.hasData()?t:t.dataPrev()}),this.respondsTo("insertCacheNode",function(t){var e=this.cacheHead(),i=this.cacheTail();null===e?(this.cacheHead(t),this.cacheTail(t)):t.coveredMin().lt(e.coveredMin())?(t.next(e),e.prev(t),this.cacheHead(t)):(t.prev(i),i.next(t),this.cacheTail(t))}),this.respondsTo("constructRequestURL",function(t,e){var i=this.serviceaddress(),r=this.formatter();if(void 0===i)throw new Error("WebServiceData.constructRequestURL: undefined service address");if(void 0===r)throw new Error("WebServiceData.constructRequestURL: undefined formatter for column 0");return void 0===this.serviceaddresspattern()&&(i.indexOf("$min")<0&&i.indexOf("$max")<0?this.serviceaddresspattern(i+"$min,$max"):this.serviceaddresspattern(i)),this.serviceaddresspattern().replace("$min",r.format(t)).replace("$max",r.format(e))}),this.hasA("coveredMin").which.defaultsTo(null).and.validatesWith(function(t){return null===t||a.isInstance(t)}),this.hasA("coveredMax").which.defaultsTo(null).and.validatesWith(function(t){return null===t||a.isInstance(t)}),this.respondsTo("insureCoveredRange",function(){var t=this.cacheHead(),e=this.cacheTail(),i=this.coveredMin(),r=this.coveredMax();null!==i&&null!==r&&(null===t||null===e?this.requestSingleRange(i,r):(i.lt(t.coveredMin())&&this.requestSingleRange(i,t.coveredMin()),r.gt(e.coveredMax())&&this.requestSingleRange(e.coveredMax(),r)))}),this.respondsTo("requestSingleRange",function(i,r){var n,a,s=this,o=t("../parser/xml/jquery_xml_parser.js")(e);n=new l(i,r),this.insertCacheNode(n),a=this.constructRequestURL(i,r),this.emit({type:"ajaxEvent",action:"start"}),this.ajaxthrottle().ajax({url:a,dataType:"text",success:function(t,e,i){t.indexOf("<values>")>0&&(t=o.stringToJQueryXMLObj(t).find("values").text()),n.parseData(s.getColumns(),t),s.emit({type:"ajaxEvent",action:"success"}),s.emit({type:"dataReady"})},error:function(t,e,i){var r=i;404===t.statusCode().status?r="URL not found: '"+a+'"':e&&(r=e+": "+r),s._displayError(new Error(r))},complete:function(t,e){s.emit({type:"ajaxEvent",action:"complete"})}})}),this.respondsTo("getIterator",function(t,e,i,r){var n,a,s,o,l,u,c,d,p;if(e.gt(i)&&(u=e,e=i,i=u),(null===this.coveredMin()||e.lt(this.coveredMin()))&&this.coveredMin(e.clone()),(null===this.coveredMax()||i.gt(this.coveredMax()))&&this.coveredMax(i.clone()),this.paused()||this.insureCoveredRange(),null===this.dataHead())return{next:function(){},hasNext:function(){return!1}};for(p=[],l=0;l<t.length;++l)p.push(this.columnIdToColumnNumber(t[l]));for(n=this.dataHead();null!==n&&null!==n.dataNext()&&e.gt(n.dataMax());)n=n.dataNext();if(null!==n&&n.hasData()){for(a=0;a<n.data().length-1&&n.data()[a][p[0]].lt(e);)++a;for(s=0;r>s;){if(--a,0>a){if(o=n.dataPrev(),null===o){a=0;break}n=o,a=n.data().length-1}++s}for(c=n;i.gt(c.dataMax())&&null!==c.dataNext();)c=c.dataNext();for(d=0,c===n&&(d=a);d<c.data().length-1&&c.data()[d][p[0]].lt(i);)++d;for(s=0;r>s;){if(++d,d>=c.data().length){if(o=c.dataNext(),null===o){d=c.data().length-1;break}c=o,d=0}++s}}else a=-1;return new h(p,n,a,c,d)}),this.hasA("paused").which.isA("boolean").and.defaultsTo(!1),this.respondsTo("pause",function(){this.paused(!0)}),this.respondsTo("resume",function(){this.paused(!1),this.emit({type:"dataReady",min:this.coveredMin(),max:this.coveredMax()})})})}},{"../../lib/jermaine/src/jermaine.js":9,"../parser/xml/jquery_xml_parser.js":142,"./array_data.js":17,"./data.js":25,"./data_formatter.js":26,"./data_value.js":29,"./web_service_data_cache_node.js":67,"./web_service_data_iterator.js":68}],67:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("./data_value.js"),a=t("./array_data.js"),s=new r.Model(function(){this.hasA("data").which.defaultsTo(null).and.validatesWith(function(e){var i=t("../util/validationFunctions.js");if(null===e)return!0;if("array"!==i.typeOf(e))return this.message="WebServiceDataCacheNode's data attribute is not an Array",!1;if(e.length>0){var r,a=e[0];if("array"!==i.typeOf(a))return this.message="WebServiceDataCacheNode's data attribute is not an Array of Arrays",!1;for(r=0;r<a.length;++r)if(!n.isInstance(a[r]))return this.message="WebServiceDataCacheNode's data attribute is not an Array of Arrays of DataValues (bad value in position "+r+" of first row",!1}return!0}),this.hasA("next").which.defaultsTo(null).and.validatesWith(function(t){return null===t||t instanceof s}),this.hasA("prev").which.defaultsTo(null).and.validatesWith(function(t){return null===t||t instanceof s}),this.hasA("coveredMin").which.validatesWith(n.isInstance),this.hasA("coveredMax").which.validatesWith(n.isInstance),this.respondsTo("dataNext",function(){for(var t=this.next();null!==t&&!t.hasData();)t=t.next();return t}),this.respondsTo("dataPrev",function(){for(var t=this.prev();null!==t&&!t.hasData();)t=t.prev();return t}),this.respondsTo("dataMin",function(){var t=this.data();return null===t?null:0===t.length?null:null===t[0]?null:0===t[0].length?null:t[0][0]}),this.respondsTo("dataMax",function(){var t=this.data();return null===t?null:0===t.length?null:null===t[t.length-1]?null:0===t[t.length-1].length?null:t[t.length-1][0]}),this.respondsTo("hasData",function(){return null!==this.data()}),this.isBuiltWith("coveredMin","coveredMax"),this.respondsTo("parseData",function(t,e){var i,r,n,s,o,l=null,h=null;for(r=this.dataPrev(),null!==r&&(l=r.dataMax()),r=this.dataNext(),null!==r&&(h=r.dataMin()),n=a.textToDataValuesArray(t,e),s=[],i=0;i<n.length;++i)o=n[i],null!==l&&!o[0].gt(l)||null!==h&&!o[0].lt(h)||s.push(o);0!==s.length&&(s[0][0].lt(this.coveredMin())&&this.coveredMin(s[0][0]),s[s.length-1][0].gt(this.coveredMax())&&this.coveredMax(s[s.length-1][0]),this.data(s))})});e.exports=s},{"../../lib/jermaine/src/jermaine.js":9,"../util/validationFunctions.js":156,"./array_data.js":17,"./data_value.js":29}],68:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("./web_service_data_cache_node.js"),a=t("../util/validationFunctions.js"),s=new r.Model(function(){this.hasA("currentNode").which.validatesWith(function(t){return t instanceof n}),this.hasA("currentIndex").which.isA("integer"),this.hasA("columnIndices").which.validatesWith(function(t){return"array"===a.typeOf(t)}),this.hasA("initialNode").which.validatesWith(function(t){return t instanceof n}),this.hasA("finalNode").which.validatesWith(function(t){return t instanceof n}),this.hasA("initialIndex").which.isA("integer"),this.hasA("finalIndex").which.isA("integer"),this.isBuiltWith("columnIndices","initialNode","initialIndex","finalNode","finalIndex",function(){this.currentNode(this.initialNode()),this.currentIndex(this.initialIndex())}),this.respondsTo("hasNext",function(){return null===this.currentNode()||this.currentIndex()<0?!1:this.currentNode()!==this.finalNode()?!0:this.currentIndex()<=this.finalIndex()}),this.respondsTo("next",function(){var t,e=[],i=this.columnIndices(),r=this.currentIndex(),n=this.finalIndex(),a=this.currentNode();if(a===this.finalNode()){if(r>n)return null;for(t=0;t<i.length;++t)e.push(a.data()[r][i[t]]);return this.currentIndex(++r),e}for(t=0;t<i.length;++t)e.push(a.data()[r][i[t]]);return this.currentIndex(++r),r>=a.data().length&&(this.currentNode(a.dataNext()),this.currentIndex(0)),e})});e.exports=s},{"../../lib/jermaine/src/jermaine.js":9,"../util/validationFunctions.js":156,"./web_service_data_cache_node.js":67}],69:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("../math/insets.js"),a=t("../math/rgb_color.js"),s=t("../util/utilityFunctions.js"),o=s.getDefaultValuesFromXSD(),l=s.getKeys(o.window),h=new r.Model("Window",function(){this.hasA("width").which.isA("integer"),this.hasA("height").which.isA("integer"),this.hasA("border").which.isA("integer"),this.hasA("margin").which.validatesWith(function(t){return t instanceof n}),this.hasA("padding").which.validatesWith(function(t){return t instanceof n}),this.hasA("bordercolor").which.validatesWith(function(t){return t instanceof a}),s.insertDefaults(this,o.window,l)});e.exports=h},{"../../lib/jermaine/src/jermaine.js":9,"../math/insets.js":101,"../math/rgb_color.js":103,"../util/utilityFunctions.js":155}],70:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("./data_measure.js"),a=t("./data_value.js"),s=t("../util/utilityFunctions.js"),o=s.getDefaultValuesFromXSD(),l=s.getKeys(o.horizontalaxis.zoom),h=new r.Model("Zoom",function(){this.hasA("allowed").which.isA("boolean"),this.hasA("min").which.validatesWith(function(t){return n.isInstance(t)}),this.hasA("max").which.validatesWith(function(t){return n.isInstance(t)}),this.hasA("anchor").which.validatesWith(function(t){return a.isInstance(t)||null===t}),s.insertDefaults(this,o.horizontalaxis.zoom,l)});e.exports=h},{"../../lib/jermaine/src/jermaine.js":9,"../util/utilityFunctions.js":155,"./data_measure.js":27,"./data_value.js":29}],71:[function(t,e,i){var r=!1;e.exports=function(e,i,n){r||(t("./draggable/graph.js")(e,i,n),t("./touch/graph.js")(e,i,n),t("./touch/multigraph.js")(e,i,n),t("./mouse/graph.js")(e,i,n),t("./mouse/multigraph.js")(e,i,n),t("./multigraph.js")(e,i,n),r=!0)}},{"./draggable/graph.js":72,"./mouse/graph.js":73,"./mouse/multigraph.js":74,"./multigraph.js":75,"./touch/graph.js":76,"./touch/multigraph.js":77}],72:[function(t,e,i){e.exports=function(e,i,r){var n=t("../../core/graph.js"),a=t("../../core/axis.js");return"function"==typeof n.dragStarted?n:(n.hasA("dragStarted").which.isA("boolean"),n.hasA("dragOrientation").which.validatesWith(a.Orientation.isInstance),n.hasA("dragAxis").which.validatesWith(function(t){return t instanceof a}),n.respondsTo("doDragReset",function(){this.dragStarted(!1),this.pauseAllData()}),n.respondsTo("doDragDone",function(){this.resumeAllData()}),n.respondsTo("doDrag",function(t,e,i,n,s,o){var l=this.dragAxis,h=this.dragOrientation,u=a.HORIZONTAL,c=a.VERTICAL;try{this.dragStarted()||(h(Math.abs(n)>Math.abs(s)?u:c),l(this.findNearestAxis(e,i,h())),null===l()&&(h(h()===u?c:u),l(this.findNearestAxis(e,i,h()))),this.dragStarted(!0)),o?h()===u?l().doZoom(e,n):l().doZoom(i,s):h()===u?l().doPan(e,n):l().doPan(i,s),t.redraw()}catch(d){r(d)}}),n)}},{"../../core/axis.js":18,"../../core/graph.js":40}],73:[function(t,e,i){e.exports=function(e,i,r){var n=t("../../core/graph.js"),a=t("../../core/constant_plot.js"),s=t("../../core/axis.js");if("function"==typeof n.mouseWheelTimer)return n;n.hasA("mouseWheelTimer").which.defaultsTo(null),n.respondsTo("doWheelZoom",function(t,e,n,a){var o=this;try{this.pauseAllData();var l=this.findNearestAxis(e,n);l.orientation()===s.HORIZONTAL?l.doZoom(e,4*a):l.doZoom(n,4*a),t.redraw();var h=this.mouseWheelTimer;null!==h()&&(i.clearTimeout(h()),h(null)),h(i.setTimeout(function(){o.resumeAllData()},500))}catch(u){r(u)}}),n.hasA("existingDatatips").which.defaultsTo(function(){return[]}),n.respondsTo("handleDatatips",function(t,i,r,n,s){var l,h,u,c,d=this.existingDatatips(),p=this.plots(),f=e("<span></span>").css({display:"hidden",margin:"0px","padding-left":"5px","padding-right":"5px","padding-top":"1px","padding-bottom":"1px"}).appendTo(s);for(c=0;c<p.size();c++)if(l=p.at(c),!(l instanceof a)&&(h=l.getDatatipsData(t,i,r,this,f),void 0!==h)){u=c;break}if(f.remove(),void 0===h)return void this.removeDatatips();for(c=0;c<d.length;c++)d[c].flag=!0;if(o(h,d),this.removeFlaggedDatatips(),h.flag!==!1){var g=10;h.arrow=g;var m=p.at(u).createDatatip(h);m.appendTo(s),m.mousedown(function(t){n.trigger("mousedown",t)}),h.elem=m,d.push(h)}});var o=function(t,e){var i,r;for(i=0,r=e.length;r>i;i++)if(t.content===e[i].content&&t.type===e[i].type&&t.pixelp[0]===e[i].pixelp[0]&&t.pixelp[1]===e[i].pixelp[1])return e[i].flag=!1,void(t.flag=!1);t.flag=!0};return n.respondsTo("removeDatatips",function(){var t,e=this.existingDatatips();if(e.length>0){for(t=0;t<e.length;t++)e[t].elem.remove();e=[]}}),n.respondsTo("removeFlaggedDatatips",function(){var t,e=this.existingDatatips();if(e.length>0)for(t=0;t<e.length;t++)e[t].flag===!0&&(e[t].elem.remove(),e.splice(t,1))}),n}},{"../../core/axis.js":18,"../../core/constant_plot.js":23,"../../core/graph.js":40}],74:[function(t,e,i){e.exports=function(e,i,r){var n=t("../../core/multigraph.js")(e),a=t("../../math/point.js");return"function"==typeof n.registerMouseEvents?n:(n.respondsTo("registerMouseEvents",function(t){var i,r,n=!1,s=!1,o=this,l=e(t),h=function(t){return new a(t.pageX-l.offset().left-o.graphs().at(0).x0(),l.height()-(t.pageY-l.offset().top)-o.graphs().at(0).y0())};l.mousedown(function(t,e){e&&(t=e),t.preventDefault();var a;for(a=0;a<o.graphs().size();a++)o.graphs().at(a).removeDatatips();r=i=h(t),n=!0,s=!1}),l.mouseup(function(t){n=!1,o.graphs().at(0).doDragDone()}),l.mousemove(function(t){var e=h(t),a=o.graphs();if(n){var u=e.x()-r.x(),c=e.y()-r.y();o.graphs().size()>0&&(s||a.at(0).doDragReset(),a.at(0).doDrag(o,i.x(),i.y(),u,c,t.shiftKey)),s=!0}else{var d;for(d=0;d<a.size();d++)a.at(d).handleDatatips(e,o.width(),o.height(),l,o.div())}r=e}),l.mousewheel(function(t,e){var i=h(t);o.graphs().size()>0&&o.graphs().at(0).doWheelZoom(o,i.x(),i.y(),e),t.preventDefault()}),l.mouseleave(function(t){n=!1,o.graphs().at(0).doDragDone()}),e(o.div()).mouseleave(function(t){var e,i=o.graphs();for(e=0;e<i.size();e++)i.at(e).removeDatatips()})}),n)}},{"../../core/multigraph.js":47,"../../math/point.js":102}],75:[function(t,e,i){var r=!1;e.exports=function(e,i,n){if(!r){r=!0;var a=t("../core/multigraph.js")(e),s={multigraph:function(){return this.data("multigraph").multigraph},done:function(t){return this.each(function(){return e(this).data("multigraph").multigraph.done(t)})},init:function(t){return this.each(function(){var i=e(this),r=i.data("multigraph");return t.div=this,r||i.data("multigraph",{multigraph:a.createGraph(t)}),this})}};e.fn.multigraph=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist on jQuery.multigraph"),null):s.init.apply(this,arguments)},e(document).ready(function(){e("div.multigraph").each(function(){var t,r=e(this).attr("data-width"),n=e(this).attr("data-height"),a=e(this).attr("data-src"),s=e(this).attr("data-driver");void 0!==r&&e(this).css("width",r+"px"),void 0!==n&&e(this).css("height",n+"px"),t={div:this,mugl:a,driver:s},e(this).multigraph(t),e(this).lightbox({scale:!0,postopen:function(){var t=this.data("lightbox");t.originalDiv=this,this.data("multigraph").multigraph.done(function(i){i.div(t.contents),i.initializeSurface(),i.resizeSurface(t.contentWidth,t.contentHeight),i.width(t.contentWidth).height(t.contentHeight),i.busySpinner().remove(),i.busySpinner(e('<div style="position: absolute; left:5px; top:5px;"></div>').appendTo(e(i.div())).busy_spinner()),i.render()});var r=i.setTimeout(function(){t.contents.lightbox("resize"),i.clearTimeout(r)},50)},postclose:function(){var t=this.data("lightbox");this.data("multigraph").multigraph.done(function(i){i.div(t.originalDiv).width(e(i.div()).width()).height(e(i.div()).height()).busySpinner(e('<div style="position: absolute; left:5px; top:5px;"></div>').appendTo(e(i.div())).busy_spinner()),i.initializeSurface(),i.render()})},postresize:function(){var t=this.data("lightbox");this.data("multigraph").multigraph.done(function(e){e.resizeSurface(t.contentWidth,t.contentHeight),e.width(t.contentWidth).height(t.contentHeight),e.render()})}})})})}}},{"../core/multigraph.js":47}],76:[function(t,e,i){e.exports=function(e,i,r){var n=t("../../core/graph.js"),a=t("../../core/axis.js");return"function"==typeof n.doFirstPinchZoom?n:(n.respondsTo("doFirstPinchZoom",function(t,e,i,n,s,o,l){var h=this.dragAxis,u=this.dragOrientation,c=a.HORIZONTAL,d=a.VERTICAL;try{this.dragStarted()||(u(o>l?c:d),h(this.findNearestAxis(e,i,u())),null===h()&&(u(u()===c?d:c),h(this.findNearestAxis(e,i,u()))),this.dragStarted(!0)),u()===c?h().doZoom(e,n):h().doZoom(i,s),t.redraw()}catch(p){r(p)}}),n)}},{"../../core/axis.js":18,"../../core/graph.js":40}],77:[function(t,e,i){e.exports=function(e,i,r){var n=t("../../core/multigraph.js")(e),a=t("../../math/point.js");return"function"==typeof n.registerTouchEvents?n:(n.respondsTo("registerTouchEvents",function(t){var i,r,n,s,o=!1,l=!1,h=!1,u=!1,c={},d=this,p=e(t),f=function(t){return new a(t.pageX-p.offset().left-d.graphs().at(0).x0(),p.height()-(t.pageY-p.offset().top)-d.graphs().at(0).y0())},g=function(t){var e=t.originalEvent;e.preventDefault(),1===e.touches.length&&(s=f(e.touches[0])),r=f(e.touches[0]),l=1===e.touches.length?!0:!1,2===e.touches.length?(h=!0,u=!1,n=f(e.touches[1])):(h=!1,u=!1),o=!1,d.graphs().at(0).doDragDone()},m=function(t){var e=t.originalEvent;e.preventDefault(),1===e.touches.length&&l===!0&&b(e),2===e.touches.length&&h===!0&&w(e)},v=function(t){var e=t.originalEvent;e.preventDefault(),l=1===e.touches.length?!0:!1,2===e.touches.length?(h=!0,u=!1):(h=!1,u=!1),o=!1,d.graphs().at(0).doDragDone()},j=function(t){t.originalEvent.preventDefault(),l=!1,h=!1,u=!1,o=!1,d.graphs().at(0).doDragDone()},b=function(t){var e=f(t.touches[0]),i=e.x()-r.x(),n=e.y()-r.y();d.graphs().size()>0&&(o||d.graphs().at(0).doDragReset(),d.graphs().at(0).doDrag(d,s.x(),s.y(),i,n,!1)),o=!0,r=e},w=function(t){var e=f(t.touches[0]),a=f(t.touches[1]),s=(e.x()+a.x())/2,l=(e.y()+a.y())/2,h=y(e.x(),a.x())-y(r.x(),n.x()),p=y(e.y(),a.y())-y(r.y(),n.y());d.graphs().size()>0&&(o||d.graphs().at(0).doDragReset(),u===!0&&d.graphs().at(0).doDrag(d,s,l,h,p,!0)),o=!0;var g=(e.x()-r.x()+(a.x()-n.x()))/2,m=(e.y()-r.y()+(a.y()-n.y()))/2;u===!0&&d.graphs().at(0).doDrag(d,s,l,g,m,!1),u===!1&&(void 0===c.base&&(c.base={},c.base.x=s,c.base.y=l),void 0===c.zoomDeltas&&(c.zoomDeltas={dx:0,dy:0,totalx:0,totaly:0}),void 0===c.panDeltas&&(c.panDeltas={dx:0,dy:0}),c.zoomDeltas.dx+=h,c.zoomDeltas.dy+=p,c.panDeltas.dx+=g,c.panDeltas.dy+=m,c.zoomDeltas.totalx+=Math.abs(h),c.zoomDeltas.totaly+=Math.abs(p),void 0===i&&(i=setTimeout(function(){var t=c.base.x,e=c.base.y,r=c.zoomDeltas.dx,n=c.zoomDeltas.dy,a=c.panDeltas.dx,s=c.panDeltas.dy;d.graphs().at(0).doDragReset(),d.graphs().at(0).doFirstPinchZoom(d,t,e,r,n,c.zoomDeltas.totalx,c.zoomDeltas.totaly),d.graphs().at(0).doDrag(d,t,e,a,s,!1),c={},u=!0,clearTimeout(i),i=void 0},60))),r=e,n=a},y=function(t,e){return Math.abs(t-e)};p.on("touchstart",g),p.on("touchmove",m),p.on("touchend",v),p.on("touchleave",j)}),n)}},{"../../core/multigraph.js":47,"../../math/point.js":102}],78:[function(t,e,i){var r=!1;e.exports=function(e,i){r||(r=!0,t("./multigraph.js")(e,i),t("./axis.js")(),t("./axis_title.js")(),t("./background.js")(),t("./graph.js")(),t("./graph_title.js")(),t("./icon.js")(),t("./img.js")(),t("./labeler.js")(),t("./legend.js")(),t("./plotarea.js")(),t("./renderers/band_renderer.js")(),t("./renderers/bar_renderer.js")(),t("./renderers/fill_renderer.js")(),t("./renderers/pointline_renderer.js")(),t("./renderers/rangebar_renderer.js")(),t("./text.js")(),t("./window.js")())}},{"./axis.js":79,"./axis_title.js":80,"./background.js":81,"./graph.js":82,"./graph_title.js":83,"./icon.js":84,"./img.js":85,"./labeler.js":86,"./legend.js":87,"./multigraph.js":88,"./plotarea.js":89,"./renderers/band_renderer.js":90,"./renderers/bar_renderer.js":91,"./renderers/fill_renderer.js":92,"./renderers/pointline_renderer.js":93,"./renderers/rangebar_renderer.js":94,"./text.js":95,"./window.js":96}],79:[function(t,e,i){e.exports=function(){var e=t("../../core/axis.js");return"function"==typeof e.renderGrid?e:(e.respondsTo("renderGrid",function(t,i){if(this.prepareRender(i),this.hasDataMin()&&this.hasDataMax()&&this.grid().visible()&&this.labelers().size()>0&&this.currentLabelDensity()<=1.5){var r=this.currentLabeler(),n=this.perpOffset(),a=t.plotBox();for(r.prepare(this.dataMin(),this.dataMax()),i.beginPath();r.hasNext();){var s=r.next(),o=this.dataValueToAxisValue(s);this.orientation()===e.HORIZONTAL?(i.moveTo(o,n),i.lineTo(o,a.height()-n)):(i.moveTo(n,o),i.lineTo(a.width()-n,o))}i.strokeStyle=this.grid().color().getHexString("#"),i.stroke()}}),e.respondsTo("render",function(t,i){var r=this.parallelOffset(),n=this.perpOffset(),a=this.pixelLength(),s=this.currentLabeler(),o=this.orientation()===e.HORIZONTAL;if(this.linewidth()>0&&(i.beginPath(),o?(i.moveTo(r,n),i.lineTo(r+a,n)):(i.moveTo(n,r),i.lineTo(n,r+a)),i.strokeStyle=this.color().getHexString("#"),i.stroke()),this.hasDataMin()&&this.hasDataMax()&&s&&s.visible()){var l=this.tickwidth(),h=this.tickmin(),u=this.tickmax(),c=this.tickcolor();for(i.beginPath(),i.fillStyle="#000000",s.prepare(this.dataMin(),this.dataMax());s.hasNext();){var d=s.next(),p=this.dataValueToAxisValue(d);l>0&&(void 0!==c&&null!==c&&(i.strokeStyle=c.getHexString("#")),o?(i.moveTo(p,n+u),i.lineTo(p,n+h)):(i.moveTo(n+h,p),i.lineTo(n+u,p)),void 0!==c&&null!==c&&i.restore()),s.renderLabel(i,d)}i.stroke()}this.title()&&this.title().render(i)}),e)}},{"../../core/axis.js":18}],80:[function(t,e,i){e.exports=function(){var e=t("../../core/axis_title.js"),i=t("../../core/axis.js"),r=t("../../math/point.js");return"function"==typeof e.render?e:(e.respondsTo("render",function(t){var e,n=this.axis(),a=this.content(),s=this.anchor(),o=n.perpOffset(),l=a.origHeight(),h=a.origWidth(),u=new r(.5*h*(s.x()+1),.5*l*(s.y()+1)),c=(this.base()+1)*(n.pixelLength()/2)+n.minoffset()+n.parallelOffset();e=n.orientation()===i.HORIZONTAL?new r(c,o):new r(o,c),t.save(),t.fillStyle="rgba(0, 0, 0, 1)",a.drawText(t,u,e,this.position(),this.angle()),t.restore()}),e)}},{"../../core/axis.js":18,"../../core/axis_title.js":20,"../../math/point.js":102}],81:[function(t,e,i){e.exports=function(){var e=t("../../core/background.js");return"function"==typeof e.render?e:(e.respondsTo("render",function(t,e,i,r){var n=t.window().margin().left()+t.window().border(),a=this.img();e.save(),e.fillStyle=this.color().getHexString("#"),e.fillRect(n,n,i-2*n,r-2*n),e.restore(),a&&void 0!==a.src()&&a.render(t,e,i,r)}),e)}},{"../../core/background.js":21}],82:[function(t,e,i){e.exports=function(){var e=t("../../core/graph.js");return"function"==typeof e.render?e:(e.respondsTo("render",function(t,e,i){var r;for(this.window().render(t,e,i),this.background().render(this,t,e,i),t.transform(1,0,0,1,this.x0(),this.y0()),this.plotarea().render(this,t),r=0;r<this.axes().size();++r)this.axes().at(r).renderGrid(this,t);for(t.save(),t.rect(0,0,this.plotBox().width(),this.plotBox().height()),t.clip(),r=0;r<this.plots().size();++r)this.plots().at(r).render(this,t);for(t.restore(),r=0;r<this.axes().size();++r)this.axes().at(r).render(this,t);this.legend().render(t),this.title()&&this.title().render(t)}),e)}},{"../../core/graph.js":40}],83:[function(t,e,i){e.exports=function(){var e=t("../../core/title.js"),i=t("../../math/point.js");return"function"==typeof e.render?e:(e.respondsTo("render",function(t){var e,r=this.graph(),n=this.border(),a=this.padding(),s=this.anchor(),o=this.base(),l=this.position(),h=this.text(),u=this.color().toRGBA(this.opacity()),c=r.paddingBox(),d=r.plotBox(),p=r.plotarea().margin(),f=h.origHeight(),g=h.origWidth(),m=new i((.5*g+a+n)*(s.x()+1),(.5*f+a+n)*(s.y()+1));e="padding"===this.frame()?new i((o.x()+1)*(c.width()/2)-p.left(),(o.y()+1)*(c.height()/2)-p.bottom()):new i((o.x()+1)*(d.width()/2),(o.y()+1)*(d.height()/2)),t.save(),h.setTransform(t,m,e,l,0),t.transform(1,0,0,-1,0,0),n>0&&(t.strokeStyle=this.bordercolor().toRGBA(),t.lineWidth=n,t.strokeRect(n/2,n/2,g+2*a+n,f+2*a+n)),t.fillStyle=u,t.fillRect(n,n,g+2*a,f+2*a),t.restore(),t.save();var v=new i(l.x()+n+a,l.y()+n+a);t.font=this.fontSize()+" sans-serif",t.fillStyle="rgba(0, 0, 0, 1)",h.drawText(t,m,e,v,0),t.restore()}),e)}},{"../../core/title.js":64,"../../math/point.js":102}],84:[function(t,e,i){e.exports=function(){var e=t("../../core/icon.js");t("../../math/point.js");return"function"==typeof e.renderBorder?e:(e.respondsTo("renderBorder",function(t,e,i){t.save(),t.strokeStyle="rgba(0, 0, 0, 1)",t.strokeRect(e,i,this.width(),this.height()),t.restore()}),e)}},{"../../core/icon.js":42,"../../math/point.js":102}],85:[function(t,e,i){e.exports=function(){var e=t("../../core/img.js"),i=t("../../math/util.js");return"function"==typeof e.render?e:(e.hasA("image").which.defaultsTo(function(){return new Image}),e.hasA("fetched").which.defaultsTo(!1),e.respondsTo("render",function(t,r,n,a){if(this.fetched()){var s,o,l,h,u=i.interp,c=this.image(),d=t.window(),p=t.plotarea(),f=this.base(),g=u(this.anchor().x(),-1,1,0,c.width),m=u(this.anchor().y(),1,-1,0,c.height),v=d.margin().left()+d.border(),j=d.margin().top()+d.border(),b=v+d.padding().left()+p.margin().left()+p.border(),w=j+d.padding().top()+p.margin().top()+p.border();this.frame()===e.PLOT?(s=b+u(f.x(),-1,1,0,t.plotBox().width()),o=w+u(f.y(),1,-1,0,t.plotBox().height())):(s=v+u(f.x(),-1,1,0,t.paddingBox().width()),o=j+u(f.y(),1,-1,0,t.paddingBox().height())),l=s+this.position().x()-g,h=o+this.position().y()-m,r.save(),r.transform(1,0,0,-1,0,a),r.drawImage(c,l,h,c.width,c.height),r.restore()}else{var y=this;this.image().onload=function(){y.fetched(!0),r.save(),r.setTransform(1,0,0,-1,0,a),t.render(r,n,a),r.restore()},this.image().src=this.src()}}),e)}},{"../../core/img.js":43,"../../math/util.js":104}],86:[function(t,e,i){e.exports=function(){var e=t("../../core/labeler.js"),i=t("../../core/text.js"),r=t("../../core/axis.js"),n=t("../../math/point.js");return"function"==typeof e.renderLabel?e:(e.respondsTo("measureStringWidth",function(t,e){return new i(e).initializeGeometry({context:t,angle:this.angle()}).rotatedWidth()}),e.respondsTo("measureStringHeight",function(t,e){return new i(e).initializeGeometry({context:t,angle:this.angle()}).rotatedHeight()}),e.respondsTo("renderLabel",function(t,e){var a,s,o=this.axis(),l=this.anchor(),h=this.angle(),u=o.perpOffset(),c=o.dataValueToAxisValue(e),d=new i(this.formatter().format(e));d.initializeGeometry({context:t,angle:h}),a=new n(.5*d.origWidth()*(l.x()+1),.5*d.origHeight()*(l.y()+1)),s=o.orientation()===r.HORIZONTAL?new n(c,u):new n(u,c),t.save(),t.fillStyle=this.color().getHexString("#"),d.drawText(t,a,s,this.position(),h),t.restore()}),e)}},{"../../core/axis.js":18,"../../core/labeler.js":44,"../../core/text.js":63,"../../math/point.js":102}],87:[function(t,e,i){e.exports=function(){var e=t("../../core/legend.js");t("../../math/point.js");return"function"==typeof e.renderLegend?e:(e.respondsTo("begin",function(t){t.save(),t.transform(1,0,0,1,this.x(),this.y())}),e.respondsTo("end",function(t){t.restore()}),e.respondsTo("renderLegend",function(t){var e=this.border();t.save(),e>0&&(t.strokeStyle=this.bordercolor().toRGBA(),t.strokeRect(e/2,e/2,this.width()-e/2,this.height()-e/2)),t.fillStyle=this.color().toRGBA(this.opacity()),t.fillRect(e,e,this.width()-2*e,this.height()-2*e),t.restore()}),e.respondsTo("renderLabel",function(t,e,i,r){e.save(),e.fillStyle="rgba(0, 0, 0, 1)",e.transform(1,0,0,-1,0,r+this.maxLabelHeight()/2-t.origHeight()/2),e.fillText(t.string(),i,0),e.restore()}),e)}},{"../../core/legend.js":45,"../../math/point.js":102}],88:[function(t,e,i){e.exports=function(e,i){function r(t){return/^\s*[{\[]/.test(t)}var n=t("../../core/multigraph.js")(e),a=(t("../../math/point.js"),t("../../util/validationFunctions.js"));if("function"==typeof n.render)return n;n.hasA("canvas"),n.hasA("context"),n.hasA("width").which.isA("number"),n.hasA("height").which.isA("number"),n.respondsTo("redraw",function(){var t=this;i.requestAnimationFrame(function(){t.render()})}),n.respondsTo("init",function(){var t=e(this.div());this.width(t.width()),this.height(t.height()),this.width()>0&&this.height()>0&&(e('<canvas width="'+this.width()+'" height="'+this.height()+'"/>').appendTo(t),this.initializeSurface(),this.busySpinner(e('<div style="position:absolute;top:50%;left:50%;margin-top:-16px;margin-left:-16px"></div>').appendTo(t).busy_spinner())),this.render()}),n.respondsTo("render",function(){var t,e=this.context(),i=this.width(),r=this.height();for(e.setTransform(1,0,0,1,0,0),e.transform(1,0,0,-1,0,r),e.clearRect(0,0,i,r),this.initializeGeometry(i,r,{context:e}),t=0;t<this.graphs().size();++t)this.graphs().at(t).render(e,i,r)}),n.respondsTo("registerEvents",function(){var t=this.canvas();this.registerMouseEvents(t),this.registerTouchEvents(t)}),n.respondsTo("resizeSurface",function(t,e){var i=this.context().canvas;i.width=t,i.height=e}),n.respondsTo("initializeSurface",function(){this.canvas(e(this.div()).children("canvas")[0]),this.context(this.canvas().getContext("2d"))});var s=function(i,s){var o=t("../../parser/xml/jquery_xml_parser.js")(e);t("../../parser/json/json_parser.js")(e);var l;if("string"===a.typeOf(i))if(r(i)){var h=JSON&&JSON.parse(i)||e.parseJSON(i);l=n.parseJSON(h,s.mugl,s.messageHandler);
}else{var u=o.stringToJQueryXMLObj(i);l=n.parseXML(u,s.mugl,s.messageHandler)}else l=n.parseJSON(i,s.mugl,s.messageHandler);return l.normalize(),l.div(s.div),e(s.div).css("cursor","pointer"),l.init(),l.registerEvents(),l.registerCommonDataCallback(function(t){l.redraw()}),l};return n.createCanvasGraph=function(r){var n,a;try{t("../../events/all.js")(e,i,r.messageHandler.error),n=e.ajax({url:r.mugl,dataType:"text"}),a=e.Deferred()}catch(o){throw o}return n.done(function(t){try{var e=s(t,r);a.resolve(e)}catch(i){throw i}}),a.promise()},n.createCanvasGraphFromString=function(r){var n;try{t("../../events/all.js")(e,i,r.messageHandler.error),n=e.Deferred();var a=s(r.muglString,r);n.resolve(a)}catch(o){throw o}return n.promise()},n}},{"../../core/multigraph.js":47,"../../events/all.js":71,"../../math/point.js":102,"../../parser/json/json_parser.js":117,"../../parser/xml/jquery_xml_parser.js":142,"../../util/validationFunctions.js":156}],89:[function(t,e,i){e.exports=function(){var e=t("../../core/plotarea.js");return"function"==typeof e.render?e:(e.respondsTo("render",function(t,e){var i=t.plotBox(),r=this.border();null!==this.color()&&(e.save(),e.fillStyle=this.color().getHexString("#"),e.fillRect(0,0,i.width(),i.height()),e.restore()),r>0&&(e.save(),e.lineWidth=r,e.strokeStyle=this.bordercolor().getHexString("#"),e.strokeRect(-r/2,-r/2,i.width()+r,i.height()+r),e.restore())}),e)}},{"../../core/plotarea.js":55}],90:[function(t,e,i){var r=!1;e.exports=function(){var e=t("../../../core/renderers/band_renderer.js");if(r)return e;r=!0,e.hasA("state"),e.respondsTo("begin",function(t){var e={context:t,run:[],linecolor:this.getOptionValue("linecolor"),line1color:this.getOptionValue("line1color"),line2color:this.getOptionValue("line2color"),linewidth:this.getOptionValue("linewidth"),line1width:this.getOptionValue("line1width"),line2width:this.getOptionValue("line2width"),fillcolor:this.getOptionValue("fillcolor"),fillopacity:this.getOptionValue("fillopacity")};this.state(e)}),e.respondsTo("dataPoint",function(t){var e=this.state();if(this.isMissing(t))e.run.length>0&&(this.renderRun(),e.run=[]);else{var i=this.transformPoint(t);e.run.push(i)}}),e.respondsTo("end",function(){var t=this.state();t.run.length>0&&this.renderRun()});var i=function(t,e,i,r,n,a,s){var o;if(a=a>=0?a:s,a>0){for(r=null!==r?r:n,t.save(),t.strokeStyle=r.getHexString("#"),t.lineWidth=a,t.beginPath(),t.moveTo(e[0][0],e[0][i]),o=1;o<e.length;++o)t.lineTo(e[o][0],e[o][i]);t.stroke(),t.restore()}};return e.respondsTo("renderRun",function(){var t,e=this.state(),r=e.context,n=e.run;for(r.save(),r.globalAlpha=e.fillopacity,r.fillStyle=e.fillcolor.getHexString("#"),r.beginPath(),r.moveTo(n[0][0],n[0][1]),t=1;t<n.length;++t)r.lineTo(n[t][0],n[t][1]);for(r.lineTo(n[n.length-1][0],n[n.length-1][2]),t=n.length-1;t>=0;--t)r.lineTo(n[t][0],n[t][2]);r.fill(),r.restore(),i(r,n,1,e.line1color,e.linecolor,e.line1width,e.linewidth),i(r,n,2,e.line2color,e.linecolor,e.line2width,e.linewidth)}),e.respondsTo("renderLegendIcon",function(t,e,i,r){var n=this.state(),a=r.width(),s=r.height();t.save(),t.transform(1,0,0,1,e,i),t.save(),10>a||10>s?t.fillStyle=n.fillcolor.toRGBA():t.fillStyle="#FFFFFF",t.fillRect(0,0,a,s),t.restore(),t.strokeStyle=null!==n.line2color?n.line2color:n.linecolor,t.lineWidth=n.line2width>=0?n.line2width:n.linewidth,t.fillStyle=n.fillcolor.toRGBA(n.fillopacity),t.beginPath(),t.moveTo(0,2*s/8),t.lineTo(0,6*s/8),t.lineTo(a,7*s/8),t.lineTo(a,3*s/8),t.lineTo(0,2*s/8),t.fill(),t.stroke(),t.restore()}),e}},{"../../../core/renderers/band_renderer.js":58}],91:[function(t,e,i){var r=!1;e.exports=function(){var e=t("../../../core/renderers/bar_renderer.js");return r?e:(r=!0,e.hasA("settings"),e.respondsTo("begin",function(t){var e={context:t,barpixelwidth:this.getOptionValue("barwidth").getRealValue()*this.plot().horizontalaxis().axisToDataRatio(),baroffset:this.getOptionValue("baroffset"),barpixelbase:null!==this.getOptionValue("barbase")?this.plot().verticalaxis().dataValueToAxisValue(this.getOptionValue("barbase")):0,fillcolor:this.getOptionValue("fillcolor"),linecolor:this.getOptionValue("linecolor"),hidelines:this.getOptionValue("hidelines"),barGroups:[],currentBarGroup:null,prevCorner:null,pixelEdgeTolerance:1};this.settings(e)}),e.respondsTo("dataPoint",function(t){if(!this.isMissing(t)){var e=this.settings(),i=e.context,r=this.transformPoint(t),n=r[0]+e.baroffset,a=r[0]+e.baroffset+e.barpixelwidth;i.save(),i.fillStyle=this.getOptionValue("fillcolor",t[1]).getHexString("#"),i.fillRect(n,e.barpixelbase,e.barpixelwidth,r[1]-e.barpixelbase),i.restore(),e.barpixelwidth>e.hidelines&&(null===e.prevCorner?e.currentBarGroup=[[n,r[1]]]:Math.abs(n-e.prevCorner[0])<=e.pixelEdgeTolerance?e.currentBarGroup.push([n,r[1]]):(e.currentBarGroup.push(e.prevCorner),e.barGroups.push(e.currentBarGroup),e.currentBarGroup=[[n,r[1]]]),e.prevCorner=[a,r[1]])}}),e.respondsTo("end",function(){var t,e,i,r,n=this.settings(),a=n.context,s=n.barpixelbase,o=Math.max,l=Math.min;for(null!==n.prevCorner&&null!==n.currentBarGroup&&(n.currentBarGroup.push(n.prevCorner),n.barGroups.push(n.currentBarGroup)),a.save(),a.strokeStyle=n.linecolor.getHexString("#"),a.beginPath(),e=0;e<n.barGroups.length;e++){if(t=n.barGroups[e],r=t.length,2>r)return;for(a.moveTo(t[1][0],t[0][1]),a.lineTo(t[0][0],t[0][1]),a.lineTo(t[0][0],s),a.lineTo(t[1][0],s),i=1;r-1>i;++i)a.moveTo(t[i][0],l(t[i-1][1],t[i][1],s)),a.lineTo(t[i][0],o(t[i-1][1],t[i][1],s)),a.moveTo(t[i][0],t[i][1]),a.lineTo(t[i+1][0],t[i][1]),a.moveTo(t[i][0],s),a.lineTo(t[i+1][0],s);a.moveTo(t[r-1][0],t[r-1][1]),a.lineTo(t[r-1][0],s)}a.stroke(),a.restore()}),e.respondsTo("renderLegendIcon",function(t,e,i,r){var n=this.settings(),a=this.getOptionValue("fillcolor",0).toRGBA(this.getOptionValue("fillopacity",0));t.save(),t.transform(1,0,0,1,e,i),t.fillStyle="rgba(255, 255, 255, 1)",t.fillRect(0,0,r.width(),r.height()),t.lineWidth=1,t.fillStyle=a,n.barpixelwidth<n.hidelines?t.strokeStyle=a:t.strokeStyle=this.getOptionValue("linecolor",0).toRGBA();var s,o=r.width(),l=r.height();s=o>20||l>20?o/6:o>10||l>10?o/4:o/4,o>20&&l>20&&(t.fillRect(o/4-s/2,0,s,l/2),t.strokeRect(o/4-s/2,0,s,l/2),t.fillRect(o-o/4-s/2,0,s,l/3),t.strokeRect(o-o/4-s/2,0,s,l/3)),t.fillRect(o/2-s/2,0,s,l-l/4),t.strokeRect(o/2-s/2,0,s,l-l/4),t.restore()}),e)}},{"../../../core/renderers/bar_renderer.js":59}],92:[function(t,e,i){var r=!1;e.exports=function(){var e=t("../../../core/renderers/fill_renderer.js"),i=t("../../../math/util.js");return r?e:(r=!0,e.hasA("state"),e.respondsTo("begin",function(t){var e={context:t,run:[],previouspoint:null,linecolor:this.getOptionValue("linecolor"),linewidth:this.getOptionValue("linewidth"),fillcolor:this.getOptionValue("fillcolor"),downfillcolor:this.getOptionValue("downfillcolor"),fillopacity:this.getOptionValue("fillopacity"),fillbase:this.getOptionValue("fillbase"),currentfillcolor:null};null===e.downfillcolor&&(e.downfillcolor=e.fillcolor),null!==e.fillbase?e.fillpixelbase=this.plot().verticalaxis().dataValueToAxisValue(e.fillbase):e.fillpixelbase=0,this.state(e),t.save(),t.fillStyle=e.fillcolor.getHexString("#")}),e.respondsTo("dataPoint",function(t){var e,r,n=this.state(),a=n.fillpixelbase;if(this.isMissing(t))return void(null!==n.previouspoint&&(n.run.push([n.previouspoint[0],a]),this.renderRun(),n.run=[],n.previouspoint=null));if(r=this.transformPoint(t),e=r[1]>=a?n.fillcolor:n.downfillcolor,0===n.run.length)n.run.push([r[0],a]);else if(!e.eq(n.currentfillcolor)){var s=i.safe_interp(a,n.previouspoint[1],r[1],n.previouspoint[0],r[0]);n.run.push([s,a]),n.run.push([s,a]),this.renderRun(),n.run=[],n.run.push([s,a]),n.run.push([s,a])}n.run.push(r),n.previouspoint=r,n.currentfillcolor=e}),e.respondsTo("end",function(){var t=this.state(),e=t.context;t.run.length>0&&(t.run.push([t.run[t.run.length-1][0],t.fillpixelbase]),this.renderRun()),e.restore()}),e.respondsTo("renderRun",function(){var t,e=this.state(),i=e.context;for(i.save(),i.globalAlpha=e.fillopacity,i.fillStyle=e.currentfillcolor.getHexString("#"),i.beginPath(),i.moveTo(e.run[0][0],e.run[0][1]),t=1;t<e.run.length;++t)i.lineTo(e.run[t][0],e.run[t][1]);for(i.fill(),i.restore(),i.save(),i.strokeStyle=e.linecolor.getHexString("#"),i.lineWidth=e.linewidth,i.beginPath(),i.moveTo(e.run[1][0],e.run[1][1]),t=2;t<e.run.length-1;++t)i.lineTo(e.run[t][0],e.run[t][1]);i.stroke(),i.restore()}),e.respondsTo("renderLegendIcon",function(t,e,i,r){var n=this.state(),a=r.width(),s=r.height();t.save(),t.transform(1,0,0,1,e,i),t.save(),10>a||10>s?t.fillStyle=n.fillcolor.toRGBA():t.fillStyle="rgba(255, 255, 255, 1)",t.fillRect(0,0,a,s),t.restore(),t.strokeStyle=n.linecolor.toRGBA(),t.lineWidth=n.linewidth,t.fillStyle=n.fillcolor.toRGBA(n.fillopacity),t.beginPath(),t.moveTo(0,0),(a>10||s>10)&&((a>20||s>20)&&(t.lineTo(a/6,s/2),t.lineTo(a/3,s/4)),t.lineTo(a/2,s-s/4),(a>20||s>20)&&(t.lineTo(a-a/3,s/4),t.lineTo(a-a/6,s/2))),t.lineTo(a,0),t.stroke(),t.fill(),t.restore()}),e)}},{"../../../core/renderers/fill_renderer.js":60,"../../../math/util.js":104}],93:[function(t,e,i){var r=!1;e.exports=function(){var e=t("../../../core/renderers/pointline_renderer.js"),i=t("../../../core/renderer.js");return r?e:(r=!0,e.hasA("settings"),e.respondsTo("begin",function(t){var e={context:t,points:[],first:!0,pointshape:this.getOptionValue("pointshape"),pointcolor:this.getOptionValue("pointcolor"),pointopacity:this.getOptionValue("pointopacity"),pointsize:this.getOptionValue("pointsize"),pointoutlinewidth:this.getOptionValue("pointoutlinewidth"),pointoutlinecolor:this.getOptionValue("pointoutlinecolor"),linecolor:this.getOptionValue("linecolor"),linewidth:this.getOptionValue("linewidth")};this.type()===i.LINE&&(e.pointsize=0),this.type()===i.POINT&&(e.linewidth=0),this.settings(e),e.linewidth>0&&(t.save(),t.beginPath(),t.lineWidth=e.linewidth,t.strokeStyle=e.linecolor.getHexString("#")),this.filter()&&this.filter().reset()}),e.respondsTo("dataPoint",function(t){var e,i=this.settings(),r=i.context;return this.isMissing(t)?void(i.first=!0):(e=this.transformPoint(t),void(this.filter()&&this.filter().filter(t,e)||(i.linewidth>0&&(i.first?(r.moveTo(e[0],e[1]),i.first=!1):r.lineTo(e[0],e[1])),i.pointsize>0&&i.points.push(e))))}),e.respondsTo("end",function(){var t=this.settings(),e=t.context;t.linewidth>0&&(e.stroke(),e.restore()),t.pointsize>0&&this.drawPoints()}),e.respondsTo("drawPoints",function(t){var i,r=this.settings(),n=r.context,a=r.points,s=r.pointshape;for(n.save(),n.beginPath(),s===e.PLUS||s===e.X?(n.strokeStyle=r.pointcolor.getHexString("#"),n.lineWidth=r.pointoutlinewidth):(n.fillStyle=r.pointcolor.toRGBA(r.pointopacity),n.strokeStyle=r.pointoutlinecolor.getHexString("#"),n.lineWidth=r.pointoutlinewidth),i=0;i<a.length;++i)this.drawPoint(n,r,a[i]);s!==e.PLUS&&s!==e.X&&n.fill(),n.stroke(),n.restore()}),e.respondsTo("drawPoint",function(t,i,r){var n,a,s,o=i.pointsize,l=r[0],h=r[1];switch(i.pointshape){case e.PLUS:return t.moveTo(l,h-o),t.lineTo(l,h+o),t.moveTo(l-o,h),void t.lineTo(l+o,h);case e.X:return s=.7071*o,t.moveTo(l-s,h-s),t.lineTo(l+s,h+s),t.moveTo(l-s,h+s),void t.lineTo(l+s,h-s);case e.SQUARE:return t.moveTo(l-o,h-o),t.lineTo(l+o,h-o),t.lineTo(l+o,h+o),void t.lineTo(l-o,h+o);case e.TRIANGLE:return s=1.5*o,n=.866025*s,a=.5*s,t.moveTo(l,h+s),t.lineTo(l+n,h-a),void t.lineTo(l-n,h-a);case e.DIAMOND:return s=1.5*o,t.moveTo(l-o,h),t.lineTo(l,h+s),t.lineTo(l+o,h),void t.lineTo(l,h-s);case e.STAR:return s=1.5*o,t.moveTo(l-0*s,h+1*s),t.lineTo(l+.3536*s,h+.3536*s),t.lineTo(l+.9511*s,h+.309*s),t.lineTo(l+.4455*s,h-.227*s),t.lineTo(l+.5878*s,h-.809*s),t.lineTo(l-.0782*s,h-.4938*s),t.lineTo(l-.5878*s,h-.809*s),t.lineTo(l-.4938*s,h-.0782*s),t.lineTo(l-.9511*s,h+.309*s),void t.lineTo(l-.227*s,h+.4455*s);case e.CIRCLE:return t.moveTo(l+o,h),void t.arc(l,h,o,0,2*Math.PI,!1)}}),e.respondsTo("renderLegendIcon",function(t,i,r,n){var a=this.settings(),s=a.pointshape,o=n.width(),l=n.height();t.save(),t.fillStyle="rgba(255, 255, 255, 1)",t.fillRect(i,r,o,l),a.linewidth>0&&(t.strokeStyle=a.linecolor.toRGBA(),t.lineWidth=a.linewidth,t.beginPath(),t.moveTo(i,r+l/2),t.lineTo(i+o,r+l/2),t.stroke()),a.pointsize>0&&(t.beginPath(),s===e.PLUS||s===e.X?(t.strokeStyle=a.pointcolor.toRGBA(),t.lineWidth=a.pointoutlinewidth):(t.fillStyle=a.pointcolor.toRGBA(a.pointopacity),t.strokeStyle=a.pointoutlinecolor.toRGBA(),t.lineWidth=a.pointoutlinewidth),this.drawPoint(t,a,[i+o/2,r+l/2]),s!==e.PLUS&&s!==e.X&&t.fill(),t.stroke()),t.restore()}),e)}},{"../../../core/renderer.js":56,"../../../core/renderers/pointline_renderer.js":61}],94:[function(t,e,i){var r=!1;e.exports=function(){var e=t("../../../core/renderers/rangebar_renderer.js");return r?e:(r=!0,e.hasA("state"),e.respondsTo("begin",function(t){var e={context:t,run:[],barpixelwidth:this.getOptionValue("barwidth").getRealValue()*this.plot().horizontalaxis().axisToDataRatio(),barpixeloffset:0,baroffset:this.getOptionValue("baroffset"),fillcolor:this.getOptionValue("fillcolor"),fillopacity:this.getOptionValue("fillopacity"),linecolor:this.getOptionValue("linecolor"),linewidth:this.getOptionValue("linewidth"),hidelines:this.getOptionValue("hidelines")};e.barpixeloffset=e.barpixelwidth*e.baroffset,this.state(e),t.save(),t.beginPath()}),e.respondsTo("dataPoint",function(t){if(!this.isMissing(t)){var e=this.state(),i=e.context,r=this.transformPoint(t),n=r[0]-e.barpixeloffset,a=n+e.barpixelwidth;i.moveTo(n,r[1]),i.lineTo(n,r[2]),i.lineTo(a,r[2]),i.lineTo(a,r[1]),i.lineTo(n,r[1])}}),e.respondsTo("end",function(){var t=this.state(),e=t.context;e.globalAlpha=t.fillopacity,e.fillStyle=t.fillcolor.getHexString("#"),e.fill(),t.linewidth>0&&t.barpixelwidth>t.hidelines&&(e.strokeStyle=t.linecolor.getHexString("#"),e.lineWidth=t.linewidth,e.stroke()),e.restore()}),e.respondsTo("renderLegendIcon",function(t,e,i,r){var n,a=this.state(),s=r.width(),o=r.height();t.save(),t.transform(1,0,0,1,e,i),t.save(),t.strokeStyle="#FFFFFF",t.fillStyle="#FFFFFF",t.fillRect(0,0,s,o),t.restore(),t.fillStyle=a.fillcolor.toRGBA(a.fillopacity),t.lineWidth=a.linewidth,a.barpixelwidth<10?t.strokeStyle=a.fillcolor.toRGBA(a.fillopacity):t.strokeStyle=a.linecolor.getHexString("#"),n=s>20||o>20?s/6:s>10||o>10?s/4:s/4,s>20&&o>20&&(t.fillRect(s/4-n/2,o/8,n,o/2),t.strokeRect(s/4-n/2,o/8,n,o/2),t.fillRect(s-s/4-n/2,o/4,n,o/3),t.strokeRect(s-s/4-n/2,o/4,n,o/3)),t.fillRect(s/2-n/2,0,n,o-o/4),t.strokeRect(s/2-n/2,0,n,o-o/4),t.restore()}),e)}},{"../../../core/renderers/rangebar_renderer.js":62}],95:[function(t,e,i){e.exports=function(){var e=t("../../core/text.js");return"function"==typeof e.drawText?e:(e.respondsTo("initializeGeometry",function(t){var e,i,r,n;if(t.context.save(),void 0!==t.fontSize&&(t.context.font=t.fontSize+" sans-serif"),e=this.measureStringWidth(t.context),i=this.measureStringHeight(t.context),t.context.restore(),void 0!==t.angle){var a=t.angle/180*Math.PI;r=Math.abs(Math.cos(a))*e+Math.abs(Math.sin(a))*i,n=Math.abs(Math.sin(a))*e+Math.abs(Math.cos(a))*i}else r=e,n=i;return this.origWidth(e),this.origHeight(i),this.rotatedWidth(r),this.rotatedHeight(n),this}),e.respondsTo("measureStringWidth",function(t){if(void 0===this.string())throw new Error("measureStringWidth requires the string attr to be set.");var e=t.measureText(this.string());return e.width}),e.respondsTo("measureStringHeight",function(t){if(void 0===this.string())throw new Error("measureStringHeight requires the string attr to be set.");var e=t.measureText("M"),i=this.string().match(/\n/g);return(null!==i?i.length+1:1)*e.width}),e.respondsTo("setTransform",function(t,e,i,r,n){t.transform(1,0,0,-1,0,2*i.y()),t.transform(1,0,0,1,i.x(),i.y()),t.transform(1,0,0,1,r.x(),-r.y()),t.rotate(-n*Math.PI/180),t.transform(1,0,0,1,-e.x(),e.y())}),e.respondsTo("drawText",function(t,e,i,r,n){t.save(),this.setTransform(t,e,i,r,n),t.fillText(this.string(),0,0),t.restore()}),e)}},{"../../core/text.js":63}],96:[function(t,e,i){e.exports=function(){var e=t("../../core/window.js");return"function"==typeof e.render?e:(e.respondsTo("render",function(t,e,i){var r=this.margin().left();t.save(),t.fillStyle=this.bordercolor().getHexString("#"),t.fillRect(r,r,e-2*r,i-2*r),t.restore()}),e)}},{"../../core/window.js":69}],97:[function(e,i,r){e("../lib/ajaxthrottle/src/ajaxthrottle.js"),e("../lib/lightbox/lightbox.js"),e("../lib/jquery/jquery.mousewheel.js"),e("../lib/busy-spinner/busy_spinner.js"),e("../lib/error-display/build/errorDisplay.js"),e("../lib/requestanimationframe/requestanimationframe.js"),e("./parser/xml/jquery_xml_parser.js")(t),e("./parser/json/json_parser.js")(t),e("./graphics/canvas/all.js")(t,window),e("./events/multigraph.js")(t,window,void 0);var n=e("./core/multigraph.js")(t),a=e("./util/utilityFunctions.js"),s=e("./util/parsingFunctions.js"),o=e("./util/validationFunctions.js");window.multigraph={core:{Multigraph:n,CSVData:e("./core/csv_data.js")(t),WebServiceData:e("./core/web_service_data.js")(t),ArrayData:e("./core/array_data.js"),Axis:e("./core/axis.js"),AxisBinding:e("./core/axis_binding.js"),AxisTitle:e("./core/axis_title.js"),Background:e("./core/background.js"),ConstantPlot:e("./core/constant_plot.js"),Data:e("./core/data.js"),DataFormatter:e("./core/data_formatter.js"),DataMeasure:e("./core/data_measure.js"),DataPlot:e("./core/data_plot.js"),DataValue:e("./core/data_value.js"),DataVariable:e("./core/data_variable.js"),Datatips:e("./core/datatips.js"),DatatipsVariable:e("./core/datatips_variable.js"),DatetimeFormatter:e("./core/datetime_formatter.js"),DatetimeMeasure:e("./core/datetime_measure.js"),DatetimeValue:e("./core/datetime_value.js"),EventEmitter:e("./core/event_emitter.js"),FilterOption:e("./core/filter_option.js"),Filter:e("./core/filter.js"),Graph:e("./core/graph.js"),Grid:e("./core/grid.js"),Icon:e("./core/icon.js"),Img:e("./core/img.js"),Labeler:e("./core/labeler.js"),Legend:e("./core/legend.js"),Mixin:e("./core/mixin.js"),NumberFormatter:e("./core/number_formatter.js"),NumberMeasure:e("./core/number_measure.js"),NumberValue:e("./core/number_value.js"),Pan:e("./core/pan.js"),PeriodicArrayData:e("./core/periodic_array_data.js"),Plot:e("./core/plot.js"),PlotLegend:e("./core/plot_legend.js"),Plotarea:e("./core/plotarea.js"),Renderer:e("./core/renderer.js"),BandRenderer:e("./core/renderers/band_renderer.js"),BarRenderer:e("./core/renderers/bar_renderer.js"),FillRenderer:e("./core/renderers/fill_renderer.js"),PointlineRenderer:e("./core/renderers/pointline_renderer.js"),RangeBarRenderer:e("./core/renderers/rangebar_renderer.js"),Text:e("./core/text.js"),Title:e("./core/title.js"),Warning:e("./core/warning.js"),WebServiceDataCacheNode:e("./core/web_service_data_cache_node.js"),WebServiceDataIterator:e("./core/web_service_data_iterator.js"),Window:e("./core/window.js"),Zoom:e("./core/zoom.js"),browserHasCanvasSupport:n.browserHasCanvasSupport,browserHasSVGSupport:n.browserHasSVGSupport},create:n.create,math:{Box:e("./math/box.js"),Displacement:e("./math/displacement.js"),Enum:e("./math/enum.js"),Insets:e("./math/insets.js"),Point:e("./math/point.js"),RGBColor:e("./math/rgb_color.js"),util:e("./math/util.js")},parser:{jquery:{stringToJQueryXMLObj:e("./parser/xml/jquery_xml_parser.js")(t).stringToJQueryXMLObj}},utilityFunctions:{getKeys:a.getKeys,insertDefaults:a.insertDefaults,getDefaultValuesFromXSD:a.getDefaultValuesFromXSD,parseAttribute:s.parseAttribute,parseInteger:s.parseInteger,parseBoolean:s.parseBoolean,getXMLAttr:s.getXMLAttr,validateNumberRange:o.validateNumberRange,typeOf:o.typeOf},jQuery:t},window.sprintf=e("sprintf")},{"../lib/ajaxthrottle/src/ajaxthrottle.js":1,"../lib/busy-spinner/busy_spinner.js":2,"../lib/error-display/build/errorDisplay.js":3,"../lib/jquery/jquery.mousewheel.js":13,"../lib/lightbox/lightbox.js":14,"../lib/requestanimationframe/requestanimationframe.js":15,"./core/array_data.js":17,"./core/axis.js":18,"./core/axis_binding.js":19,"./core/axis_title.js":20,"./core/background.js":21,"./core/constant_plot.js":23,"./core/csv_data.js":24,"./core/data.js":25,"./core/data_formatter.js":26,"./core/data_measure.js":27,"./core/data_plot.js":28,"./core/data_value.js":29,"./core/data_variable.js":30,"./core/datatips.js":31,"./core/datatips_variable.js":32,"./core/datetime_formatter.js":33,"./core/datetime_measure.js":34,"./core/datetime_value.js":36,"./core/event_emitter.js":37,"./core/filter.js":38,"./core/filter_option.js":39,"./core/graph.js":40,"./core/grid.js":41,"./core/icon.js":42,"./core/img.js":43,"./core/labeler.js":44,"./core/legend.js":45,"./core/mixin.js":46,"./core/multigraph.js":47,"./core/number_formatter.js":48,"./core/number_measure.js":49,"./core/number_value.js":50,"./core/pan.js":51,"./core/periodic_array_data.js":52,"./core/plot.js":53,"./core/plot_legend.js":54,"./core/plotarea.js":55,"./core/renderer.js":56,"./core/renderers/band_renderer.js":58,"./core/renderers/bar_renderer.js":59,"./core/renderers/fill_renderer.js":60,"./core/renderers/pointline_renderer.js":61,"./core/renderers/rangebar_renderer.js":62,"./core/text.js":63,"./core/title.js":64,"./core/warning.js":65,"./core/web_service_data.js":66,"./core/web_service_data_cache_node.js":67,"./core/web_service_data_iterator.js":68,"./core/window.js":69,"./core/zoom.js":70,"./events/multigraph.js":75,"./graphics/canvas/all.js":78,"./math/box.js":98,"./math/displacement.js":99,"./math/enum.js":100,"./math/insets.js":101,"./math/point.js":102,"./math/rgb_color.js":103,"./math/util.js":104,"./parser/json/json_parser.js":117,"./parser/xml/jquery_xml_parser.js":142,"./util/parsingFunctions.js":154,"./util/utilityFunctions.js":155,"./util/validationFunctions.js":156,sprintf:16}],98:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=new r.Model("Box",function(){this.hasA("width").which.isA("number"),this.hasA("height").which.isA("number"),this.isBuiltWith("width","height")});e.exports=n},{"../../lib/jermaine/src/jermaine.js":9}],99:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("../util/validationFunctions.js"),a={};a=new r.Model("Displacement",function(){this.hasA("a").which.validatesWith(function(t){return n.validateNumberRange(t,-1,1)}),this.hasA("b").which.isA("integer").and.defaultsTo(0),this.isBuiltWith("a","%b"),this.respondsTo("calculateLength",function(t){return this.a()*t+this.b()}),this.respondsTo("calculateCoordinate",function(t){return(this.a()+1)*t/2+this.b()})}),a.regExp=/^([\+\-]?[0-9\.]+)([+\-])([0-9\.+\-]+)$/,a.parse=function(t){"string"!=typeof t&&(t=String(t));var e,i,r,n,s=a.regExp.exec(t);if(void 0===t)e=new a(1);else if(null!==s){switch(i=parseFloat(s[1]),r=parseFloat(s[3]),s[2]){case"+":n=1;break;case"-":n=-1;break;default:n=0}e=new a(i,n*r)}else i=parseFloat(t),e=new a(i);return e},e.exports=a},{"../../lib/jermaine/src/jermaine.js":9,"../util/validationFunctions.js":156}],100:[function(t,e,i){var r=function(t){var e={},i=function(i){if(void 0!==e[i])throw new Error("attempt to redefine "+t+" Enum with key '"+i+"'");this.enumType=t,this.key=i,e[i]=this};return i.parse=function(t){return e[t]},i.prototype.toString=function(){return this.key},i.isInstance=function(e){return void 0!==e&&null!==e&&e.enumType===t},i};e.exports=r},{}],101:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=new r.Model("Insets",function(){this.hasA("top").which.isA("number"),this.hasA("left").which.isA("number"),this.hasA("bottom").which.isA("number"),this.hasA("right").which.isA("number"),this.respondsTo("set",function(t,e,i,r){this.top(t),this.left(e),this.bottom(i),this.right(r)}),this.isBuiltWith("top","left","bottom","right")});e.exports=n},{"../../lib/jermaine/src/jermaine.js":9}],102:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=new r.Model("Point",function(){this.hasA("x").which.isA("number"),this.hasA("y").which.isA("number"),this.isBuiltWith("x","y"),this.respondsTo("eq",function(t){return this.x()===t.x()&&this.y()===t.y()})}),a=/^\s*([0-9\-\+\.eE]+)(,|\s+|\s*,\s+|\s+,\s*)([0-9\-\+\.eE]+)\s*$/;n.parse=function(t){var e=a.exec(t);if(!e||4!==e.length)throw new Error("cannot parse string '"+t+"' as a Point");return new n(parseFloat(e[1]),parseFloat(e[3]))},e.exports=n},{"../../lib/jermaine/src/jermaine.js":9}],103:[function(t,e,i){var r=t("../../lib/jermaine/src/jermaine.js"),n=t("../util/validationFunctions.js"),a=new r.Model("RGBColor",function(){this.hasA("r").which.validatesWith(function(t){return n.validateNumberRange(t,0,1)}),this.hasA("g").which.validatesWith(function(t){return n.validateNumberRange(t,0,1)}),this.hasA("b").which.validatesWith(function(t){return n.validateNumberRange(t,0,1)});var t=function(t){return t=parseInt(255*t,10).toString(16),1===t.length&&(t="0"+t),t};this.respondsTo("getHexString",function(e){return e||(e="0x"),e+t(this.r())+t(this.g())+t(this.b())}),this.respondsTo("toRGBA",function(t){if(void 0===t&&(t=1),"number"!=typeof t)throw new Error("RGBColor.toRGBA: The argument, if present, must be a number");return"rgba("+255*this.r()+", "+255*this.g()+", "+255*this.b()+", "+t+")"}),this.respondsTo("eq",function(t){return this.r()===t.r()&&this.g()===t.g()&&this.b()===t.b()}),this.isBuiltWith("r","g","b")});a.colorNameIsDeprecated=function(t){switch(t){case"grey":return"0xeeeeee";case"skyblue":return"0x87ceeb";case"khaki":return"0xf0e68c";case"orange":return"0xffa500";case"salmon":return"0xfa8072";case"olive":return"0x9acd32";case"sienna":return"0xa0522d";case"pink":return"0xffb5c5";case"violet":return"0xee82ee"}return!1},a.parse=function(t){var e,i,r,n,s,o;if(void 0===t)return void 0;if("string"==typeof t){switch(s=t.toLowerCase()){case"black":e=0,i=0,r=0;break;case"red":e=1,i=0,r=0;break;case"green":e=0,i=1,r=0;break;case"blue":e=0,i=0,r=1;break;case"yellow":e=1,i=1,r=0;break;case"magenta":e=1,i=0,r=1;break;case"cyan":e=0,i=1,r=1;break;case"white":e=1,i=1,r=1;break;case"grey":n=parseInt("ee",16)/255,e=n,i=n,r=n;break;case"skyblue":e=parseInt("87",16)/255,i=parseInt("ce",16)/255,r=parseInt("eb",16)/255;break;case"khaki":e=parseInt("f0",16)/255,i=parseInt("e6",16)/255,r=parseInt("8c",16)/255;break;case"orange":e=parseInt("ff",16)/255,i=parseInt("a5",16)/255,r=parseInt("00",16)/255;break;case"salmon":e=parseInt("fa",16)/255,i=parseInt("80",16)/255,r=parseInt("72",16)/255;break;case"olive":e=parseInt("9a",16)/255,i=parseInt("cd",16)/255,r=parseInt("32",16)/255;break;case"sienna":e=parseInt("a0",16)/255,i=parseInt("52",16)/255,r=parseInt("2d",16)/255;break;case"pink":e=parseInt("ff",16)/255,i=parseInt("b5",16)/255,r=parseInt("c5",16)/255;break;case"violet":e=parseInt("ee",16)/255,i=parseInt("82",16)/255,r=parseInt("ee",16)/255;break;default:if(s=s.replace(/(0(x|X)|#)/,""),-1!==s.search(new RegExp(/([^0-9a-f])/)))throw new Error("'"+t+"' is not a valid color");if(6===s.length)e=parseInt(s.substring(0,2),16)/255,i=parseInt(s.substring(2,4),16)/255,r=parseInt(s.substring(4,6),16)/255;else{if(3!==s.length)throw new Error("'"+t+"' is not a valid color");e=parseInt(s.charAt(0),16)/15,i=parseInt(s.charAt(1),16)/15,r=parseInt(s.charAt(2),16)/15}}return o=new a(e,i,r)}throw new Error("'"+t+"' is not a valid color")},e.exports=a},{"../../lib/jermaine/src/jermaine.js":9,"../util/validationFunctions.js":156}],104:[function(t,e,i){Util={},Util.interp=function(t,e,i,r,n){return r+(n-r)*(t-e)/(i-e)},Util.safe_interp=function(t,e,i,r,n){return e===i?(r+n)/2:Util.interp(t,e,i,r,n)},Util.l2dist=function(t,e,i,r){var n=t-i,a=e-r;return Math.sqrt(n*n+a*a)},e.exports=Util},{}],105:[function(t,e,i){t("./labeler.js"),t("./axis_title.js"),t("./grid.js"),t("./pan.js"),t("./zoom.js");var r=t("../../core/axis.js"),n=t("../../util/parsingFunctions.js"),a=t("../../util/validationFunctions.js"),s=t("../../util/utilityFunctions.js"),o=function(e,i){var r,n,o=i.labelers(),l=t("../../core/labeler.js"),h=t("../../core/data_value.js");if(r=[],void 0!==e&&void 0!==e.spacing&&(r="array"===a.typeOf(e.spacing)?e.spacing:[e.spacing]),r.length>0)for(n=0;n<r.length;++n)o.add(l.parseJSON(e,i,void 0,r[n]));else if(void 0!==e&&void 0!==e.label&&e.label.length>0){var u=l.parseJSON(e,i,void 0,null);e.label.forEach(function(t){var e=[];void 0!==t.spacing&&(e="array"===a.typeOf(t.spacing)?t.spacing:[t.spacing]),e.forEach(function(e){o.add(l.parseJSON(t,i,u,e))})})}else{var c=s.getDefaultValuesFromXSD().horizontalaxis.labels,d=i.type()===h.NUMBER?c.defaultNumberSpacing:c.defaultDatetimeSpacing;for(n=0;n<d.length;++n)o.add(l.parseJSON(e,i,void 0,d[n]))}};r.parseJSON=function(e,i,l,h){var u,c=t("../../core/data_value.js"),d=t("../../math/point.js"),p=t("../../math/rgb_color.js"),f=t("../../math/displacement.js"),g=t("../../core/axis_title.js"),m=t("../../core/grid.js"),v=t("../../core/pan.js"),j=t("../../core/zoom.js"),b=t("../../core/axis_binding.js"),w=new r(i),y=n.parseAttribute,x=f.parse,A=function(t){return new d(t[0],t[1])},T=p.parse;if(e){if(y(e.id,w.id),y(e.type,w.type,c.parseType),y(e.length,w.length,x),function(){var t=e.positionbase;t&&(l.warning('Use of deprecated axis attribute "positionbase"; use "base" attribute instead'),"left"===t||"bottom"===t?w.base(new d(-1,-1)):"right"===t?w.base(new d(1,-1)):"top"===t&&w.base(new d(-1,1)))}(),u=e.position,void 0!==u)if("array"===a.typeOf(u))w.position(A(u));else{if(!a.isNumberNotNaN(u))throw new Error("axis position '"+u+"' is of the wrong type; it should be a number or a point");i===r.HORIZONTAL?w.position(new d(0,u)):w.position(new d(u,0))}if("min"in e&&w.min(s.coerceToString(e.min)),"auto"!==w.min()&&w.dataMin(c.parse(w.type(),w.min())),"max"in e&&w.max(s.coerceToString(e.max)),"auto"!==w.max()&&w.dataMax(c.parse(w.type(),w.max())),y(e.pregap,w.pregap),y(e.postgap,w.postgap),y(e.anchor,w.anchor),y(e.base,w.base,A),y(e.minposition,w.minposition,x),y(e.maxposition,w.maxposition,x),y(e.minoffset,w.minoffset),y(e.maxoffset,w.maxoffset),y(e.color,w.color,T),y(e.tickcolor,w.tickcolor,T),y(e.tickwidth,w.tickwidth),y(e.tickmin,w.tickmin),y(e.tickmax,w.tickmax),y(e.highlightstyle,w.highlightstyle),y(e.linewidth,w.linewidth),"title"in e?"boolean"==typeof e.title?e.title?w.title(new g(w)):w.title(g.parseJSON({},w)):w.title(g.parseJSON(e.title,w)):w.title(new g(w)),e.grid&&w.grid(m.parseJSON(e.grid)),"pan"in e&&w.pan(v.parseJSON(e.pan,w.type())),"zoom"in e&&w.zoom(j.parseJSON(e.zoom,w.type())),e.labels&&o(e.labels,w),e.binding){var M=c.parse(w.type(),e.binding.min),D=c.parse(w.type(),e.binding.max);if("string"!=typeof e.binding.id)throw new Error("invalid axis binding id: '"+e.binding.id+"'");if(!c.isInstance(M))throw new Error("invalid axis binding min: '"+e.binding.min+"'");if(!c.isInstance(D))throw new Error("invalid axis binding max: '"+e.binding.max+"'");b.findByIdOrCreateNew(e.binding.id).addAxis(w,M,D,h)}}return w},e.exports=r},{"../../core/axis.js":18,"../../core/axis_binding.js":19,"../../core/axis_title.js":20,"../../core/data_value.js":29,"../../core/grid.js":41,"../../core/labeler.js":44,"../../core/pan.js":51,"../../core/zoom.js":70,"../../math/displacement.js":99,"../../math/point.js":102,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154,"../../util/utilityFunctions.js":155,"../../util/validationFunctions.js":156,"./axis_title.js":106,"./grid.js":114,"./labeler.js":118,"./pan.js":121,"./zoom.js":128}],106:[function(t,e,i){var r=t("../../core/axis_title.js");r.parseJSON=function(e,i){var n,a=new r(i),s=t("../../core/text.js"),o=t("../../math/point.js"),l=t("../../util/parsingFunctions.js").parseAttribute,h=!1,u=function(t){return new o(t[0],t[1])};return e&&(n=e.text,""!==n&&void 0!==n&&(a.content(new s(n)),h=!0),l(e.anchor,a.anchor,u),l(e.base,a.base),l(e.position,a.position,u),l(e.angle,a.angle)),h===!0?a:void 0},e.exports=r},{"../../core/axis_title.js":20,"../../core/text.js":63,"../../math/point.js":102,"../../util/parsingFunctions.js":154}],107:[function(t,e,i){var r=t("../../core/background.js");r.parseJSON=function(e,i){var n=new r,a=t("../../util/parsingFunctions.js").parseAttribute,s=t("../../math/rgb_color.js"),o=t("../../core/img.js");return e&&(a(e.color,n.color,s.parse),e.img&&n.img(o.parseJSON(e.img,i))),n},e.exports=r},{"../../core/background.js":21,"../../core/img.js":43,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154
}],108:[function(t,e,i){e.exports=function(e){var i=t("../../core/data.js");return"function"==typeof i.parseJSON?i:(i.parseJSON=function(i,r,n){var a,s,o,l,h=t("../../core/array_data.js"),u=t("../../core/data_variable.js"),c=t("../../core/data_measure.js"),d=t("../../core/periodic_array_data.js"),p=t("../../core/csv_data.js")(e),f=t("../../core/web_service_data.js")(e),g=t("../../core/multigraph.js")(e),m=(t("../../util/parsingFunctions.js"),t("../../util/validationFunctions.js")),v=t("../../util/utilityFunctions.js"),j=[],b=h;if(t("./data_variable.js"),i){if(l=i.adapter,void 0!==l&&""!==l&&(b=g.getDataAdapter(l),void 0===b))throw new Error("Missing data adapater: "+l);i.missingvalue&&(a=v.coerceToString(i.missingvalue)),s=i.missingop,i.variables&&i.variables.forEach(function(t){j.push(u.parseJSON(t))});var w,y=!1;if("repeat"in i){var x="object"===m.typeOf(i.repeat)?i.repeat.period:i.repeat;void 0===x||""===x?n.warning("repeat requires a period; data treated as non-repeating"):(w=c.parse(j[0].type(),x),y=!0)}if(i.values){var A=i.values;o=y?new d(j,A,w):new h(j,A)}if(i.csv){var T="object"===m.typeOf(i.csv)?i.csv.location:i.csv;o=new p(j,r?r.rebaseUrl(T):T,n,r?r.getAjaxThrottle(T):void 0)}if(i.service){var M="object"===m.typeOf(i.service)?i.service.location:i.service;o=new f(j,r?r.rebaseUrl(M):M,n,r?r.getAjaxThrottle(M):void 0),"object"===m.typeOf(i.service)&&"format"in i.service&&o.format(i.service.format)}}return o&&(void 0!==a&&o.defaultMissingvalue(a),void 0!==s&&o.defaultMissingop(s),o.adapter(b)),o},i)}},{"../../core/array_data.js":17,"../../core/csv_data.js":24,"../../core/data.js":25,"../../core/data_measure.js":27,"../../core/data_variable.js":30,"../../core/multigraph.js":47,"../../core/periodic_array_data.js":52,"../../core/web_service_data.js":66,"../../util/parsingFunctions.js":154,"../../util/utilityFunctions.js":155,"../../util/validationFunctions.js":156,"./data_variable.js":109}],109:[function(t,e,i){var r=t("../../core/data_variable.js");r.parseJSON=function(e,i){var n,a=t("../../util/parsingFunctions.js"),s=a.parseAttribute,o=t("../../core/data_value.js");return e&&e.id&&(n=new r(e.id),s(e.column,n.column),s(e.type,n.type,o.parseType),s(e.missingvalue,n.missingvalue,function(t){return o.parse(n.type(),t)}),s(e.missingop,n.missingop,o.parseComparator)),n},e.exports=r},{"../../core/data_value.js":29,"../../core/data_variable.js":30,"../../util/parsingFunctions.js":154}],110:[function(t,e,i){var r=t("../../core/datatips.js");r.parseJSON=function(e){var i=new r,n=t("../../math/rgb_color.js"),a=t("../../core/datatips_variable.js"),s=t("../../util/parsingFunctions.js"),o=(t("../../util/utilityFunctions.js"),n.parse),l=s.parseAttribute;s.parseInteger;return e&&(e["variable-formats"]&&e["variable-formats"].forEach(function(t){var e=new a;e.formatString(t),i.variables().add(e)}),l(e.format,i.formatString),l(e.bgcolor,i.bgcolor,o),l(e.bgalpha,i.bgalpha),l(e.border,i.border),l(e.bordercolor,i.bordercolor,o),l(e.pad,i.pad)),i},e.exports=r},{"../../core/datatips.js":31,"../../core/datatips_variable.js":32,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154,"../../util/utilityFunctions.js":155}],111:[function(t,e,i){var r=t("../../core/filter.js");r.parseJSON=function(e){var i,n=new r,a=t("../../core/filter_option.js"),s=t("../../util/parsingFunctions.js"),o=t("../../util/utilityFunctions.js");if(t("./filter_option.js"),e){if(e.options)for(opt in e.options)e.options.hasOwnProperty(opt)&&(i=new a,i.name(opt),i.value(o.coerceToString(e.options[opt])),n.options().add(i));return s.parseAttribute(e.type,n.type),n}return r},e.exports=r},{"../../core/filter.js":38,"../../core/filter_option.js":39,"../../util/parsingFunctions.js":154,"../../util/utilityFunctions.js":155,"./filter_option.js":112}],112:[function(t,e,i){var r=t("../../core/filter_option.js");r.parseJSON=function(e){var i=(t("../../util/parsingFunctions.js"),t("../../util/utilityFunctions.js")),n=new r;return e&&(n.name(e.name),"value"in e&&""!==e.value&&n.value(i.coerceToString(e.value))),n},e.exports=r},{"../../core/filter_option.js":39,"../../util/parsingFunctions.js":154,"../../util/utilityFunctions.js":155}],113:[function(t,e,i){e.exports=function(e){var i=t("../../core/graph.js");t("../../util/parsingFunctions.js");return"function"==typeof i.parseJSON?i:(i.parseJSON=function(r,n,a){function s(t){var e=t.pattern?t.pattern:b.throttle.pattern,i=t.requests?t.requests:b.throttle.requests,r=t.period?t.period:b.throttle.period,a=t.concurrent?t.concurrent:b.throttle.concurrent;n.addAjaxThrottle(e,i,r,a)}var o=new i,l=t("../../core/axis.js"),h=t("../../core/window.js"),u=t("../../core/legend.js"),c=t("../../core/background.js"),d=t("../../core/plotarea.js"),p=t("../../core/consecutive_distance_filter.js"),f=t("../../core/title.js"),g=t("../../core/data.js"),m=t("../../core/plot.js"),v=t("../../util/utilityFunctions.js"),j=t("../../util/validationFunctions.js"),b=v.getDefaultValuesFromXSD();if(t("./window.js"),t("./legend.js"),t("./background.js"),t("./plotarea.js"),t("./title.js"),t("./axis.js"),t("./data.js")(e),t("./plot.js"),o.multigraph(n),r){if(r.window&&o.window(h.parseJSON(r.window)),"legend"in r?o.legend(u.parseJSON(r.legend)):o.legend(u.parseJSON()),r.background&&o.background(c.parseJSON(r.background,o.multigraph())),r.plotarea&&o.plotarea(d.parseJSON(r.plotarea)),r.title&&o.title(f.parseJSON(r.title,o)),"filter"in r)if("object"===j.typeOf(r.filter)){if("undefined"!=typeof r.filter.type&&"consecutivedistance"!==r.filter.type)throw new Error("unknown filter type: "+r.filter.type);o.filter(new p(r.filter))}else{if("boolean"!==j.typeOf(r.filter))throw new Error("invalid filter property: "+r.filter);r.filter&&o.filter(new p({}))}var w=r.horizontalaxis?r.horizontalaxis:r.horizontalaxes;if(r.horizontalaxis&&r.horizontalaxes)throw new Error("graph may not have both 'horizontalaxis' and 'horizontalaxes'");w&&("array"===j.typeOf(w)?w.forEach(function(t){o.axes().add(l.parseJSON(t,l.HORIZONTAL,a,o.multigraph()))}):o.axes().add(l.parseJSON(w,l.HORIZONTAL,a,o.multigraph())));var y=r.verticalaxis?r.verticalaxis:r.verticalaxes;if(r.verticalaxis&&r.verticalaxes)throw new Error("graph may not have both 'verticalaxis' and 'verticalaxes'");y&&("array"===j.typeOf(y)?y.forEach(function(t){o.axes().add(l.parseJSON(t,l.VERTICAL,a,o.multigraph()))}):o.axes().add(l.parseJSON(y,l.VERTICAL,a,o.multigraph())));var x=r.throttle?r.throttle:r.throttles;if(r.throttle&&r.throttles)throw new Error("graph may not have both 'throttle' and 'throttles'");x&&("array"===j.typeOf(x)?x.forEach(s):s(x)),r.data&&("array"===j.typeOf(r.data)?r.data.forEach(function(t){o.data().add(g.parseJSON(t,o.multigraph(),a))}):o.data().add(g.parseJSON(r.data,o.multigraph(),a)));var A=r.plot?r.plot:r.plots;if(r.plot&&r.plots)throw new Error("graph may not have both 'plot' and 'plots'");A&&("array"===j.typeOf(A)?A.forEach(function(t){o.plots().add(m.parseJSON(t,o,a))}):o.plots().add(m.parseJSON(A,o,a))),o.postParse()}return o},i)}},{"../../core/axis.js":18,"../../core/background.js":21,"../../core/consecutive_distance_filter.js":22,"../../core/data.js":25,"../../core/graph.js":40,"../../core/legend.js":45,"../../core/plot.js":53,"../../core/plotarea.js":55,"../../core/title.js":64,"../../core/window.js":69,"../../util/parsingFunctions.js":154,"../../util/utilityFunctions.js":155,"../../util/validationFunctions.js":156,"./axis.js":105,"./background.js":107,"./data.js":108,"./legend.js":119,"./plot.js":122,"./plotarea.js":124,"./title.js":126,"./window.js":127}],114:[function(t,e,i){var r=t("../../core/grid.js");r.parseJSON=function(e){var i,n=new r,a=t("../../math/rgb_color.js"),s=t("../../util/parsingFunctions.js").parseAttribute;return e&&(s(e.color,n.color,a.parse),i=e.visible,void 0!==i?n.visible(i):n.visible(!0)),n},e.exports=r},{"../../core/grid.js":41,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154}],115:[function(t,e,i){var r=t("../../core/icon.js");r.parseJSON=function(e){var i=new r,n=t("../../util/parsingFunctions.js").parseAttribute;return e&&(n(e.height,i.height),n(e.width,i.width),n(e.border,i.border)),i},e.exports=r},{"../../core/icon.js":42,"../../util/parsingFunctions.js":154}],116:[function(t,e,i){var r=t("../../core/img.js");r.parseJSON=function(e,i){var n,a=t("../../util/parsingFunctions.js").parseAttribute,s=t("../../math/point.js"),o=function(t){return new s(t[0],t[1])};if(e&&void 0!==e.src){var l=e.src;if(!l)throw new Error('img requires a "src" property');i&&(l=i.rebaseUrl(l)),n=new r(l),a(e.anchor,n.anchor,o),a(e.base,n.base,o),a(e.position,n.position,o),a(e.frame,n.frame,function(t){return t.toLowerCase()})}return n},e.exports=r},{"../../core/img.js":43,"../../math/point.js":102,"../../util/parsingFunctions.js":154}],117:[function(t,e,i){var r=!1;e.exports=function(e){r||(r=!0,t("./data.js")(e),t("./graph.js")(e),t("./multigraph.js")(e),t("./axis.js"),t("./axis_title.js"),t("./background.js"),t("./datatips.js"),t("./data_variable.js"),t("./filter.js"),t("./filter_option.js"),t("./grid.js"),t("./icon.js"),t("./img.js"),t("./json_parser.js"),t("./labeler.js"),t("./legend.js"),t("./pan.js"),t("./plotarea.js"),t("./plot.js"),t("./plot_legend.js"),t("./renderer.js"),t("./title.js"),t("./window.js"),t("./zoom.js"))}},{"./axis.js":105,"./axis_title.js":106,"./background.js":107,"./data.js":108,"./data_variable.js":109,"./datatips.js":110,"./filter.js":111,"./filter_option.js":112,"./graph.js":113,"./grid.js":114,"./icon.js":115,"./img.js":116,"./json_parser.js":117,"./labeler.js":118,"./legend.js":119,"./multigraph.js":120,"./pan.js":121,"./plot.js":122,"./plot_legend.js":123,"./plotarea.js":124,"./renderer.js":125,"./title.js":126,"./window.js":127,"./zoom.js":128}],118:[function(t,e,i){var r=t("../../core/labeler.js");r.parseJSON=function(e,i,n,a){var s,o=t("../../math/point.js"),l=t("../../math/rgb_color.js"),h=t("../../core/data_measure.js"),u=t("../../core/data_value.js"),c=t("../../core/data_formatter.js"),d=t("../../util/parsingFunctions.js"),p=function(t){return new o(t[0],t[1])},f=function(t,e,i,r){d.parseAttribute(t,e,i)||void 0===n||e(n[r]())},g=function(t){return function(e){return c.create(t,e)}},m=function(t){return function(e){return u.parse(t,e)}};return e&&(s=new r(i),null!==a&&(void 0===a&&(a=e.spacing),f(a,s.spacing,function(t){return h.parse(i.type(),t)},"spacing")),f(e.format,s.formatter,g(i.type()),"formatter"),f(e.start,s.start,m(i.type()),"start"),f(e.angle,s.angle,void 0,"angle"),f(e.position,s.position,p,"position"),f(e.anchor,s.anchor,p,"anchor"),f(e.densityfactor,s.densityfactor,void 0,"densityfactor"),f(e.color,s.color,l.parse,"color"),f(e.visible,s.visible,d.parseBoolean,"visible")),s},e.exports=r},{"../../core/data_formatter.js":26,"../../core/data_measure.js":27,"../../core/data_value.js":29,"../../core/labeler.js":44,"../../math/point.js":102,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154}],119:[function(t,e,i){var r=t("../../core/legend.js");r.parseJSON=function(e){var i=new r,n=t("../../util/parsingFunctions.js"),a=t("../../math/point.js"),s=t("../../math/rgb_color.js"),a=t("../../math/point.js"),o=t("../../core/icon.js"),l=n.parseAttribute,h=function(t){return new a(t[0],t[1])};return t("./icon.js"),"boolean"==typeof e?l(e,i.visible):e&&(l(e.visible,i.visible,n.parseBoolean),l(e.base,i.base,h),l(e.anchor,i.anchor,h),l(e.position,i.position,h),l(e.frame,i.frame),l(e.color,i.color,s.parse),l(e.bordercolor,i.bordercolor,s.parse),l(e.opacity,i.opacity),l(e.border,i.border),l(e.rows,i.rows),l(e.columns,i.columns),l(e.cornerradius,i.cornerradius),l(e.padding,i.padding),e.icon&&i.icon(o.parseJSON(e.icon))),i},e.exports=r},{"../../core/icon.js":42,"../../core/legend.js":45,"../../math/point.js":102,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154,"./icon.js":115}],120:[function(t,e,i){e.exports=function(e){var i=t("../../core/multigraph.js")(e);return"function"==typeof i.parseJSON?i:(i.parseJSON=function(r,n,a){var s=new i,o=s.graphs(),l=t("../../core/graph.js"),h=t("../../util/validationFunctions.js");return t("./graph.js")(e),s.mugl(n),r&&("array"===h.typeOf(r)?r.forEach(function(t){o.add(l.parseJSON(t,s,a))}):o.add(l.parseJSON(r,s,a))),s},i)}},{"../../core/graph.js":40,"../../core/multigraph.js":47,"../../util/validationFunctions.js":156,"./graph.js":113}],121:[function(t,e,i){var r=t("../../core/pan.js");r.parseJSON=function(e,i){var n=new r,a=t("../../util/parsingFunctions.js"),s=t("../../util/validationFunctions.js"),o=a.parseAttribute,l=a.parseBoolean,h=t("../../core/data_value.js"),u=function(t){return h.parse(i,t)};return"boolean"===s.typeOf(e)?o(e,n.allowed,l):e&&(o(e.allowed,n.allowed,l),o(e.min,n.min,u),o(e.max,n.max,u)),n},e.exports=r},{"../../core/data_value.js":29,"../../core/pan.js":51,"../../util/parsingFunctions.js":154,"../../util/validationFunctions.js":156}],122:[function(t,e,i){var r=t("../../core/plot.js");r.parseJSON=function(e,i,r){function n(t){return Object.keys(t)[0]}function a(t){return Object.keys(t).length}function s(t){if("number"===j.typeOf(t))return!0;if("string"===j.typeOf(t)){if(isNaN(t)){try{DatetimeValue.parse(t)}catch(e){return!1}return!0}return!0}return!1}var o,l,h,u,c=t("../../core/data_plot.js"),d=t("../../core/plot_legend.js"),p=t("../../core/constant_plot.js"),f=t("../../core/data_value.js"),g=(t("../../core/datetime_value.js"),t("../../core/renderer.js")),m=(t("../../core/filter.js"),t("../../core/consecutive_distance_filter.js")),v=t("../../core/datatips.js"),j=(t("../../util/parsingFunctions.js"),t("../../util/validationFunctions.js"));if(t("./plot_legend.js"),t("./renderer.js"),t("./filter.js"),t("./datatips.js"),e){var b={horizontal:[],vertical:[]},w={horizontal:void 0,vertical:void 0},y=void 0;if(e.verticalaxis)if("array"===j.typeOf(e.verticalaxis))b.vertical=e.verticalaxis;else if("number"===j.typeOf(e.verticalaxis))y=f.parse(f.NUMBER,e.verticalaxis);else if("string"===j.typeOf(e.verticalaxis)){if(s(e.verticalaxis))y=f.parse(f.DATETIME,e.verticalaxis);else if(w.vertical=e.verticalaxis,h=i.axisById(w.vertical),"undefined"==typeof h)throw new Error("plot refers to unknown vertical axis id: "+w.vertical)}else if("object"===j.typeOf(e.verticalaxis)){if(1!==a(e.verticalaxis))throw new Error("plot.verticalaxis object must contain exactly one key/value pair");if(w.vertical=n(e.verticalaxis),h=i.axisById(w.vertical),"undefined"==typeof h)throw new Error("plot refers to unknown vertical axis id: "+w.vertical);if("undefined"!==j.typeOf(e.verticalaxis[w.vertical]))if("array"===j.typeOf(e.verticalaxis[w.vertical]))b.vertical=e.verticalaxis[w.vertical];else if("number"===j.typeOf(e.verticalaxis[w.vertical])){if(h.type()!==f.NUMBER)throw new Error("constant value of '"+e.verticalaxis[w.vertical]+"' not appropriate for axis of type '"+h.type()+"'");y=f.parse(f.NUMBER,e.verticalaxis[w.vertical])}else{if("string"!==j.typeOf(e.verticalaxis[w.vertical]))throw new Error("value for key '"+w.vertical+"' for verticalaxis is of wrong type");s(e.verticalaxis[w.vertical])?y=f.parse(h.type(),e.verticalaxis[w.vertical]):b.vertical=[e.verticalaxis[w.vertical]]}}if(o=void 0!==y?new p(y):new c,o.verticalaxis(h),e.horizontalaxis)if("array"===j.typeOf(e.horizontalaxis))b.horizontal=e.horizontalaxis;else if("string"===j.typeOf(e.horizontalaxis)){if(w.horizontal=e.horizontalaxis,l=i.axisById(w.horizontal),void 0===l)throw new Error("Plot Horizontal Axis Error: The graph does not contain an axis with an id of '"+w.horizontal+"'");o.horizontalaxis(l)}else if("object"===j.typeOf(e.horizontalaxis)){if(1!==a(e.horizontalaxis))throw new Error("plot.horizontalaxis object must contain exactly one key/value pair");if(w.horizontal=n(e.horizontalaxis),l=i.axisById(w.horizontal),void 0===l)throw new Error("Plot Horizontal Axis Error: The graph does not contain an axis with an id of '"+w.horizontal+"'");if(o.horizontalaxis(l),"undefined"!==j.typeOf(e.horizontalaxis[w.horizontal]))if("array"===j.typeOf(e.horizontalaxis[w.horizontal]))b.horizontal=e.horizontalaxis[w.horizontal];else{if("string"!==j.typeOf(e.horizontalaxis[w.horizontal]))throw new Error("value for key '"+w.horizontal+"' for horizontalaxis is of wrong type");b.horizontal=[e.horizontalaxis[w.horizontal]]}}if(o instanceof c&&(0==b.horizontal.length&&o.variable().add(null),i)){var x=[].concat(b.horizontal,b.vertical);x.forEach(function(t){if(u=i.variableById(t),void 0===u)throw new Error("Plot Variable Error: No Data tag contains a variable with an id of '"+t+"'");o.data(u.data()),o.variable().add(u)})}if("legend"in e?o.legend(d.parseJSON(e.legend,o)):o.legend(d.parseJSON(void 0,o)),"renderer"in e&&("style"in e||"options"in e))throw new Error("plot may not contain both 'renderer' and 'style', or 'renderer' and 'options'");if("renderer"in e?o.renderer(g.parseJSON(e.renderer,o,r)):"style"in e?o.renderer(g.parseJSON({type:e.style,options:e.options},o,r)):"options"in e&&o.renderer(g.parseJSON({type:"line",options:e.options},o,r)),"filter"in e)if("object"===j.typeOf(e.filter)){if("undefined"!=typeof e.filter.type&&"consecutivedistance"!==e.filter.type)throw new Error("unknown filter type: "+e.filter.type);o.renderer().filter(new m(e.filter))}else{if("boolean"!==j.typeOf(e.filter))throw new Error("invalid filter property: "+e.filter);e.filter&&(i&&i.filter()?o.renderer().filter(i.filter()):o.renderer().filter(new m({})))}else i&&i.filter()&&o.renderer().filter(i.filter());"datatips"in e&&o.datatips(v.parseJSON(e.datatips))}return o},e.exports=r},{"../../core/consecutive_distance_filter.js":22,"../../core/constant_plot.js":23,"../../core/data_plot.js":28,"../../core/data_value.js":29,"../../core/datatips.js":31,"../../core/datetime_value.js":36,"../../core/filter.js":38,"../../core/plot.js":53,"../../core/plot_legend.js":54,"../../core/renderer.js":56,"../../util/parsingFunctions.js":154,"../../util/validationFunctions.js":156,"./datatips.js":110,"./filter.js":111,"./plot_legend.js":123,"./renderer.js":125}],123:[function(t,e,i){var r=t("../../core/plot_legend.js");r.parseJSON=function(e,i){var n=new r,a=t("../../util/parsingFunctions.js"),s=t("../../core/text.js"),o=a.parseAttribute;return"boolean"==typeof e?n.visible(e):e&&(o(e.visible,n.visible,a.parseBoolean),o(e.label,n.label,function(t){return new s(t)})),void 0===n.label()&&("function"==typeof i.variable&&i.variable().size()>=2?n.label(new s(i.variable().at(1).id())):n.label(new s("plot"))),n},e.exports=r},{"../../core/plot_legend.js":54,"../../core/text.js":63,"../../util/parsingFunctions.js":154}],124:[function(t,e,i){var r=t("../../core/plotarea.js");r.parseJSON=function(e){var i=new r,n=i.margin(),a=t("../../util/parsingFunctions.js"),s=t("../../math/rgb_color.js"),o=s.parse,l=a.parseAttribute;a.parseInteger;return e&&(l(e.marginbottom,n.bottom),l(e.marginleft,n.left),l(e.margintop,n.top),l(e.marginright,n.right),l(e.border,i.border),l(e.color,i.color,o),l(e.bordercolor,i.bordercolor,o)),i},e.exports=r},{"../../core/plotarea.js":55,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154}],125:[function(t,e,i){var r=t("../../core/renderer.js");r.parseJSON=function(e,i,n){function a(t,e,i,r){try{o.setOptionFromString(t,e,i,r)}catch(a){if(!(a instanceof h))throw a;n.warning(a)}}var s,o,l,h=(t("../../core/data_value.js"),t("../../core/number_value.js"),t("../../core/warning.js")),u=(t("../../util/parsingFunctions.js"),t("../../util/validationFunctions.js"));if(t("../../core/renderers/all_renderers.js"),e&&void 0!==e.type){if(s=r.Type.parse(e.type),!r.Type.isInstance(s))throw new Error("unknown renderer type '"+e.type+"'");if(o=r.create(s),o.plot(i),e.options)for(l in e.options)e.options.hasOwnProperty(l)&&("array"===u.typeOf(e.options[l])?e.options[l].forEach(function(t){a(l,t.value,t.min,t.max)}):a(l,e.options[l]))}return o},e.exports=r},{"../../core/data_value.js":29,"../../core/number_value.js":50,"../../core/renderer.js":56,"../../core/renderers/all_renderers.js":57,"../../core/warning.js":65,"../../util/parsingFunctions.js":154,"../../util/validationFunctions.js":156}],126:[function(t,e,i){var r=t("../../core/title.js");r.parseJSON=function(e,i){var n,a=t("../../math/point.js"),s=t("../../math/rgb_color.js"),o=t("../../core/text.js"),l=t("../../util/parsingFunctions.js"),h=function(t){return new a(t[0],t[1])},u=s.parse,c=l.parseAttribute;if(e){var d=e.text;if(""===d)return void 0;n=new r(new o(d),i),c(e.frame,n.frame,function(t){return t.toLowerCase()}),c(e.border,n.border),c(e.color,n.color,u),c(e.bordercolor,n.bordercolor,u),c(e.opacity,n.opacity),c(e.padding,n.padding),c(e.cornerradius,n.cornerradius),c(e.anchor,n.anchor,h),c(e.base,n.base,h),c(e.position,n.position,h)}return n},e.exports=r},{"../../core/text.js":63,"../../core/title.js":64,"../../math/point.js":102,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154}],127:[function(t,e,i){var r=t("../../core/window.js");r.parseJSON=function(e){var i,n=new r,a=t("../../math/rgb_color.js"),s=t("../../util/parsingFunctions.js"),o=s.parseAttribute;s.parseInteger;return e&&(o(e.width,n.width),o(e.height,n.height),o(e.border,n.border),i=e.margin,void 0!==i&&n.margin().set(i,i,i,i),i=e.padding,void 0!==i&&n.padding().set(i,i,i,i),o(e.bordercolor,n.bordercolor,a.parse)),n},e.exports=r},{"../../core/window.js":69,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154}],128:[function(t,e,i){var r=t("../../core/zoom.js");r.parseJSON=function(e,i){var n,a=new r,s=t("../../core/data_value.js"),o=t("../../core/data_measure.js"),l=t("../../util/parsingFunctions.js"),h=t("../../util/validationFunctions.js"),u=l.parseAttribute,c=l.parseBoolean,d=function(t){return o.parse(i,t)};return"boolean"===h.typeOf(e)?u(e,a.allowed,c):e&&(u(e.allowed,a.allowed,c),u(e.min,a.min,d),u(e.max,a.max,d),n=e.anchor,void 0!==n&&("string"==typeof n&&"none"===n.toLowerCase()?a.anchor(null):a.anchor(s.parse(i,n)))),a},e.exports=r},{"../../core/data_measure.js":27,"../../core/data_value.js":29,"../../core/zoom.js":70,"../../util/parsingFunctions.js":154,"../../util/validationFunctions.js":156}],129:[function(t,e,i){e.exports=function(e){var i=t("../../core/axis.js"),r=t("../../util/parsingFunctions.js");if("function"==typeof i.parseXML)return i;var n=function(i,n){var a,s,o=[],l=i.find("labels"),h=i.find("label"),u=n.labelers(),c=t("../../core/labeler.js"),d=t("../../core/data_value.js"),p=t("../../util/utilityFunctions.js");if(a=e.trim(r.getXMLAttr(l,"spacing")),""!==a&&(o=a.split(/\s+/)),o.length>0)for(s=0;s<o.length;++s)u.add(c.parseXML(l,n,void 0,o[s]));else if(h.length>0){var f=c.parseXML(l,n,void 0,null);e.each(h,function(t,i){for(a=e.trim(r.getXMLAttr(e(i),"spacing")),o=[],""!==a&&(o=a.split(/\s+/)),s=0;s<o.length;++s)u.add(c.parseXML(e(i),n,f,o[s]))})}else{var g=p.getDefaultValuesFromXSD().horizontalaxis.labels,m=n.type()===d.NUMBER?g.defaultNumberSpacing:g.defaultDatetimeSpacing;for(s=0;s<m.length;++s)u.add(c.parseXML(l,n,void 0,m[s]))}};return i.parseXML=function(e,a,s,o){var l,h,u,c=t("../../core/data_value.js"),d=t("../../math/point.js"),p=t("../../math/rgb_color.js"),f=t("../../math/displacement.js"),g=t("../../core/axis_title.js"),m=t("../../core/grid.js"),v=t("../../core/pan.js"),j=t("../../core/zoom.js"),b=t("../../core/axis_binding.js"),w=new i(a),y=r.parseAttribute,x=r.parseInteger,A=f.parse,T=d.parse,M=p.parse;if(e){if(y(r.getXMLAttr(e,"id"),w.id),y(r.getXMLAttr(e,"type"),w.type,c.parseType),y(r.getXMLAttr(e,"length"),w.length,A),function(){var t=r.getXMLAttr(e,"positionbase");t&&(s.warning('Use of deprecated axis attribute "positionbase"; use "base" attribute instead'),"left"===t||"bottom"===t?w.base(T("-1 -1")):"right"===t?w.base(T("1 -1")):"top"===t&&w.base(T("-1 1")))}(),l=r.getXMLAttr(e,"position"),void 0!==l)try{w.position(T(l))}catch(D){if(u=parseInt(l,10),u!==u)throw D;a===i.HORIZONTAL?w.position(new d(0,u)):w.position(new d(u,0))}if(w.min(r.getXMLAttr(e,"min")),"auto"!==w.min()&&w.dataMin(c.parse(w.type(),w.min())),w.max(r.getXMLAttr(e,"max")),"auto"!==w.max()&&w.dataMax(c.parse(w.type(),w.max())),y(r.getXMLAttr(e,"pregap"),w.pregap,parseFloat),y(r.getXMLAttr(e,"postgap"),w.postgap,parseFloat),y(r.getXMLAttr(e,"anchor"),w.anchor,parseFloat),y(r.getXMLAttr(e,"base"),w.base,T),y(r.getXMLAttr(e,"minposition"),w.minposition,A),y(r.getXMLAttr(e,"maxposition"),w.maxposition,A),y(r.getXMLAttr(e,"minoffset"),w.minoffset,parseFloat),y(r.getXMLAttr(e,"maxoffset"),w.maxoffset,parseFloat),y(r.getXMLAttr(e,"color"),w.color,M),y(r.getXMLAttr(e,"tickcolor"),w.tickcolor,M),y(r.getXMLAttr(e,"tickwidth"),w.tickwidth,x),y(r.getXMLAttr(e,"tickmin"),w.tickmin,x),y(r.getXMLAttr(e,"tickmax"),w.tickmax,x),y(r.getXMLAttr(e,"highlightstyle"),w.highlightstyle),y(r.getXMLAttr(e,"linewidth"),w.linewidth,x),h=e.find("title"),h.length>0?w.title(g.parseXML(h,w)):w.title(new g(w)),h=e.find("grid"),h.length>0&&w.grid(m.parseXML(h)),h=e.find("pan"),h.length>0&&w.pan(v.parseXML(h,w.type())),h=e.find("zoom"),h.length>0&&w.zoom(j.parseXML(h,w.type())),e.find("labels").length>0&&n(e,w),h=e.find("binding"),h.length>0){var _=r.getXMLAttr(h,"id"),S=r.getXMLAttr(h,"min"),O=r.getXMLAttr(h,"max"),L=c.parse(w.type(),S),E=c.parse(w.type(),O);if("string"!=typeof _||_.length<=0)throw new Error("invalid axis binding id: '"+_+"'");if(!c.isInstance(L))throw new Error("invalid axis binding min: '"+S+"'");if(!c.isInstance(E))throw new Error("invalid axis binding max: '"+O+"'");b.findByIdOrCreateNew(_).addAxis(w,L,E,o)}}return w},i}},{"../../core/axis.js":18,"../../core/axis_binding.js":19,"../../core/axis_title.js":20,"../../core/data_value.js":29,"../../core/grid.js":41,"../../core/labeler.js":44,"../../core/pan.js":51,"../../core/zoom.js":70,"../../math/displacement.js":99,"../../math/point.js":102,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154,"../../util/utilityFunctions.js":155}],130:[function(t,e,i){var r=t("../../core/axis_title.js");r.parseXML=function(e,i){var n,a=new r(i),s=t("../../core/text.js"),o=t("../../math/point.js"),l=t("../../util/parsingFunctions.js"),h=!1,u=o.parse,c=function(t,e,i){l.parseAttribute(t,e,i)};return e&&(n=e.text(),""!==n&&(a.content(new s(n)),h=!0),c(l.getXMLAttr(e,"anchor"),a.anchor,u),c(l.getXMLAttr(e,"base"),a.base,parseFloat),c(l.getXMLAttr(e,"position"),a.position,u),c(l.getXMLAttr(e,"angle"),a.angle,parseFloat)),h===!0?a:void 0},e.exports=r},{"../../core/axis_title.js":20,"../../core/text.js":63,"../../math/point.js":102,"../../util/parsingFunctions.js":154}],131:[function(t,e,i){var r=t("../../core/background.js");r.parseXML=function(e,i){var n,a=new r,s=t("../../util/parsingFunctions.js"),o=t("../../math/rgb_color.js"),l=t("../../core/img.js");return e&&(s.parseAttribute(s.getXMLAttr(e,"color"),a.color,o.parse),n=e.find("img"),n.length>0&&a.img(l.parseXML(n,i))),a},e.exports=r},{"../../core/background.js":21,"../../core/img.js":43,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154}],132:[function(t,e,i){e.exports=function(e){var i=t("../../core/data.js");return"function"==typeof i.parseXML?i:(i.parseXML=function(i,r,n){var a,s,o,l,h,u=t("../../core/array_data.js"),c=t("../../core/data_variable.js"),d=t("../../core/data_measure.js"),p=t("../../core/periodic_array_data.js"),f=t("../../core/csv_data.js")(e),g=t("../../core/web_service_data.js")(e),m=t("../../core/multigraph.js")(e),v=t("../../util/parsingFunctions.js"),j=[],b=u;if(i){if(h=v.getXMLAttr(e(i),"adapter"),void 0!==h&&""!==h&&(b=m.getDataAdapter(h),void 0===b))throw new Error("Missing data adapater: "+h);a=i.find("variables"),s=v.getXMLAttr(a,"missingvalue"),o=v.getXMLAttr(a,"missingop");var w=a.find(">variable");w.length>0&&e.each(w,function(t,i){j.push(c.parseXML(e(i)))});var y,x=!1,A=e(i.find(">repeat"));if(A.length>0){var T=v.getXMLAttr(e(A),"period");void 0===T||""===T?n.warning("<repeat> tag requires a 'period' attribute; data treated as non-repeating"):(y=d.parse(j[0].type(),T),x=!0)}var M=e(i.find(">values"));if(M.length>0){M=M[0];var D=b.textToStringArray(j,e(M).text());l=x?new p(j,D,y):new u(j,D)}var _=e(i.find(">csv"));if(_.length>0){_=_[0];var S=v.getXMLAttr(e(_),"location");l=new f(j,r?r.rebaseUrl(S):S,n,r?r.getAjaxThrottle(S):void 0)}var O=e(i.find(">service"));if(O.length>0){O=e(O[0]);var L=v.getXMLAttr(O,"location");l=new g(j,r?r.rebaseUrl(L):L,n,r?r.getAjaxThrottle(L):void 0);var E=v.getXMLAttr(O,"format");E&&l.format(E)}}return l&&(void 0!==s&&l.defaultMissingvalue(s),void 0!==o&&l.defaultMissingop(o),l.adapter(b)),l},i)}},{"../../core/array_data.js":17,"../../core/csv_data.js":24,"../../core/data.js":25,"../../core/data_measure.js":27,"../../core/data_variable.js":30,"../../core/multigraph.js":47,"../../core/periodic_array_data.js":52,"../../core/web_service_data.js":66,"../../util/parsingFunctions.js":154}],133:[function(t,e,i){var r=t("../../core/data_variable.js");r.parseXML=function(e,i){var n,a=t("../../util/parsingFunctions.js"),s=a.parseAttribute,o=t("../../core/data_value.js");return e&&a.getXMLAttr(e,"id")&&(n=new r(a.getXMLAttr(e,"id")),s(a.getXMLAttr(e,"column"),n.column,a.parseInteger),s(a.getXMLAttr(e,"type"),n.type,o.parseType),s(a.getXMLAttr(e,"missingvalue"),n.missingvalue,function(t){return o.parse(n.type(),t)}),s(a.getXMLAttr(e,"missingop"),n.missingop,o.parseComparator)),n},e.exports=r},{"../../core/data_value.js":29,"../../core/data_variable.js":30,"../../util/parsingFunctions.js":154}],134:[function(t,e,i){e.exports=function(e){var i=t("../../core/datatips.js");return"function"==typeof i.parseXML?i:(i.parseXML=function(r){var n,a=new i,s=t("../../math/rgb_color.js"),o=t("../../core/datatips_variable.js"),l=t("../../util/parsingFunctions.js"),h=s.parse,u=l.parseAttribute,c=l.parseInteger;return r&&(n=r.find("variable"),n.length>0&&e.each(n,function(t,i){a.variables().add(o.parseXML(e(i)))}),u(l.getXMLAttr(r,"format"),a.formatString),u(l.getXMLAttr(r,"bgcolor"),a.bgcolor,h),u(l.getXMLAttr(r,"bgalpha"),a.bgalpha,parseFloat),u(l.getXMLAttr(r,"border"),a.border,c),u(l.getXMLAttr(r,"bordercolor"),a.bordercolor,h),u(l.getXMLAttr(r,"pad"),a.pad,c)),a},i)}},{"../../core/datatips.js":31,"../../core/datatips_variable.js":32,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154}],135:[function(t,e,i){var r=t("../../core/datatips_variable.js");r.parseXML=function(e){var i=new r,n=t("../../util/parsingFunctions.js");return e&&n.parseAttribute(n.getXMLAttr(e,"format"),i.formatString),i},e.exports=r},{"../../core/datatips_variable.js":32,"../../util/parsingFunctions.js":154}],136:[function(t,e,i){e.exports=function(e){var i=t("../../core/filter.js");return"function"==typeof i.parseXML?i:(i.parseXML=function(r){var n,a=new i,s=t("../../core/filter_option.js"),o=t("../../util/parsingFunctions.js");return r&&(n=r.find("option"),n.length>0&&e.each(n,function(t,i){a.options().add(s.parseXML(e(i)))}),o.parseAttribute(o.getXMLAttr(r,"type"),a.type)),a},i)}},{"../../core/filter.js":38,"../../core/filter_option.js":39,"../../util/parsingFunctions.js":154}],137:[function(t,e,i){var r=t("../../core/filter_option.js");r.parseXML=function(e){var i=t("../../util/parsingFunctions.js"),n=new r;return e&&(n.name(i.getXMLAttr(e,"name")),n.value(""===i.getXMLAttr(e,"value")?void 0:i.getXMLAttr(e,"value"))),n},e.exports=r},{"../../core/filter_option.js":39,"../../util/parsingFunctions.js":154}],138:[function(t,e,i){e.exports=function(e){var i=t("../../core/graph.js"),r=t("../../util/parsingFunctions.js");if("function"==typeof i.parseXML)return i;var n=function(i,a){var s,o=t("../../math/rgb_color.js"),l=e(i),h=l[0].attributes,u=l.children(),c=o.colorNameIsDeprecated;"option"===i.nodeName&&/color/.test(r.getXMLAttr(l,"name"))&&(s=c(r.getXMLAttr(l,"value")),s&&a.warning('Warning: color string "'+r.getXMLAttr(l,"value")+'" is deprecated; use "'+s+'" instead')),h&&e.each(h,function(){/color/.test(this.name)&&(s=c(this.value),s&&a.warning('Warning: color string "'+this.value+'" is deprecated; use "'+s+'" instead'))}),u&&u.each(function(){n(this,a)})};return i.parseXML=function(a,s,o){var l,h=new i,u=t("../../core/axis.js"),c=t("../../core/window.js"),d=t("../../core/legend.js"),p=t("../../core/background.js"),f=t("../../core/plotarea.js"),g=t("../../core/title.js"),m=t("../../core/data.js"),v=t("../../core/plot.js"),j=t("../../util/utilityFunctions.js"),b=j.getDefaultValuesFromXSD();
if(h.multigraph(s),a){try{n(a,o)}catch(w){}l=a.find(">window"),l.length>0&&h.window(c.parseXML(l)),l=a.find(">legend"),l.length>0?h.legend(d.parseXML(l)):h.legend(d.parseXML()),l=a.find(">background"),l.length>0&&h.background(p.parseXML(l,h.multigraph())),l=a.find(">plotarea"),l.length>0&&h.plotarea(f.parseXML(l)),l=a.find(">title"),l.length>0&&h.title(g.parseXML(l,h)),e.each(a.find(">horizontalaxis"),function(t,i){h.axes().add(u.parseXML(e(i),u.HORIZONTAL,o,h.multigraph()))}),e.each(a.find(">verticalaxis"),function(t,i){h.axes().add(u.parseXML(e(i),u.VERTICAL,o,h.multigraph()))}),e.each(a.find(">throttle"),function(t,i){var n=r.getXMLAttr(e(i),"pattern")?r.getXMLAttr(e(i),"pattern"):b.throttle.pattern,a=r.getXMLAttr(e(i),"requests")?r.getXMLAttr(e(i),"requests"):b.throttle.requests,o=r.getXMLAttr(e(i),"period")?r.getXMLAttr(e(i),"period"):b.throttle.period,l=r.getXMLAttr(e(i),"concurrent")?r.getXMLAttr(e(i),"concurrent"):b.throttle.concurrent;s.addAjaxThrottle(n,a,o,l)}),e.each(a.find(">data"),function(t,i){h.data().add(m.parseXML(e(i),h.multigraph(),o))}),e.each(a.find(">plot"),function(t,i){h.plots().add(v.parseXML(e(i),h,o))}),h.postParse()}return h},i}},{"../../core/axis.js":18,"../../core/background.js":21,"../../core/data.js":25,"../../core/graph.js":40,"../../core/legend.js":45,"../../core/plot.js":53,"../../core/plotarea.js":55,"../../core/title.js":64,"../../core/window.js":69,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154,"../../util/utilityFunctions.js":155}],139:[function(t,e,i){var r=t("../../core/grid.js");r.parseXML=function(e){var i,n=new r,a=t("../../math/rgb_color.js"),s=t("../../util/parsingFunctions.js"),o=s.parseAttribute;return e&&(o(s.getXMLAttr(e,"color"),n.color,a.parse),i=s.getXMLAttr(e,"visible"),void 0!==i?n.visible(s.parseBoolean(i)):n.visible(!0)),n},e.exports=r},{"../../core/grid.js":41,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154}],140:[function(t,e,i){var r=t("../../core/icon.js");r.parseXML=function(e){var i=new r,n=t("../../util/parsingFunctions.js"),a=n.parseAttribute,s=n.parseInteger;return e&&(a(n.getXMLAttr(e,"height"),i.height,s),a(n.getXMLAttr(e,"width"),i.width,s),a(n.getXMLAttr(e,"border"),i.border,s)),i},e.exports=r},{"../../core/icon.js":42,"../../util/parsingFunctions.js":154}],141:[function(t,e,i){var r=t("../../core/img.js");r.parseXML=function(e,i){var n,a=t("../../util/parsingFunctions.js"),s=t("../../math/point.js"),o=a.parseAttribute,l=s.parse;if(e&&void 0!==a.getXMLAttr(e,"src")){var h=a.getXMLAttr(e,"src");if(!h)throw new Error('img elment requires a "src" attribute value');i&&(h=i.rebaseUrl(h)),n=new r(h),o(a.getXMLAttr(e,"anchor"),n.anchor,l),o(a.getXMLAttr(e,"base"),n.base,l),o(a.getXMLAttr(e,"position"),n.position,l),o(a.getXMLAttr(e,"frame"),n.frame,function(t){return t.toLowerCase()})}return n},e.exports=r},{"../../core/img.js":43,"../../math/point.js":102,"../../util/parsingFunctions.js":154}],142:[function(t,e,i){var r;e.exports=function(e){return"undefined"!=typeof r?r:(r={},t("./axis.js")(e),t("./data.js")(e),t("./datatips.js")(e),t("./filter.js")(e),t("./graph.js")(e),t("./multigraph.js")(e),t("./plot.js")(e),t("./renderer.js")(e),t("./axis_title.js"),t("./background.js"),t("./datatips_variable.js"),t("./data_variable.js"),t("./filter_option.js"),t("./grid.js"),t("./icon.js"),t("./img.js"),t("./labeler.js"),t("./legend.js"),t("./pan.js"),t("./plotarea.js"),t("./plot_legend.js"),t("./title.js"),t("./window.js"),t("./zoom.js"),r.stringToJQueryXMLObj=function(t){if("string"!=typeof t)return e(t);var i=e.parseXML(t);return e(e(i).children()[0])},r)}},{"./axis.js":129,"./axis_title.js":130,"./background.js":131,"./data.js":132,"./data_variable.js":133,"./datatips.js":134,"./datatips_variable.js":135,"./filter.js":136,"./filter_option.js":137,"./graph.js":138,"./grid.js":139,"./icon.js":140,"./img.js":141,"./labeler.js":143,"./legend.js":144,"./multigraph.js":145,"./pan.js":146,"./plot.js":147,"./plot_legend.js":148,"./plotarea.js":149,"./renderer.js":150,"./title.js":151,"./window.js":152,"./zoom.js":153}],143:[function(t,e,i){var r=t("../../core/labeler.js");r.parseXML=function(e,i,n,a){var s,o=t("../../math/point.js"),l=t("../../math/rgb_color.js"),h=t("../../core/data_measure.js"),u=t("../../core/data_value.js"),c=t("../../core/data_formatter.js"),d=t("../../util/parsingFunctions.js"),p=o.parse,f=function(t,e,i,r){d.parseAttribute(t,e,i)||void 0===n||e(n[r]())},g=function(t){return function(e){return c.create(t,e)}},m=function(t){return function(e){return u.parse(t,e)}};return e&&(s=new r(i),null!==a&&(void 0===a&&(a=d.getXMLAttr(e,"spacing")),f(a,s.spacing,function(t){return h.parse(i.type(),t)},"spacing")),f(d.getXMLAttr(e,"format"),s.formatter,g(i.type()),"formatter"),f(d.getXMLAttr(e,"start"),s.start,m(i.type()),"start"),f(d.getXMLAttr(e,"angle"),s.angle,parseFloat,"angle"),f(d.getXMLAttr(e,"position"),s.position,p,"position"),f(d.getXMLAttr(e,"anchor"),s.anchor,p,"anchor"),f(d.getXMLAttr(e,"densityfactor"),s.densityfactor,parseFloat,"densityfactor"),f(d.getXMLAttr(e,"color"),s.color,l.parse,"color"),f(d.getXMLAttr(e,"visible"),s.visible,d.parseBoolean,"visible")),s},e.exports=r},{"../../core/data_formatter.js":26,"../../core/data_measure.js":27,"../../core/data_value.js":29,"../../core/labeler.js":44,"../../math/point.js":102,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154}],144:[function(t,e,i){var r=t("../../core/legend.js");r.parseXML=function(e){var i,n=new r,a=t("../../util/parsingFunctions.js"),s=t("../../math/point.js"),o=t("../../math/rgb_color.js"),l=t("../../core/icon.js"),h=a.parseAttribute,u=a.parseInteger,c=s.parse,d=o.parse;return e&&(h(a.getXMLAttr(e,"visible"),n.visible,a.parseBoolean),h(a.getXMLAttr(e,"base"),n.base,c),h(a.getXMLAttr(e,"anchor"),n.anchor,c),h(a.getXMLAttr(e,"position"),n.position,c),h(a.getXMLAttr(e,"frame"),n.frame),h(a.getXMLAttr(e,"color"),n.color,d),h(a.getXMLAttr(e,"bordercolor"),n.bordercolor,d),h(a.getXMLAttr(e,"opacity"),n.opacity,parseFloat),h(a.getXMLAttr(e,"border"),n.border,u),h(a.getXMLAttr(e,"rows"),n.rows,u),h(a.getXMLAttr(e,"columns"),n.columns,u),h(a.getXMLAttr(e,"cornerradius"),n.cornerradius,u),h(a.getXMLAttr(e,"padding"),n.padding,u),i=e.find("icon"),i.length>0&&n.icon(l.parseXML(i))),n},e.exports=r},{"../../core/icon.js":42,"../../core/legend.js":45,"../../math/point.js":102,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154}],145:[function(t,e,i){e.exports=function(e){var i=t("../../core/multigraph.js")(e);return"function"==typeof i.parseXML?i:(i.parseXML=function(r,n,a){var s,o=new i,l=o.graphs(),h=t("../../core/graph.js");return o.mugl(n),r&&(s=r.find(">graph"),s.length>0?e.each(s,function(t,i){l.add(h.parseXML(e(i),o,a))}):0===s.length&&r.children().length>0&&l.add(h.parseXML(r,o,a))),o},i)}},{"../../core/graph.js":40,"../../core/multigraph.js":47}],146:[function(t,e,i){var r=t("../../core/pan.js");r.parseXML=function(e,i){var n=new r,a=t("../../util/parsingFunctions.js"),s=t("../../core/data_value.js"),o=a.parseAttribute,l=function(t){return s.parse(i,t)};return e&&(o(a.getXMLAttr(e,"allowed"),n.allowed,a.parseBoolean),o(a.getXMLAttr(e,"min"),n.min,l),o(a.getXMLAttr(e,"max"),n.max,l)),n},e.exports=r},{"../../core/data_value.js":29,"../../core/pan.js":51,"../../util/parsingFunctions.js":154}],147:[function(t,e,i){e.exports=function(e){var i=t("../../core/plot.js");return"function"==typeof i.parseXML?i:(i.parseXML=function(i,r,n){var a,s,o,l,h,u,c=t("../../core/data_plot.js"),d=t("../../core/plot_legend.js"),p=t("../../core/constant_plot.js"),f=t("../../core/data_value.js"),g=t("../../core/renderer.js"),m=t("../../core/filter.js"),v=t("../../core/datatips.js"),j=t("../../util/parsingFunctions.js");if(i){if(u=i.find(">verticalaxis"),1===u.length&&void 0!==j.getXMLAttr(u,"ref")&&r&&(o=r.axisById(j.getXMLAttr(u,"ref")),void 0===o))throw new Error("Plot Vertical Axis Error: The graph does not contain an axis with an id of '"+j.getXMLAttr(u,"ref")+"'");if(u=i.find("verticalaxis constant"),u.length>0){var b=j.getXMLAttr(u,"value");if(void 0===b)throw new Error("Constant Plot Error: A 'value' attribute is needed to define a Constant Plot");a=new p(f.parse(o.type(),b))}else a=new c;if(a.verticalaxis(o),u=i.find(">horizontalaxis"),1===u.length&&void 0!==j.getXMLAttr(u,"ref")&&r){if(s=r.axisById(j.getXMLAttr(u,"ref")),void 0===s)throw new Error("Plot Horizontal Axis Error: The graph does not contain an axis with an id of '"+j.getXMLAttr(u,"ref")+"'");a.horizontalaxis(s)}a instanceof c&&(0===i.find("horizontalaxis variable").length&&a.variable().add(null),u=i.find("horizontalaxis variable, verticalaxis variable"),u.length>0&&r&&e.each(u,function(t,i){if(h=j.getXMLAttr(e(i),"ref"),l=r.variableById(h),void 0===l)throw new Error("Plot Variable Error: No Data tag contains a variable with an id of '"+h+"'");a.data(l.data()),a.variable().add(l)})),u=i.find("legend"),u.length>0?a.legend(d.parseXML(u,a)):a.legend(d.parseXML(void 0,a)),u=i.find("renderer"),u.length>0&&a.renderer(g.parseXML(u,a,n)),u=i.find("filter"),u.length>0&&a.filter(m.parseXML(u)),u=i.find("datatips"),u.length>0&&a.datatips(v.parseXML(u))}return a},i)}},{"../../core/constant_plot.js":23,"../../core/data_plot.js":28,"../../core/data_value.js":29,"../../core/datatips.js":31,"../../core/filter.js":38,"../../core/plot.js":53,"../../core/plot_legend.js":54,"../../core/renderer.js":56,"../../util/parsingFunctions.js":154}],148:[function(t,e,i){var r=t("../../core/plot_legend.js");r.parseXML=function(e,i){var n=new r,a=t("../../util/parsingFunctions.js"),s=t("../../core/text.js"),o=a.parseAttribute;return e&&(o(a.getXMLAttr(e,"visible"),n.visible,a.parseBoolean),o(a.getXMLAttr(e,"label"),n.label,function(t){return new s(t)})),void 0===n.label()&&("function"==typeof i.variable&&i.variable().size()>=2?n.label(new s(i.variable().at(1).id())):n.label(new s("plot"))),n},e.exports=r},{"../../core/plot_legend.js":54,"../../core/text.js":63,"../../util/parsingFunctions.js":154}],149:[function(t,e,i){var r=t("../../core/plotarea.js");r.parseXML=function(e){var i=new r,n=i.margin(),a=t("../../util/parsingFunctions.js"),s=t("../../math/rgb_color.js"),o=s.parse,l=a.parseAttribute,h=a.parseInteger;return e&&(l(a.getXMLAttr(e,"marginbottom"),n.bottom,h),l(a.getXMLAttr(e,"marginleft"),n.left,h),l(a.getXMLAttr(e,"margintop"),n.top,h),l(a.getXMLAttr(e,"marginright"),n.right,h),l(a.getXMLAttr(e,"border"),i.border,h),l(a.getXMLAttr(e,"color"),i.color,o),l(a.getXMLAttr(e,"bordercolor"),i.bordercolor,o)),i},e.exports=r},{"../../core/plotarea.js":55,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154}],150:[function(t,e,i){e.exports=function(e){var i=t("../../core/renderer.js");return"function"==typeof i.parseXML?i:(i.parseXML=function(r,n,a){var s,o,l=t("../../core/data_value.js"),h=t("../../core/number_value.js"),u=t("../../core/warning.js"),c=t("../../util/parsingFunctions.js");if(t("../../core/renderers/all_renderers.js"),r&&void 0!==c.getXMLAttr(r,"type")){if(s=i.Type.parse(c.getXMLAttr(r,"type")),!i.Type.isInstance(s))throw new Error("unknown renderer type '"+c.getXMLAttr(r,"type")+"'");o=i.create(s),o.plot(n),r.find("option").length>0&&(!function(t,e,i,r){var n,a=e.find("option[name=missingvalue]"),s=e.find("option[name=missingop]");if(a.length>0||s.length>0){var o,u=i.data().columns();for(n=0;n<u.size();++n)o=u.at(n),o.type()===l.NUMBER&&(a.length>0&&void 0===o.missingvalue()&&o.missingvalue(h.parse(c.getXMLAttr(a,"value"))),s.length>0&&void 0===o.missingop()&&o.missingop(l.parseComparator(c.getXMLAttr(s,"value"))))}a.length>0&&(r.warning("Renderer option 'missingvalue' is deprecated; use 'missingvalue' attribute of 'data'/'variable'; instead"),a.remove()),s.length>0&&(r.warning("Renderer option 'missingop' is deprecated; use 'missingvalue' attribute of 'data'/'variable'; instead"),s.remove())}(o,r,n,a),e.each(r.find(">option"),function(t,i){try{o.setOptionFromString(c.getXMLAttr(e(i),"name"),c.getXMLAttr(e(i),"value"),c.getXMLAttr(e(i),"min"),c.getXMLAttr(e(i),"max"))}catch(i){if(!(i instanceof u))throw i;a.warning(i)}}))}return o},i)}},{"../../core/data_value.js":29,"../../core/number_value.js":50,"../../core/renderer.js":56,"../../core/renderers/all_renderers.js":57,"../../core/warning.js":65,"../../util/parsingFunctions.js":154}],151:[function(t,e,i){var r=t("../../core/title.js");r.parseXML=function(e,i){var n,a=t("../../math/point.js"),s=t("../../math/rgb_color.js"),o=t("../../core/text.js"),l=t("../../util/parsingFunctions.js"),h=a.parse,u=s.parse,c=l.parseAttribute,d=l.parseInteger;if(e){var p=e.text();if(""===p)return void 0;n=new r(new o(p),i),c(l.getXMLAttr(e,"frame"),n.frame,function(t){return t.toLowerCase()}),c(l.getXMLAttr(e,"border"),n.border,d),c(l.getXMLAttr(e,"color"),n.color,u),c(l.getXMLAttr(e,"bordercolor"),n.bordercolor,u),c(l.getXMLAttr(e,"opacity"),n.opacity,parseFloat),c(l.getXMLAttr(e,"padding"),n.padding,d),c(l.getXMLAttr(e,"cornerradius"),n.cornerradius,d),c(l.getXMLAttr(e,"anchor"),n.anchor,h),c(l.getXMLAttr(e,"base"),n.base,h),c(l.getXMLAttr(e,"position"),n.position,h)}return n},e.exports=r},{"../../core/text.js":63,"../../core/title.js":64,"../../math/point.js":102,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154}],152:[function(t,e,i){var r=t("../../core/window.js");r.parseXML=function(e){var i,n=new r,a=t("../../math/rgb_color.js"),s=t("../../util/parsingFunctions.js"),o=s.parseAttribute,l=s.parseInteger;return e&&(o(s.getXMLAttr(e,"width"),n.width,l),o(s.getXMLAttr(e,"height"),n.height,l),o(s.getXMLAttr(e,"border"),n.border,l),i=s.getXMLAttr(e,"margin"),void 0!==i&&!function(t){n.margin().set(t,t,t,t)}(parseInt(i,10)),i=s.getXMLAttr(e,"padding"),void 0!==i&&!function(t){n.padding().set(t,t,t,t)}(parseInt(i,10)),o(s.getXMLAttr(e,"bordercolor"),n.bordercolor,a.parse)),n},e.exports=r},{"../../core/window.js":69,"../../math/rgb_color.js":103,"../../util/parsingFunctions.js":154}],153:[function(t,e,i){var r=t("../../core/zoom.js");r.parseXML=function(e,i){var n,a=new r,s=t("../../core/data_value.js"),o=t("../../core/data_measure.js"),l=t("../../util/parsingFunctions.js"),h=l.parseAttribute,u=function(t){return o.parse(i,t)};return e&&(h(l.getXMLAttr(e,"allowed"),a.allowed,l.parseBoolean),h(l.getXMLAttr(e,"min"),a.min,u),h(l.getXMLAttr(e,"max"),a.max,u),n=l.getXMLAttr(e,"anchor"),void 0!==n&&("none"===n.toLowerCase()?a.anchor(null):a.anchor(s.parse(i,n)))),a},e.exports=r},{"../../core/data_measure.js":27,"../../core/data_value.js":29,"../../core/zoom.js":70,"../../util/parsingFunctions.js":154}],154:[function(t,e,i){var r={};r.parseAttribute=function(t,e,i){return void 0!==t?(e(void 0!==i?i(t):t),!0):!1},r.parseInteger=function(t){return parseInt(t,10)},r.parseBoolean=function(t){if("string"!=typeof t)return t;switch(t.toLowerCase()){case"true":case"yes":return!0;case"false":case"no":return!1;default:return t}},r.getXMLAttr=function(t,e){return t.length>=1&&t[0].hasAttribute(e)?t.attr(e):void 0},e.exports=r},{}],155:[function(t,e,i){utilityFunctions={},utilityFunctions.getKeys=function(t){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(e);return i},utilityFunctions.coerceToString=function(t){return"undefined"!=typeof t?String(t):t},utilityFunctions.insertDefaults=function(t,e,i){var r;for(r=0;r<i.length;r++)void 0===e[i[r]]||"object"==typeof e[i[r]]&&null!==e[i[r]]||t.attributes().indexOf(i[r])>-1&&t.attribute(i[r]).defaultsTo(e[i[r]]);return t},utilityFunctions.getDefaultValuesFromXSD=function(){var e=t("../core/datetime_value.js"),i=t("../core/number_value.js"),r=t("../math/displacement.js"),n=t("../math/insets.js"),a=t("../math/point.js"),s=t("../math/rgb_color.js");return{window:{border:2,margin:function(){return new n(2,2,2,2)},padding:function(){return new n(5,5,5,5)},bordercolor:function(){return new s.parse("0x000000")}},legend:{icon:{height:30,width:40,border:1},visible:null,base:function(){return new a(1,1)},anchor:function(){return new a(1,1)},position:function(){return new a(0,0)},frame:"plot",color:function(){return new s.parse("0xffffff")},bordercolor:function(){return new s.parse("0x000000")},opacity:1,border:1,rows:void 0,columns:void 0,cornerradius:0,padding:0},background:{img:{src:void 0,anchor:function(){return new a(-1,-1)},base:function(){return new a(-1,-1)},position:function(){return new a(0,0)},frame:"padding"},color:"0xffffff"},plotarea:{margin:function(){return new n(10,38,35,35)},border:0,color:null,bordercolor:function(){return new s.parse("0xeeeeee")}},title:{text:void 0,frame:"padding",border:0,color:function(){return new s.parse("0xffffff")},bordercolor:function(){return new s.parse("0x000000")},opacity:1,padding:0,cornerradius:15,anchor:function(){return new a(0,1)},base:function(){return new a(0,1)},position:function(){return new a(0,0)}},horizontalaxis:{title:{content:void 0,anchor:void 0,base:0,position:void 0,"position-horizontal-top":function(){return new a(0,15)},"position-horizontal-bottom":function(){return new a(0,-18)},"position-vertical-right":function(){return new a(33,0)},"position-vertical-left":function(){return new a(-25,0)},"anchor-horizontal-top":function(){return new a(0,-1)},"anchor-horizontal-bottom":function(){return new a(0,1)},"anchor-vertical-right":function(){return new a(-1,0)},"anchor-vertical-left":function(){return new a(1,0)},angle:0},labels:{label:{format:void 0,position:void 0,anchor:void 0,"position-horizontal-top":function(){return new a(0,5)},"position-horizontal-bottom":function(){return new a(0,-5)},"position-vertical-right":function(){return new a(5,0)},"position-vertical-left":function(){return new a(-8,0)},"anchor-horizontal-top":function(){return new a(0,-1)},"anchor-horizontal-bottom":function(){return new a(0,1)},"anchor-vertical-right":function(){return new a(-1,0)},"anchor-vertical-left":function(){return new a(1,0)},angle:0,spacing:void 0,densityfactor:1,color:function(){return new s.parse("0x000000")},visible:!0},"start-number":function(){return new i(0)},"start-datetime":function(){return new e(0)},angle:0,position:function(){return new a(0,0)},anchor:function(){return new a(0,0)},color:function(){return new s.parse("0x000000")},visible:!0,defaultNumberSpacing:[1e4,5e3,2e3,1e3,500,200,100,50,20,10,5,2,1,.1,.01,.001],defaultDatetimeSpacing:["1000Y","500Y","200Y","100Y","50Y","20Y","10Y","5Y","2Y","1Y","6M","3M","2M","1M","7D","3D","2D","1D","12H","6H","3H","2H","1H"],"function":void 0,densityfactor:void 0},grid:{color:function(){return new s.parse("0xeeeeee")},visible:!1},pan:{allowed:!0,min:null,max:null},zoom:{allowed:!0,min:void 0,max:void 0,anchor:null},binding:{id:void 0,min:void 0,max:void 0},id:void 0,type:"number",length:function(){return new r(1,0)},position:function(){return new a(0,0)},pregap:0,postgap:0,anchor:-1,base:function(){return new a(-1,-1)},min:"auto",minoffset:0,minposition:function(){return new r(-1,0)},max:"auto",maxoffset:0,maxposition:function(){return new r(1,0)},positionbase:void 0,color:function(){return new s(0,0,0)},tickmin:-3,tickmax:3,tickcolor:null,highlightstyle:"axis",linewidth:1,orientation:void 0},verticalaxis:{title:{content:void 0,anchor:function(){return new a(0,-20)},position:function(){return new a(0,1)},angle:"0"},labels:{label:{format:void 0,start:void 0,angle:void 0,position:void 0,anchor:void 0,spacing:void 0,densityfactor:void 0},format:"%1d",visible:"true",start:"0",angle:"0.0",position:"0 0",anchor:"0 0","function":void 0,densityfactor:void 0},grid:{visible:"false"},pan:{allowed:"yes",min:void 0,max:void 0},zoom:{allowed:"yes",min:void 0,max:void 0,anchor:"none"},binding:{id:void 0,min:void 0,max:void 0},id:void 0,type:"number",position:"0 0",pregap:"0",postgap:"0",anchor:"-1",base:"-1 1",min:"auto",minoffset:"0",minposition:"-1",max:"auto",maxoffset:"0",maxposition:"1",positionbase:void 0,tickmin:"-3",tickmax:"3",highlightstyle:"axis",linewidth:"1",orientation:void 0},plot:{legend:{visible:!0,label:void 0},horizontalaxis:{variable:{ref:void 0,factor:void 0},constant:{value:void 0},ref:void 0},verticalaxis:{variable:{ref:void 0,factor:void 0},constant:{value:void 0},ref:void 0},filter:{option:{name:void 0,value:void 0},type:void 0},renderer:{option:{name:void 0,value:void 0,min:void 0,max:void 0},type:function(){var e=t("../core/renderer.js");return e.Type.parse("line")}},datatips:{variable:{"formatString-number":"%.2f","formatString-datetime":"%d %n %Y"},formatString:"{0}: {1}",bgcolor:function(){return s.parse("0xeeeeee")},bgalpha:1,border:1,bordercolor:function(){return s.parse("0x000000")},pad:2}},throttle:{pattern:"",requests:0,period:0,concurrent:0},data:{variables:{variable:{id:void 0,column:void 0,type:"number",missingvalue:void 0,missingop:void 0},missingvalue:"-9000",missingop:"eq"},values:{content:void 0},csv:{location:void 0},service:{location:void 0}}}},e.exports=utilityFunctions},{"../core/datetime_value.js":36,"../core/number_value.js":50,"../core/renderer.js":56,"../math/displacement.js":99,"../math/insets.js":101,"../math/point.js":102,"../math/rgb_color.js":103}],156:[function(t,e,i){var r={};r.validateNumberRange=function(t,e,i){return"number"==typeof t&&t>=e&&i>=t},r.typeOf=function(t){var e=typeof t;return"object"===e&&(t?"[object Array]"===Object.prototype.toString.call(t)&&(e="array"):e="null"),e},r.isNumberNotNaN=function(t){return"number"==typeof t&&t===t},e.exports=r},{}]},{},[97]),window.multigraph.version="5.1.1",window.multigraph.file="multigraph-nojq-min-5.1.1.js"}(jQuery);